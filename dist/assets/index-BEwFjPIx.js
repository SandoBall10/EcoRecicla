function iP(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Py(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function by(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var ky={exports:{}},Dl={},Ty={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),sP=Symbol.for("react.portal"),oP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),fP=Symbol.for("react.memo"),pP=Symbol.for("react.lazy"),gm=Symbol.iterator;function mP(e){return e===null||typeof e!="object"?null:(e=gm&&e[gm]||e["@@iterator"],typeof e=="function"?e:null)}var Ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cy=Object.assign,jy={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||Ey}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ly(){}Ly.prototype=Yr.prototype;function pd(e,t,n){this.props=e,this.context=t,this.refs=jy,this.updater=n||Ey}var md=pd.prototype=new Ly;md.constructor=pd;Cy(md,Yr.prototype);md.isPureReactComponent=!0;var vm=Array.isArray,Oy=Object.prototype.hasOwnProperty,gd={current:null},Ay={key:!0,ref:!0,__self:!0,__source:!0};function Ry(e,t,n){var i,s={},o=null,l=null;if(t!=null)for(i in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Oy.call(t,i)&&!Ay.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var h=Array(c),d=0;d<c;d++)h[d]=arguments[d+2];s.children=h}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:Ao,type:e,key:o,ref:l,props:s,_owner:gd.current}}function gP(e,t){return{$$typeof:Ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function vP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ym=/\/+/g;function Fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vP(""+e.key):t.toString(36)}function za(e,t,n,i,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ao:case sP:l=!0}}if(l)return l=e,s=s(l),e=i===""?"."+Fu(l,0):i,vm(s)?(n="",e!=null&&(n=e.replace(ym,"$&/")+"/"),za(s,t,n,"",function(d){return d})):s!=null&&(vd(s)&&(s=gP(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ym,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=i===""?".":i+":",vm(e))for(var c=0;c<e.length;c++){o=e[c];var h=i+Fu(o,c);l+=za(o,t,n,h,s)}else if(h=mP(e),typeof h=="function")for(e=h.call(e),c=0;!(o=e.next()).done;)o=o.value,h=i+Fu(o,c++),l+=za(o,t,n,h,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ua(e,t,n){if(e==null)return e;var i=[],s=0;return za(e,i,"","",function(o){return t.call(n,o,s++)}),i}function yP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Ba={transition:null},_P={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:gd};function Ny(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ua,forEach:function(e,t,n){ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ua(e,function(){t++}),t},toArray:function(e){return ua(e,function(t){return t})||[]},only:function(e){if(!vd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Yr;re.Fragment=oP;re.Profiler=lP;re.PureComponent=pd;re.StrictMode=aP;re.Suspense=dP;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;re.act=Ny;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Cy({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=gd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)Oy.call(t,h)&&!Ay.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Ao,type:e.type,key:s,ref:o,props:i,_owner:l}};re.createContext=function(e){return e={$$typeof:cP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uP,_context:e},e.Consumer=e};re.createElement=Ry;re.createFactory=function(e){var t=Ry.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:hP,render:e}};re.isValidElement=vd;re.lazy=function(e){return{$$typeof:pP,_payload:{_status:-1,_result:e},_init:yP}};re.memo=function(e,t){return{$$typeof:fP,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Ba.transition;Ba.transition={};try{e()}finally{Ba.transition=t}};re.unstable_act=Ny;re.useCallback=function(e,t){return ct.current.useCallback(e,t)};re.useContext=function(e){return ct.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};re.useEffect=function(e,t){return ct.current.useEffect(e,t)};re.useId=function(){return ct.current.useId()};re.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return ct.current.useMemo(e,t)};re.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};re.useRef=function(e){return ct.current.useRef(e)};re.useState=function(e){return ct.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return ct.current.useTransition()};re.version="18.3.1";Ty.exports=re;var C=Ty.exports;const no=Py(C),wP=iP({__proto__:null,default:no},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=C,SP=Symbol.for("react.element"),PP=Symbol.for("react.fragment"),bP=Object.prototype.hasOwnProperty,kP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TP={key:!0,ref:!0,__self:!0,__source:!0};function Iy(e,t,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(i in t)bP.call(t,i)&&!TP.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:SP,type:e,key:o,ref:l,props:s,_owner:kP.current}}Dl.Fragment=PP;Dl.jsx=Iy;Dl.jsxs=Iy;ky.exports=Dl;var g=ky.exports,zc={},My={exports:{}},jt={},Dy={exports:{}},zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,J){var V=I.length;I.push(J);e:for(;0<V;){var Q=V-1>>>1,ae=I[Q];if(0<s(ae,J))I[Q]=J,I[V]=ae,V=Q;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var J=I[0],V=I.pop();if(V!==J){I[0]=V;e:for(var Q=0,ae=I.length,Be=ae>>>1;Q<Be;){var fe=2*(Q+1)-1,ue=I[fe],ee=fe+1,dt=I[ee];if(0>s(ue,V))ee<ae&&0>s(dt,ue)?(I[Q]=dt,I[ee]=V,Q=ee):(I[Q]=ue,I[fe]=V,Q=fe);else if(ee<ae&&0>s(dt,V))I[Q]=dt,I[ee]=V,Q=ee;else break e}}return J}function s(I,J){var V=I.sortIndex-J.sortIndex;return V!==0?V:I.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,p=null,y=3,_=!1,S=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var J=n(d);J!==null;){if(J.callback===null)i(d);else if(J.startTime<=I)i(d),J.sortIndex=J.expirationTime,t(h,J);else break;J=n(d)}}function j(I){if(k=!1,b(I),!S)if(n(h)!==null)S=!0,$e(R);else{var J=n(d);J!==null&&ve(j,J.startTime-I)}}function R(I,J){S=!1,k&&(k=!1,P(D),D=-1),_=!0;var V=y;try{for(b(J),p=n(h);p!==null&&(!(p.expirationTime>J)||I&&!oe());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,y=p.priorityLevel;var ae=Q(p.expirationTime<=J);J=e.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(h)&&i(h),b(J)}else i(h);p=n(h)}if(p!==null)var Be=!0;else{var fe=n(d);fe!==null&&ve(j,fe.startTime-J),Be=!1}return Be}finally{p=null,y=V,_=!1}}var N=!1,z=null,D=-1,q=5,Z=-1;function oe(){return!(e.unstable_now()-Z<q)}function Le(){if(z!==null){var I=e.unstable_now();Z=I;var J=!0;try{J=z(!0,I)}finally{J?mn():(N=!1,z=null)}}else N=!1}var mn;if(typeof x=="function")mn=function(){x(Le)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,$o=ot.port2;ot.port1.onmessage=Le,mn=function(){$o.postMessage(null)}}else mn=function(){E(Le,0)};function $e(I){z=I,N||(N=!0,mn())}function ve(I,J){D=E(function(){I(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,$e(R))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(I){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var V=y;y=J;try{return I()}finally{y=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=y;y=I;try{return J()}finally{y=V}},e.unstable_scheduleCallback=function(I,J,V){var Q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,I){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=V+ae,I={id:m++,callback:J,priorityLevel:I,startTime:V,expirationTime:ae,sortIndex:-1},V>Q?(I.sortIndex=V,t(d,I),n(h)===null&&I===n(d)&&(k?(P(D),D=-1):k=!0,ve(j,V-Q))):(I.sortIndex=ae,t(h,I),S||_||(S=!0,$e(R))),I},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(I){var J=y;return function(){var V=y;y=J;try{return I.apply(this,arguments)}finally{y=V}}}})(zy);Dy.exports=zy;var EP=Dy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=C,Et=EP;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var By=new Set,io={};function qi(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(io[e]=t,e=0;e<t.length;e++)By.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=Object.prototype.hasOwnProperty,jP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},wm={};function LP(e){return Bc.call(wm,e)?!0:Bc.call(_m,e)?!1:jP.test(e)?wm[e]=!0:(_m[e]=!0,!1)}function OP(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AP(e,t,n,i){if(t===null||typeof t>"u"||OP(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,i,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var yd=/[\-:]([a-z])/g;function _d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yd,_d);Qe[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yd,_d);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yd,_d);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function wd(e,t,n,i){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AP(t,n,s,i)&&(n=null),i||s===null?LP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Nn=CP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),mr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Fc=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Fy=Symbol.for("react.offscreen"),xm=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,$u;function As(e){if($u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||""}return`
`+$u+e}var Wu=!1;function Hu(e,t){if(!e||Wu)return"";Wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var h=`
`+s[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=c);break}}}finally{Wu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?As(e):""}function RP(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Hu(e.type,!1),e;case 11:return e=Hu(e.type.render,!1),e;case 1:return e=Hu(e.type,!0),e;default:return""}}function $c(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case mr:return"Portal";case Vc:return"Profiler";case xd:return"StrictMode";case Uc:return"Suspense";case Fc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uy:return(e.displayName||"Context")+".Consumer";case Vy:return(e._context.displayName||"Context")+".Provider";case Sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pd:return t=e.displayName||null,t!==null?t:$c(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return $c(e(t))}catch{}}return null}function NP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $c(t);case 8:return t===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IP(e){var t=$y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=IP(e))}function Wy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$y(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wc(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sm(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=li(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hy(e,t){t=t.checked,t!=null&&wd(e,"checked",t,!1)}function Hc(e,t){Hy(e,t);var n=li(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zc(e,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zc(e,t,n){(t!=="number"||Xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Ar(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+li(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Rs(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:li(n)}}function Zy(e,t){var n=li(t.value),i=li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,Ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MP=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(e){MP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vs[t]=Vs[e]})});function Gy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vs.hasOwnProperty(e)&&Vs[e]?(""+t).trim():t+"px"}function Jy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Gy(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var DP=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gc(e,t){if(t){if(DP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Jc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function bd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qc=null,Rr=null,Nr=null;function Tm(e){if(e=Io(e)){if(typeof Qc!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Fl(t),Qc(e.stateNode,e.type,t))}}function Yy(e){Rr?Nr?Nr.push(e):Nr=[e]:Rr=e}function Qy(){if(Rr){var e=Rr,t=Nr;if(Nr=Rr=null,Tm(e),t)for(e=0;e<t.length;e++)Tm(t[e])}}function Xy(e,t){return e(t)}function e_(){}var Zu=!1;function t_(e,t,n){if(Zu)return e(t,n);Zu=!0;try{return Xy(e,t,n)}finally{Zu=!1,(Rr!==null||Nr!==null)&&(e_(),Qy())}}function so(e,t){var n=e.stateNode;if(n===null)return null;var i=Fl(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Xc=!1;if(jn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Xc=!1}function zP(e,t,n,i,s,o,l,c,h){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var Us=!1,el=null,tl=!1,eh=null,BP={onError:function(e){Us=!0,el=e}};function VP(e,t,n,i,s,o,l,c,h){Us=!1,el=null,zP.apply(BP,arguments)}function UP(e,t,n,i,s,o,l,c,h){if(VP.apply(this,arguments),Us){if(Us){var d=el;Us=!1,el=null}else throw Error(B(198));tl||(tl=!0,eh=d)}}function Ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Em(e){if(Ki(e)!==e)throw Error(B(188))}function FP(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Em(s),e;if(o===i)return Em(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,i=o;break}if(c===i){l=!0,i=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,i=s;break}if(c===i){l=!0,i=o,n=s;break}c=c.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function i_(e){return e=FP(e),e!==null?r_(e):null}function r_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r_(e);if(t!==null)return t;e=e.sibling}return null}var s_=Et.unstable_scheduleCallback,Cm=Et.unstable_cancelCallback,$P=Et.unstable_shouldYield,WP=Et.unstable_requestPaint,Re=Et.unstable_now,HP=Et.unstable_getCurrentPriorityLevel,kd=Et.unstable_ImmediatePriority,o_=Et.unstable_UserBlockingPriority,nl=Et.unstable_NormalPriority,ZP=Et.unstable_LowPriority,a_=Et.unstable_IdlePriority,zl=null,cn=null;function qP(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:JP,KP=Math.log,GP=Math.LN2;function JP(e){return e>>>=0,e===0?32:31-(KP(e)/GP|0)|0}var fa=64,pa=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function il(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?i=Ns(c):(o&=l,o!==0&&(i=Ns(o)))}else l=n&~s,l!==0?i=Ns(l):o!==0&&(i=Ns(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Xt(t),s=1<<n,i|=e[n],t&=~s;return i}function YP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QP(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Xt(o),c=1<<l,h=s[l];h===-1?(!(c&n)||c&i)&&(s[l]=YP(c,t)):h<=t&&(e.expiredLanes|=c),o&=~c}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l_(){var e=fa;return fa<<=1,!(fa&4194240)&&(fa=64),e}function qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function XP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Xt(n),o=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~o}}function Td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var de=0;function u_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c_,Ed,h_,d_,f_,nh=!1,ma=[],Xn=null,ei=null,ti=null,oo=new Map,ao=new Map,Zn=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(t.pointerId)}}function ks(e,t,n,i,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Io(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tb(e,t,n,i,s){switch(t){case"focusin":return Xn=ks(Xn,e,t,n,i,s),!0;case"dragenter":return ei=ks(ei,e,t,n,i,s),!0;case"mouseover":return ti=ks(ti,e,t,n,i,s),!0;case"pointerover":var o=s.pointerId;return oo.set(o,ks(oo.get(o)||null,e,t,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,ao.set(o,ks(ao.get(o)||null,e,t,n,i,s)),!0}return!1}function p_(e){var t=Ni(e.target);if(t!==null){var n=Ki(t);if(n!==null){if(t=n.tag,t===13){if(t=n_(n),t!==null){e.blockedOn=t,f_(e.priority,function(){h_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ih(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Yc=i,n.target.dispatchEvent(i),Yc=null}else return t=Io(n),t!==null&&Ed(t),e.blockedOn=n,!1;t.shift()}return!0}function Lm(e,t,n){Va(e)&&n.delete(t)}function nb(){nh=!1,Xn!==null&&Va(Xn)&&(Xn=null),ei!==null&&Va(ei)&&(ei=null),ti!==null&&Va(ti)&&(ti=null),oo.forEach(Lm),ao.forEach(Lm)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,nb)))}function lo(e){function t(s){return Ts(s,e)}if(0<ma.length){Ts(ma[0],e);for(var n=1;n<ma.length;n++){var i=ma[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Xn!==null&&Ts(Xn,e),ei!==null&&Ts(ei,e),ti!==null&&Ts(ti,e),oo.forEach(t),ao.forEach(t),n=0;n<Zn.length;n++)i=Zn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)p_(n),n.blockedOn===null&&Zn.shift()}var Ir=Nn.ReactCurrentBatchConfig,rl=!0;function ib(e,t,n,i){var s=de,o=Ir.transition;Ir.transition=null;try{de=1,Cd(e,t,n,i)}finally{de=s,Ir.transition=o}}function rb(e,t,n,i){var s=de,o=Ir.transition;Ir.transition=null;try{de=4,Cd(e,t,n,i)}finally{de=s,Ir.transition=o}}function Cd(e,t,n,i){if(rl){var s=ih(e,t,n,i);if(s===null)ic(e,t,i,sl,n),jm(e,i);else if(tb(s,e,t,n,i))i.stopPropagation();else if(jm(e,i),t&4&&-1<eb.indexOf(e)){for(;s!==null;){var o=Io(s);if(o!==null&&c_(o),o=ih(e,t,n,i),o===null&&ic(e,t,i,sl,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else ic(e,t,i,null,n)}}var sl=null;function ih(e,t,n,i){if(sl=null,e=bd(i),e=Ni(e),e!==null)if(t=Ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function m_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HP()){case kd:return 1;case o_:return 4;case nl:case ZP:return 16;case a_:return 536870912;default:return 16}default:return 16}}var Gn=null,jd=null,Ua=null;function g_(){if(Ua)return Ua;var e,t=jd,n=t.length,i,s="value"in Gn?Gn.value:Gn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===s[o-i];i++);return Ua=s.slice(e,1<i?1-i:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function Om(){return!1}function Lt(e){function t(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ga:Om,this.isPropagationStopped=Om,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=Lt(Qr),No=Ee({},Qr,{view:0,detail:0}),sb=Lt(No),Ku,Gu,Es,Bl=Ee({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(Ku=e.screenX-Es.screenX,Gu=e.screenY-Es.screenY):Gu=Ku=0,Es=e),Ku)},movementY:function(e){return"movementY"in e?e.movementY:Gu}}),Am=Lt(Bl),ob=Ee({},Bl,{dataTransfer:0}),ab=Lt(ob),lb=Ee({},No,{relatedTarget:0}),Ju=Lt(lb),ub=Ee({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=Lt(ub),hb=Ee({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),db=Lt(hb),fb=Ee({},Qr,{data:0}),Rm=Lt(fb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gb[e])?!!t[e]:!1}function Od(){return vb}var yb=Ee({},No,{key:function(e){if(e.key){var t=pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_b=Lt(yb),wb=Ee({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=Lt(wb),xb=Ee({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),Sb=Lt(xb),Pb=Ee({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bb=Lt(Pb),kb=Ee({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tb=Lt(kb),Eb=[9,13,27,32],Ad=jn&&"CompositionEvent"in window,Fs=null;jn&&"documentMode"in document&&(Fs=document.documentMode);var Cb=jn&&"TextEvent"in window&&!Fs,v_=jn&&(!Ad||Fs&&8<Fs&&11>=Fs),Im=" ",Mm=!1;function y_(e,t){switch(e){case"keyup":return Eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function jb(e,t){switch(e){case"compositionend":return __(t);case"keypress":return t.which!==32?null:(Mm=!0,Im);case"textInput":return e=t.data,e===Im&&Mm?null:e;default:return null}}function Lb(e,t){if(vr)return e==="compositionend"||!Ad&&y_(e,t)?(e=g_(),Ua=jd=Gn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v_&&t.locale!=="ko"?null:t.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ob[e.type]:t==="textarea"}function w_(e,t,n,i){Yy(i),t=ol(t,"onChange"),0<t.length&&(n=new Ld("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $s=null,uo=null;function Ab(e){O_(e,0)}function Vl(e){var t=wr(e);if(Wy(t))return e}function Rb(e,t){if(e==="change")return t}var x_=!1;if(jn){var Yu;if(jn){var Qu="oninput"in document;if(!Qu){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),Qu=typeof zm.oninput=="function"}Yu=Qu}else Yu=!1;x_=Yu&&(!document.documentMode||9<document.documentMode)}function Bm(){$s&&($s.detachEvent("onpropertychange",S_),uo=$s=null)}function S_(e){if(e.propertyName==="value"&&Vl(uo)){var t=[];w_(t,uo,e,bd(e)),t_(Ab,t)}}function Nb(e,t,n){e==="focusin"?(Bm(),$s=t,uo=n,$s.attachEvent("onpropertychange",S_)):e==="focusout"&&Bm()}function Ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(uo)}function Mb(e,t){if(e==="click")return Vl(t)}function Db(e,t){if(e==="input"||e==="change")return Vl(t)}function zb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:zb;function co(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Bc.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,t){var n=Vm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vm(n)}}function P_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b_(){for(var e=window,t=Xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xa(e.document)}return t}function Rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bb(e){var t=b_(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&P_(n.ownerDocument.documentElement,n)){if(i!==null&&Rd(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!e.extend&&o>i&&(s=i,i=o,o=s),s=Um(n,o);var l=Um(n,i);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vb=jn&&"documentMode"in document&&11>=document.documentMode,yr=null,rh=null,Ws=null,sh=!1;function Fm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sh||yr==null||yr!==Xa(i)||(i=yr,"selectionStart"in i&&Rd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ws&&co(Ws,i)||(Ws=i,i=ol(rh,"onSelect"),0<i.length&&(t=new Ld("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yr)))}function va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},Xu={},k_={};jn&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Ul(e){if(Xu[e])return Xu[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k_)return Xu[e]=t[n];return e}var T_=Ul("animationend"),E_=Ul("animationiteration"),C_=Ul("animationstart"),j_=Ul("transitionend"),L_=new Map,$m="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){L_.set(e,t),qi(t,[e])}for(var ec=0;ec<$m.length;ec++){var tc=$m[ec],Ub=tc.toLowerCase(),Fb=tc[0].toUpperCase()+tc.slice(1);di(Ub,"on"+Fb)}di(T_,"onAnimationEnd");di(E_,"onAnimationIteration");di(C_,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(j_,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Wm(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,UP(i,t,void 0,e),e.currentTarget=null}function O_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var l=i.length-1;0<=l;l--){var c=i[l],h=c.instance,d=c.currentTarget;if(c=c.listener,h!==o&&s.isPropagationStopped())break e;Wm(s,c,d),o=h}else for(l=0;l<i.length;l++){if(c=i[l],h=c.instance,d=c.currentTarget,c=c.listener,h!==o&&s.isPropagationStopped())break e;Wm(s,c,d),o=h}}}if(tl)throw e=eh,tl=!1,eh=null,e}function ye(e,t){var n=t[ch];n===void 0&&(n=t[ch]=new Set);var i=e+"__bubble";n.has(i)||(A_(t,e,2,!1),n.add(i))}function nc(e,t,n){var i=0;t&&(i|=4),A_(n,e,i,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function ho(e){if(!e[ya]){e[ya]=!0,By.forEach(function(n){n!=="selectionchange"&&($b.has(n)||nc(n,!1,e),nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,nc("selectionchange",!1,t))}}function A_(e,t,n,i){switch(m_(t)){case 1:var s=ib;break;case 4:s=rb;break;default:s=Cd}n=s.bind(null,t,n,e),s=void 0,!Xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ic(e,t,n,i,s){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Ni(c),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}c=c.parentNode}}i=i.return}t_(function(){var d=o,m=bd(n),p=[];e:{var y=L_.get(e);if(y!==void 0){var _=Ld,S=e;switch(e){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":_=_b;break;case"focusin":S="focus",_=Ju;break;case"focusout":S="blur",_=Ju;break;case"beforeblur":case"afterblur":_=Ju;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Sb;break;case T_:case E_:case C_:_=cb;break;case j_:_=bb;break;case"scroll":_=sb;break;case"wheel":_=Tb;break;case"copy":case"cut":case"paste":_=db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Nm}var k=(t&4)!==0,E=!k&&e==="scroll",P=k?y!==null?y+"Capture":null:y;k=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,P!==null&&(j=so(x,P),j!=null&&k.push(fo(x,j,b)))),E)break;x=x.return}0<k.length&&(y=new _(y,S,null,n,m),p.push({event:y,listeners:k}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",y&&n!==Yc&&(S=n.relatedTarget||n.fromElement)&&(Ni(S)||S[Ln]))break e;if((_||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=d,S=S?Ni(S):null,S!==null&&(E=Ki(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=d),_!==S)){if(k=Am,j="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(k=Nm,j="onPointerLeave",P="onPointerEnter",x="pointer"),E=_==null?y:wr(_),b=S==null?y:wr(S),y=new k(j,x+"leave",_,n,m),y.target=E,y.relatedTarget=b,j=null,Ni(m)===d&&(k=new k(P,x+"enter",S,n,m),k.target=b,k.relatedTarget=E,j=k),E=j,_&&S)t:{for(k=_,P=S,x=0,b=k;b;b=or(b))x++;for(b=0,j=P;j;j=or(j))b++;for(;0<x-b;)k=or(k),x--;for(;0<b-x;)P=or(P),b--;for(;x--;){if(k===P||P!==null&&k===P.alternate)break t;k=or(k),P=or(P)}k=null}else k=null;_!==null&&Hm(p,y,_,k,!1),S!==null&&E!==null&&Hm(p,E,S,k,!0)}}e:{if(y=d?wr(d):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var R=Rb;else if(Dm(y))if(x_)R=Db;else{R=Ib;var N=Nb}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=Mb);if(R&&(R=R(e,d))){w_(p,R,n,m);break e}N&&N(e,y,d),e==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&Zc(y,"number",y.value)}switch(N=d?wr(d):window,e){case"focusin":(Dm(N)||N.contentEditable==="true")&&(yr=N,rh=d,Ws=null);break;case"focusout":Ws=rh=yr=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Fm(p,n,m);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":Fm(p,n,m)}var z;if(Ad)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else vr?y_(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(v_&&n.locale!=="ko"&&(vr||D!=="onCompositionStart"?D==="onCompositionEnd"&&vr&&(z=g_()):(Gn=m,jd="value"in Gn?Gn.value:Gn.textContent,vr=!0)),N=ol(d,D),0<N.length&&(D=new Rm(D,e,null,n,m),p.push({event:D,listeners:N}),z?D.data=z:(z=__(n),z!==null&&(D.data=z)))),(z=Cb?jb(e,n):Lb(e,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(m=new Rm("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:d}),m.data=z))}O_(p,t)})}function fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=so(e,n),o!=null&&i.unshift(fo(e,o,s)),o=so(e,t),o!=null&&i.push(fo(e,o,s))),e=e.return}return i}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hm(e,t,n,i,s){for(var o=t._reactName,l=[];n!==null&&n!==i;){var c=n,h=c.alternate,d=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&d!==null&&(c=d,s?(h=so(n,o),h!=null&&l.unshift(fo(n,h,c))):s||(h=so(n,o),h!=null&&l.push(fo(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Wb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function Zm(e){return(typeof e=="string"?e:""+e).replace(Wb,`
`).replace(Hb,"")}function _a(e,t,n){if(t=Zm(t),Zm(e)!==t&&n)throw Error(B(425))}function al(){}var oh=null,ah=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(Kb)}:uh;function Kb(e){setTimeout(function(){throw e})}function rc(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),lo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);lo(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),un="__reactFiber$"+Xr,po="__reactProps$"+Xr,Ln="__reactContainer$"+Xr,ch="__reactEvents$"+Xr,Gb="__reactListeners$"+Xr,Jb="__reactHandles$"+Xr;function Ni(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Km(e);e!==null;){if(n=e[un])return n;e=Km(e)}return t}e=n,n=e.parentNode}return null}function Io(e){return e=e[un]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Fl(e){return e[po]||null}var hh=[],xr=-1;function fi(e){return{current:e}}function _e(e){0>xr||(e.current=hh[xr],hh[xr]=null,xr--)}function ge(e,t){xr++,hh[xr]=e.current,e.current=t}var ui={},st=fi(ui),vt=fi(!1),Fi=ui;function Vr(e,t){var n=e.type.contextTypes;if(!n)return ui;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function ll(){_e(vt),_e(st)}function Gm(e,t,n){if(st.current!==ui)throw Error(B(168));ge(st,t),ge(vt,n)}function R_(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(B(108,NP(e)||"Unknown",s));return Ee({},n,i)}function ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Fi=st.current,ge(st,e),ge(vt,vt.current),!0}function Jm(e,t,n){var i=e.stateNode;if(!i)throw Error(B(169));n?(e=R_(e,t,Fi),i.__reactInternalMemoizedMergedChildContext=e,_e(vt),_e(st),ge(st,e)):_e(vt),ge(vt,n)}var Sn=null,$l=!1,sc=!1;function N_(e){Sn===null?Sn=[e]:Sn.push(e)}function Yb(e){$l=!0,N_(e)}function pi(){if(!sc&&Sn!==null){sc=!0;var e=0,t=de;try{var n=Sn;for(de=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Sn=null,$l=!1}catch(s){throw Sn!==null&&(Sn=Sn.slice(e+1)),s_(kd,pi),s}finally{de=t,sc=!1}}return null}var Sr=[],Pr=0,cl=null,hl=0,Mt=[],Dt=0,$i=null,Pn=1,bn="";function Ei(e,t){Sr[Pr++]=hl,Sr[Pr++]=cl,cl=e,hl=t}function I_(e,t,n){Mt[Dt++]=Pn,Mt[Dt++]=bn,Mt[Dt++]=$i,$i=e;var i=Pn;e=bn;var s=32-Xt(i)-1;i&=~(1<<s),n+=1;var o=32-Xt(t)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,Pn=1<<32-Xt(t)+s|n<<s|i,bn=o+e}else Pn=1<<o|n<<s|i,bn=e}function Nd(e){e.return!==null&&(Ei(e,1),I_(e,1,0))}function Id(e){for(;e===cl;)cl=Sr[--Pr],Sr[Pr]=null,hl=Sr[--Pr],Sr[Pr]=null;for(;e===$i;)$i=Mt[--Dt],Mt[Dt]=null,bn=Mt[--Dt],Mt[Dt]=null,Pn=Mt[--Dt],Mt[Dt]=null}var kt=null,bt=null,xe=!1,Qt=null;function M_(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ym(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,bt=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$i!==null?{id:Pn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,bt=null,!0):!1;default:return!1}}function dh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fh(e){if(xe){var t=bt;if(t){var n=t;if(!Ym(e,t)){if(dh(e))throw Error(B(418));t=ni(n.nextSibling);var i=kt;t&&Ym(e,t)?M_(i,n):(e.flags=e.flags&-4097|2,xe=!1,kt=e)}}else{if(dh(e))throw Error(B(418));e.flags=e.flags&-4097|2,xe=!1,kt=e}}}function Qm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function wa(e){if(e!==kt)return!1;if(!xe)return Qm(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=bt)){if(dh(e))throw D_(),Error(B(418));for(;t;)M_(e,t),t=ni(t.nextSibling)}if(Qm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=ni(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=kt?ni(e.stateNode.nextSibling):null;return!0}function D_(){for(var e=bt;e;)e=ni(e.nextSibling)}function Ur(){bt=kt=null,xe=!1}function Md(e){Qt===null?Qt=[e]:Qt.push(e)}var Qb=Nn.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,e));var s=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function z_(e){function t(P,x){if(e){var b=P.deletions;b===null?(P.deletions=[x],P.flags|=16):b.push(x)}}function n(P,x){if(!e)return null;for(;x!==null;)t(P,x),x=x.sibling;return null}function i(P,x){for(P=new Map;x!==null;)x.key!==null?P.set(x.key,x):P.set(x.index,x),x=x.sibling;return P}function s(P,x){return P=oi(P,x),P.index=0,P.sibling=null,P}function o(P,x,b){return P.index=b,e?(b=P.alternate,b!==null?(b=b.index,b<x?(P.flags|=2,x):b):(P.flags|=2,x)):(P.flags|=1048576,x)}function l(P){return e&&P.alternate===null&&(P.flags|=2),P}function c(P,x,b,j){return x===null||x.tag!==6?(x=dc(b,P.mode,j),x.return=P,x):(x=s(x,b),x.return=P,x)}function h(P,x,b,j){var R=b.type;return R===gr?m(P,x,b.props.children,j,b.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$n&&Xm(R)===x.type)?(j=s(x,b.props),j.ref=Cs(P,x,b),j.return=P,j):(j=Ga(b.type,b.key,b.props,null,P.mode,j),j.ref=Cs(P,x,b),j.return=P,j)}function d(P,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=fc(b,P.mode,j),x.return=P,x):(x=s(x,b.children||[]),x.return=P,x)}function m(P,x,b,j,R){return x===null||x.tag!==7?(x=Vi(b,P.mode,j,R),x.return=P,x):(x=s(x,b),x.return=P,x)}function p(P,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=dc(""+x,P.mode,b),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:return b=Ga(x.type,x.key,x.props,null,P.mode,b),b.ref=Cs(P,null,x),b.return=P,b;case mr:return x=fc(x,P.mode,b),x.return=P,x;case $n:var j=x._init;return p(P,j(x._payload),b)}if(Rs(x)||Ps(x))return x=Vi(x,P.mode,b,null),x.return=P,x;xa(P,x)}return null}function y(P,x,b,j){var R=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:c(P,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ca:return b.key===R?h(P,x,b,j):null;case mr:return b.key===R?d(P,x,b,j):null;case $n:return R=b._init,y(P,x,R(b._payload),j)}if(Rs(b)||Ps(b))return R!==null?null:m(P,x,b,j,null);xa(P,b)}return null}function _(P,x,b,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return P=P.get(b)||null,c(x,P,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ca:return P=P.get(j.key===null?b:j.key)||null,h(x,P,j,R);case mr:return P=P.get(j.key===null?b:j.key)||null,d(x,P,j,R);case $n:var N=j._init;return _(P,x,b,N(j._payload),R)}if(Rs(j)||Ps(j))return P=P.get(b)||null,m(x,P,j,R,null);xa(x,j)}return null}function S(P,x,b,j){for(var R=null,N=null,z=x,D=x=0,q=null;z!==null&&D<b.length;D++){z.index>D?(q=z,z=null):q=z.sibling;var Z=y(P,z,b[D],j);if(Z===null){z===null&&(z=q);break}e&&z&&Z.alternate===null&&t(P,z),x=o(Z,x,D),N===null?R=Z:N.sibling=Z,N=Z,z=q}if(D===b.length)return n(P,z),xe&&Ei(P,D),R;if(z===null){for(;D<b.length;D++)z=p(P,b[D],j),z!==null&&(x=o(z,x,D),N===null?R=z:N.sibling=z,N=z);return xe&&Ei(P,D),R}for(z=i(P,z);D<b.length;D++)q=_(z,P,D,b[D],j),q!==null&&(e&&q.alternate!==null&&z.delete(q.key===null?D:q.key),x=o(q,x,D),N===null?R=q:N.sibling=q,N=q);return e&&z.forEach(function(oe){return t(P,oe)}),xe&&Ei(P,D),R}function k(P,x,b,j){var R=Ps(b);if(typeof R!="function")throw Error(B(150));if(b=R.call(b),b==null)throw Error(B(151));for(var N=R=null,z=x,D=x=0,q=null,Z=b.next();z!==null&&!Z.done;D++,Z=b.next()){z.index>D?(q=z,z=null):q=z.sibling;var oe=y(P,z,Z.value,j);if(oe===null){z===null&&(z=q);break}e&&z&&oe.alternate===null&&t(P,z),x=o(oe,x,D),N===null?R=oe:N.sibling=oe,N=oe,z=q}if(Z.done)return n(P,z),xe&&Ei(P,D),R;if(z===null){for(;!Z.done;D++,Z=b.next())Z=p(P,Z.value,j),Z!==null&&(x=o(Z,x,D),N===null?R=Z:N.sibling=Z,N=Z);return xe&&Ei(P,D),R}for(z=i(P,z);!Z.done;D++,Z=b.next())Z=_(z,P,D,Z.value,j),Z!==null&&(e&&Z.alternate!==null&&z.delete(Z.key===null?D:Z.key),x=o(Z,x,D),N===null?R=Z:N.sibling=Z,N=Z);return e&&z.forEach(function(Le){return t(P,Le)}),xe&&Ei(P,D),R}function E(P,x,b,j){if(typeof b=="object"&&b!==null&&b.type===gr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ca:e:{for(var R=b.key,N=x;N!==null;){if(N.key===R){if(R=b.type,R===gr){if(N.tag===7){n(P,N.sibling),x=s(N,b.props.children),x.return=P,P=x;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$n&&Xm(R)===N.type){n(P,N.sibling),x=s(N,b.props),x.ref=Cs(P,N,b),x.return=P,P=x;break e}n(P,N);break}else t(P,N);N=N.sibling}b.type===gr?(x=Vi(b.props.children,P.mode,j,b.key),x.return=P,P=x):(j=Ga(b.type,b.key,b.props,null,P.mode,j),j.ref=Cs(P,x,b),j.return=P,P=j)}return l(P);case mr:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(P,x.sibling),x=s(x,b.children||[]),x.return=P,P=x;break e}else{n(P,x);break}else t(P,x);x=x.sibling}x=fc(b,P.mode,j),x.return=P,P=x}return l(P);case $n:return N=b._init,E(P,x,N(b._payload),j)}if(Rs(b))return S(P,x,b,j);if(Ps(b))return k(P,x,b,j);xa(P,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(P,x.sibling),x=s(x,b),x.return=P,P=x):(n(P,x),x=dc(b,P.mode,j),x.return=P,P=x),l(P)):n(P,x)}return E}var Fr=z_(!0),B_=z_(!1),dl=fi(null),fl=null,br=null,Dd=null;function zd(){Dd=br=fl=null}function Bd(e){var t=dl.current;_e(dl),e._currentValue=t}function ph(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){fl=e,Dd=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Dd!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(fl===null)throw Error(B(308));br=e,fl.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Ii=null;function Vd(e){Ii===null?Ii=[e]:Ii.push(e)}function V_(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Vd(t)):(n.next=s.next,s.next=n),t.interleaved=n,On(e,i)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,On(e,n)}return s=i.interleaved,s===null?(t.next=t,Vd(i)):(t.next=s.next,s.next=t),i.interleaved=t,On(e,n)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Td(e,n)}}function eg(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pl(e,t,n,i){var s=e.updateQueue;Wn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,d=h.next;h.next=null,l===null?o=d:l.next=d,l=h;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=h))}if(o!==null){var p=s.baseState;l=0,m=d=h=null,c=o;do{var y=c.lane,_=c.eventTime;if((i&y)===y){m!==null&&(m=m.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=e,k=c;switch(y=t,_=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){p=S.call(_,p,y);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,y=typeof S=="function"?S.call(_,p,y):S,y==null)break e;p=Ee({},p,y);break e;case 2:Wn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else _={eventTime:_,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=_,h=p):m=m.next=_,l|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(m===null&&(h=p),s.baseState=h,s.firstBaseUpdate=d,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Hi|=l,e.lanes=l,e.memoizedState=p}}function tg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(B(191,s));s.call(i)}}}var Mo={},hn=fi(Mo),mo=fi(Mo),go=fi(Mo);function Mi(e){if(e===Mo)throw Error(B(174));return e}function Fd(e,t){switch(ge(go,t),ge(mo,e),ge(hn,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}_e(hn),ge(hn,t)}function $r(){_e(hn),_e(mo),_e(go)}function F_(e){Mi(go.current);var t=Mi(hn.current),n=Kc(t,e.type);t!==n&&(ge(mo,e),ge(hn,n))}function $d(e){mo.current===e&&(_e(hn),_e(mo))}var be=fi(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oc=[];function Wd(){for(var e=0;e<oc.length;e++)oc[e]._workInProgressVersionPrimary=null;oc.length=0}var Wa=Nn.ReactCurrentDispatcher,ac=Nn.ReactCurrentBatchConfig,Wi=0,Te=null,Ue=null,He=null,gl=!1,Hs=!1,vo=0,Xb=0;function Xe(){throw Error(B(321))}function Hd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Zd(e,t,n,i,s,o){if(Wi=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wa.current=e===null||e.memoizedState===null?ik:rk,e=n(i,s),Hs){o=0;do{if(Hs=!1,vo=0,25<=o)throw Error(B(301));o+=1,He=Ue=null,t.updateQueue=null,Wa.current=sk,e=n(i,s)}while(Hs)}if(Wa.current=vl,t=Ue!==null&&Ue.next!==null,Wi=0,He=Ue=Te=null,gl=!1,t)throw Error(B(300));return e}function qd(){var e=vo!==0;return vo=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Te.memoizedState=He=e:He=He.next=e,He}function Ut(){if(Ue===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=He===null?Te.memoizedState:He.next;if(t!==null)He=t,Ue=e;else{if(e===null)throw Error(B(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},He===null?Te.memoizedState=He=e:He=He.next=e}return He}function yo(e,t){return typeof t=="function"?t(e):t}function lc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=Ue,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var c=l=null,h=null,d=o;do{var m=d.lane;if((Wi&m)===m)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(c=h=p,l=i):h=h.next=p,Te.lanes|=m,Hi|=m}d=d.next}while(d!==null&&d!==o);h===null?l=i:h.next=c,tn(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseState=l,t.baseQueue=h,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Te.lanes|=o,Hi|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);tn(o,t.memoizedState)||(gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function $_(){}function W_(e,t){var n=Te,i=Ut(),s=t(),o=!tn(i.memoizedState,s);if(o&&(i.memoizedState=s,gt=!0),i=i.queue,Kd(q_.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,_o(9,Z_.bind(null,n,i,s,t),void 0,null),Ze===null)throw Error(B(349));Wi&30||H_(n,t,s)}return s}function H_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Z_(e,t,n,i){t.value=n,t.getSnapshot=i,K_(t)&&G_(e)}function q_(e,t,n){return n(function(){K_(t)&&G_(e)})}function K_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function G_(e){var t=On(e,1);t!==null&&en(t,e,1,-1)}function ng(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=nk.bind(null,Te,e),[t.memoizedState,e]}function _o(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function J_(){return Ut().memoizedState}function Ha(e,t,n,i){var s=ln();Te.flags|=e,s.memoizedState=_o(1|t,n,void 0,i===void 0?null:i)}function Wl(e,t,n,i){var s=Ut();i=i===void 0?null:i;var o=void 0;if(Ue!==null){var l=Ue.memoizedState;if(o=l.destroy,i!==null&&Hd(i,l.deps)){s.memoizedState=_o(t,n,o,i);return}}Te.flags|=e,s.memoizedState=_o(1|t,n,o,i)}function ig(e,t){return Ha(8390656,8,e,t)}function Kd(e,t){return Wl(2048,8,e,t)}function Y_(e,t){return Wl(4,2,e,t)}function Q_(e,t){return Wl(4,4,e,t)}function X_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e0(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,X_.bind(null,t,e),n)}function Gd(){}function t0(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Hd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function n0(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Hd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function i0(e,t,n){return Wi&21?(tn(n,t)||(n=l_(),Te.lanes|=n,Hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function ek(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var i=ac.transition;ac.transition={};try{e(!1),t()}finally{de=n,ac.transition=i}}function r0(){return Ut().memoizedState}function tk(e,t,n){var i=si(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},s0(e))o0(t,n);else if(n=V_(e,t,n,i),n!==null){var s=ut();en(n,e,i,s),a0(n,t,i)}}function nk(e,t,n){var i=si(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(s0(e))o0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,tn(c,l)){var h=t.interleaved;h===null?(s.next=s,Vd(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}n=V_(e,t,s,i),n!==null&&(s=ut(),en(n,e,i,s),a0(n,t,i))}}function s0(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function o0(e,t){Hs=gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a0(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Td(e,n)}}var vl={readContext:Vt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},ik={readContext:Vt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:ig,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ha(4194308,4,X_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ln();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=tk.bind(null,Te,e),[i.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:ng,useDebugValue:Gd,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=ng(!1),t=e[0];return e=ek.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Te,s=ln();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ze===null)throw Error(B(349));Wi&30||H_(i,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ig(q_.bind(null,i,o,e),[e]),i.flags|=2048,_o(9,Z_.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ze.identifierPrefix;if(xe){var n=bn,i=Pn;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rk={readContext:Vt,useCallback:t0,useContext:Vt,useEffect:Kd,useImperativeHandle:e0,useInsertionEffect:Y_,useLayoutEffect:Q_,useMemo:n0,useReducer:lc,useRef:J_,useState:function(){return lc(yo)},useDebugValue:Gd,useDeferredValue:function(e){var t=Ut();return i0(t,Ue.memoizedState,e)},useTransition:function(){var e=lc(yo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:$_,useSyncExternalStore:W_,useId:r0,unstable_isNewReconciler:!1},sk={readContext:Vt,useCallback:t0,useContext:Vt,useEffect:Kd,useImperativeHandle:e0,useInsertionEffect:Y_,useLayoutEffect:Q_,useMemo:n0,useReducer:uc,useRef:J_,useState:function(){return uc(yo)},useDebugValue:Gd,useDeferredValue:function(e){var t=Ut();return Ue===null?t.memoizedState=e:i0(t,Ue.memoizedState,e)},useTransition:function(){var e=uc(yo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:$_,useSyncExternalStore:W_,useId:r0,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ut(),s=si(e),o=kn(i,s);o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,s),t!==null&&(en(t,e,s,i),$a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ut(),s=si(e),o=kn(i,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,s),t!==null&&(en(t,e,s,i),$a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),i=si(e),s=kn(n,i);s.tag=2,t!=null&&(s.callback=t),t=ii(e,s,i),t!==null&&(en(t,e,i,n),$a(t,e,i))}};function rg(e,t,n,i,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,l):t.prototype&&t.prototype.isPureReactComponent?!co(n,i)||!co(s,o):!0}function l0(e,t,n){var i=!1,s=ui,o=t.contextType;return typeof o=="object"&&o!==null?o=Vt(o):(s=yt(t)?Fi:st.current,i=t.contextTypes,o=(i=i!=null)?Vr(e,s):ui),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function sg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function gh(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ud(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Vt(o):(o=yt(t)?Fi:st.current,s.context=Vr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hl.enqueueReplaceState(s,s.state,null),pl(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",i=t;do n+=RP(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function cc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ok=typeof WeakMap=="function"?WeakMap:Map;function u0(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){_l||(_l=!0,Eh=i),vh(e,t)},n}function c0(e,t,n){n=kn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){vh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vh(e,t),typeof i!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function og(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ok;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=wk.bind(null,e,t,n),t.then(e,e))}function ag(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lg(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,ii(n,t,1))),n.lanes|=1),e)}var ak=Nn.ReactCurrentOwner,gt=!1;function lt(e,t,n,i){t.child=e===null?B_(t,null,n,i):Fr(t,e.child,n,i)}function ug(e,t,n,i,s){n=n.render;var o=t.ref;return Mr(t,s),i=Zd(e,t,n,i,o,s),n=qd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(xe&&n&&Nd(t),t.flags|=1,lt(e,t,i,s),t.child)}function cg(e,t,n,i,s){if(e===null){var o=n.type;return typeof o=="function"&&!rf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,h0(e,t,o,i,s)):(e=Ga(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(l,i)&&e.ref===t.ref)return An(e,t,s)}return t.flags|=1,e=oi(o,i),e.ref=t.ref,e.return=t,t.child=e}function h0(e,t,n,i,s){if(e!==null){var o=e.memoizedProps;if(co(o,i)&&e.ref===t.ref)if(gt=!1,t.pendingProps=i=o,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,An(e,t,s)}return yh(e,t,n,i,s)}function d0(e,t,n){var i=t.pendingProps,s=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Tr,xt),xt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Tr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ge(Tr,xt),xt|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,ge(Tr,xt),xt|=i;return lt(e,t,s,n),t.child}function f0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,n,i,s){var o=yt(n)?Fi:st.current;return o=Vr(t,o),Mr(t,s),n=Zd(e,t,n,i,o,s),i=qd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(xe&&i&&Nd(t),t.flags|=1,lt(e,t,n,s),t.child)}function hg(e,t,n,i,s){if(yt(n)){var o=!0;ul(t)}else o=!1;if(Mr(t,s),t.stateNode===null)Za(e,t),l0(t,n,i),gh(t,n,i,s),i=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var h=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vt(d):(d=yt(n)?Fi:st.current,d=Vr(t,d));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||h!==d)&&sg(t,l,i,d),Wn=!1;var y=t.memoizedState;l.state=y,pl(t,i,l,s),h=t.memoizedState,c!==i||y!==h||vt.current||Wn?(typeof m=="function"&&(mh(t,n,m,i),h=t.memoizedState),(c=Wn||rg(t,n,c,i,y,h,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),l.props=i,l.state=h,l.context=d,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,U_(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Kt(t.type,c),l.props=d,p=t.pendingProps,y=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Vt(h):(h=yt(n)?Fi:st.current,h=Vr(t,h));var _=n.getDerivedStateFromProps;(m=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==p||y!==h)&&sg(t,l,i,h),Wn=!1,y=t.memoizedState,l.state=y,pl(t,i,l,s);var S=t.memoizedState;c!==p||y!==S||vt.current||Wn?(typeof _=="function"&&(mh(t,n,_,i),S=t.memoizedState),(d=Wn||rg(t,n,d,i,y,S,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,S,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,S,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=S),l.props=i,l.state=S,l.context=h,i=d):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),i=!1)}return _h(e,t,n,i,o,s)}function _h(e,t,n,i,s,o){f0(e,t);var l=(t.flags&128)!==0;if(!i&&!l)return s&&Jm(t,n,!1),An(e,t,o);i=t.stateNode,ak.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&l?(t.child=Fr(t,e.child,null,o),t.child=Fr(t,null,c,o)):lt(e,t,c,o),t.memoizedState=i.state,s&&Jm(t,n,!0),t.child}function p0(e){var t=e.stateNode;t.pendingContext?Gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gm(e,t.context,!1),Fd(e,t.containerInfo)}function dg(e,t,n,i,s){return Ur(),Md(s),t.flags|=256,lt(e,t,n,i),t.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function xh(e){return{baseLanes:e,cachePool:null,transitions:null}}function m0(e,t,n){var i=t.pendingProps,s=be.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(be,s&1),e===null)return fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Kl(l,i,0,null),e=Vi(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xh(n),t.memoizedState=wh,e):Jd(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return lk(e,t,l,i,c,s,n);if(o){o=i.fallback,l=t.mode,s=e.child,c=s.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=oi(s,h),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=oi(c,o):(o=Vi(o,l,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=e.child.memoizedState,l=l===null?xh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=wh,i}return o=e.child,e=o.sibling,i=oi(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Jd(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,i){return i!==null&&Md(i),Fr(t,e.child,null,n),e=Jd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lk(e,t,n,i,s,o,l){if(n)return t.flags&256?(t.flags&=-257,i=cc(Error(B(422))),Sa(e,t,l,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=Kl({mode:"visible",children:i.children},s,0,null),o=Vi(o,s,l,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Fr(t,e.child,null,l),t.child.memoizedState=xh(l),t.memoizedState=wh,o);if(!(t.mode&1))return Sa(e,t,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(B(419)),i=cc(o,i,void 0),Sa(e,t,l,i)}if(c=(l&e.childLanes)!==0,gt||c){if(i=Ze,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,On(e,s),en(i,e,s,-1))}return nf(),i=cc(Error(B(421))),Sa(e,t,l,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,bt=ni(s.nextSibling),kt=t,xe=!0,Qt=null,e!==null&&(Mt[Dt++]=Pn,Mt[Dt++]=bn,Mt[Dt++]=$i,Pn=e.id,bn=e.overflow,$i=t),t=Jd(t,i.children),t.flags|=4096,t)}function fg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ph(e.return,t,n)}function hc(e,t,n,i,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function g0(e,t,n){var i=t.pendingProps,s=i.revealOrder,o=i.tail;if(lt(e,t,i.children,n),i=be.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fg(e,n,t);else if(e.tag===19)fg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ge(be,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ml(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ml(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hc(t,!0,n,null,o);break;case"together":hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uk(e,t,n){switch(t.tag){case 3:p0(t),Ur();break;case 5:F_(t);break;case 1:yt(t.type)&&ul(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;ge(dl,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ge(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?m0(e,t,n):(ge(be,be.current&1),e=An(e,t,n),e!==null?e.sibling:null);ge(be,be.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return g0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(be,be.current),i)break;return null;case 22:case 23:return t.lanes=0,d0(e,t,n)}return An(e,t,n)}var v0,Sh,y0,_0;v0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};y0=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Mi(hn.current);var o=null;switch(n){case"input":s=Wc(e,s),i=Wc(e,i),o=[];break;case"select":s=Ee({},s,{value:void 0}),i=Ee({},i,{value:void 0}),o=[];break;case"textarea":s=qc(e,s),i=qc(e,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=al)}Gc(n,i);var l;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(io.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var h=i[d];if(c=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&h!==c&&(h!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(io.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&ye("scroll",e),o||c===h||(o=[])):(o=o||[]).push(d,h))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};_0=function(e,t,n,i){n!==i&&(t.flags|=4)};function js(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ck(e,t,n){var i=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return yt(t.type)&&ll(),et(t),null;case 3:return i=t.stateNode,$r(),_e(vt),_e(st),Wd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Lh(Qt),Qt=null))),Sh(e,t),et(t),null;case 5:$d(t);var s=Mi(go.current);if(n=t.type,e!==null&&t.stateNode!=null)y0(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(B(166));return et(t),null}if(e=Mi(hn.current),wa(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[un]=t,i[po]=o,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(s=0;s<Is.length;s++)ye(Is[s],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":Sm(i,o),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ye("invalid",i);break;case"textarea":bm(i,o),ye("invalid",i)}Gc(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&_a(i.textContent,c,e),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&_a(i.textContent,c,e),s=["children",""+c]):io.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ye("scroll",i)}switch(n){case"input":ha(i),Pm(i,o,!0);break;case"textarea":ha(i),km(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=al)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[un]=t,e[po]=i,v0(e,t,!1,!1),t.stateNode=e;e:{switch(l=Jc(n,i),n){case"dialog":ye("cancel",e),ye("close",e),s=i;break;case"iframe":case"object":case"embed":ye("load",e),s=i;break;case"video":case"audio":for(s=0;s<Is.length;s++)ye(Is[s],e);s=i;break;case"source":ye("error",e),s=i;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=i;break;case"details":ye("toggle",e),s=i;break;case"input":Sm(e,i),s=Wc(e,i),ye("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ee({},i,{value:void 0}),ye("invalid",e);break;case"textarea":bm(e,i),s=qc(e,i),ye("invalid",e);break;default:s=i}Gc(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?Jy(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Ky(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ro(e,h):typeof h=="number"&&ro(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(io.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ye("scroll",e):h!=null&&wd(e,o,h,l))}switch(n){case"input":ha(e),Pm(e,i,!1);break;case"textarea":ha(e),km(e);break;case"option":i.value!=null&&e.setAttribute("value",""+li(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?Ar(e,!!i.multiple,o,!1):i.defaultValue!=null&&Ar(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)_0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(B(166));if(n=Mi(go.current),Mi(hn.current),wa(t)){if(i=t.stateNode,n=t.memoizedProps,i[un]=t,(o=i.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:_a(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_a(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[un]=t,t.stateNode=i}return et(t),null;case 13:if(_e(be),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&bt!==null&&t.mode&1&&!(t.flags&128))D_(),Ur(),t.flags|=98560,o=!1;else if(o=wa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[un]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),o=!1}else Qt!==null&&(Lh(Qt),Qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Fe===0&&(Fe=3):nf())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return $r(),Sh(e,t),e===null&&ho(t.stateNode.containerInfo),et(t),null;case 10:return Bd(t.type._context),et(t),null;case 17:return yt(t.type)&&ll(),et(t),null;case 19:if(_e(be),o=t.memoizedState,o===null)return et(t),null;if(i=(t.flags&128)!==0,l=o.rendering,l===null)if(i)js(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ml(e),l!==null){for(t.flags|=128,js(o,!1),i=l.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Hr&&(t.flags|=128,i=!0,js(o,!1),t.lanes=4194304)}else{if(!i)if(e=ml(l),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!xe)return et(t),null}else 2*Re()-o.renderingStartTime>Hr&&n!==1073741824&&(t.flags|=128,i=!0,js(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=be.current,ge(be,i?n&1|2:n&1),t):(et(t),null);case 22:case 23:return tf(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?xt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function hk(e,t){switch(Id(t),t.tag){case 1:return yt(t.type)&&ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $r(),_e(vt),_e(st),Wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $d(t),null;case 13:if(_e(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(be),null;case 4:return $r(),null;case 10:return Bd(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Pa=!1,it=!1,dk=typeof WeakSet=="function"?WeakSet:Set,F=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){je(e,t,i)}else n.current=null}function Ph(e,t,n){try{n()}catch(i){je(e,t,i)}}var pg=!1;function fk(e,t){if(oh=rl,e=b_(),Rd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,d=0,m=0,p=e,y=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(c=l+s),p!==o||i!==0&&p.nodeType!==3||(h=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(_=p.firstChild)!==null;)y=p,p=_;for(;;){if(p===e)break t;if(y===n&&++d===s&&(c=l),y===o&&++m===i&&(h=l),(_=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=_}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(ah={focusedElem:e,selectionRange:n},rl=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,E=S.memoizedState,P=t.stateNode,x=P.getSnapshotBeforeUpdate(t.elementType===t.type?k:Kt(t.type,k),E);P.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return S=pg,pg=!1,S}function Zs(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ph(t,n,o)}s=s.next}while(s!==i)}}function Zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w0(e){var t=e.alternate;t!==null&&(e.alternate=null,w0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[po],delete t[ch],delete t[Gb],delete t[Jb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(i!==4&&(e=e.child,e!==null))for(kh(e,t,n),e=e.sibling;e!==null;)kh(e,t,n),e=e.sibling}function Th(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Th(e,t,n),e=e.sibling;e!==null;)Th(e,t,n),e=e.sibling}var Ke=null,Jt=!1;function Bn(e,t,n){for(n=n.child;n!==null;)S0(e,t,n),n=n.sibling}function S0(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:it||kr(n,t);case 6:var i=Ke,s=Jt;Ke=null,Bn(e,t,n),Ke=i,Jt=s,Ke!==null&&(Jt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Jt?(e=Ke,n=n.stateNode,e.nodeType===8?rc(e.parentNode,n):e.nodeType===1&&rc(e,n),lo(e)):rc(Ke,n.stateNode));break;case 4:i=Ke,s=Jt,Ke=n.stateNode.containerInfo,Jt=!0,Bn(e,t,n),Ke=i,Jt=s;break;case 0:case 11:case 14:case 15:if(!it&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ph(n,t,l),s=s.next}while(s!==i)}Bn(e,t,n);break;case 1:if(!it&&(kr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){je(n,t,c)}Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:n.mode&1?(it=(i=it)||n.memoizedState!==null,Bn(e,t,n),it=i):Bn(e,t,n);break;default:Bn(e,t,n)}}function gg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dk),t.forEach(function(i){var s=Sk.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ke=c.stateNode,Jt=!1;break e;case 3:Ke=c.stateNode.containerInfo,Jt=!0;break e;case 4:Ke=c.stateNode.containerInfo,Jt=!0;break e}c=c.return}if(Ke===null)throw Error(B(160));S0(o,l,s),Ke=null,Jt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(d){je(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P0(t,e),t=t.sibling}function P0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),an(e),i&4){try{Zs(3,e,e.return),Zl(3,e)}catch(k){je(e,e.return,k)}try{Zs(5,e,e.return)}catch(k){je(e,e.return,k)}}break;case 1:Wt(t,e),an(e),i&512&&n!==null&&kr(n,n.return);break;case 5:if(Wt(t,e),an(e),i&512&&n!==null&&kr(n,n.return),e.flags&32){var s=e.stateNode;try{ro(s,"")}catch(k){je(e,e.return,k)}}if(i&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Hy(s,o),Jc(c,l);var d=Jc(c,o);for(l=0;l<h.length;l+=2){var m=h[l],p=h[l+1];m==="style"?Jy(s,p):m==="dangerouslySetInnerHTML"?Ky(s,p):m==="children"?ro(s,p):wd(s,m,p,d)}switch(c){case"input":Hc(s,o);break;case"textarea":Zy(s,o);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?Ar(s,!!o.multiple,_,!1):y!==!!o.multiple&&(o.defaultValue!=null?Ar(s,!!o.multiple,o.defaultValue,!0):Ar(s,!!o.multiple,o.multiple?[]:"",!1))}s[po]=o}catch(k){je(e,e.return,k)}}break;case 6:if(Wt(t,e),an(e),i&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(k){je(e,e.return,k)}}break;case 3:if(Wt(t,e),an(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(k){je(e,e.return,k)}break;case 4:Wt(t,e),an(e);break;case 13:Wt(t,e),an(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xd=Re())),i&4&&gg(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(it=(d=it)||m,Wt(t,e),it=d):Wt(t,e),an(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(F=e,m=e.child;m!==null;){for(p=F=m;F!==null;){switch(y=F,_=y.child,y.tag){case 0:case 11:case 14:case 15:Zs(4,y,y.return);break;case 1:kr(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){i=y,n=y.return;try{t=i,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(k){je(i,n,k)}}break;case 5:kr(y,y.return);break;case 22:if(y.memoizedState!==null){yg(p);continue}}_!==null?(_.return=y,F=_):yg(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=p.stateNode,h=p.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=Gy("display",l))}catch(k){je(e,e.return,k)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){je(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Wt(t,e),an(e),i&4&&gg(e);break;case 21:break;default:Wt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x0(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(ro(s,""),i.flags&=-33);var o=mg(e);Th(e,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=mg(e);kh(e,c,l);break;default:throw Error(B(161))}}catch(h){je(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pk(e,t,n){F=e,b0(e)}function b0(e,t,n){for(var i=(e.mode&1)!==0;F!==null;){var s=F,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||Pa;if(!l){var c=s.alternate,h=c!==null&&c.memoizedState!==null||it;c=Pa;var d=it;if(Pa=l,(it=h)&&!d)for(F=s;F!==null;)l=F,h=l.child,l.tag===22&&l.memoizedState!==null?_g(s):h!==null?(h.return=l,F=h):_g(s);for(;o!==null;)F=o,b0(o),o=o.sibling;F=s,Pa=c,it=d}vg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,F=o):vg(e)}}function vg(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Zl(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!it)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tg(t,o,i);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tg(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&lo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}it||t.flags&512&&bh(t)}catch(y){je(t,t.return,y)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function yg(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function _g(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zl(4,t)}catch(h){je(t,n,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(h){je(t,s,h)}}var o=t.return;try{bh(t)}catch(h){je(t,o,h)}break;case 5:var l=t.return;try{bh(t)}catch(h){je(t,l,h)}}}catch(h){je(t,t.return,h)}if(t===e){F=null;break}var c=t.sibling;if(c!==null){c.return=t.return,F=c;break}F=t.return}}var mk=Math.ceil,yl=Nn.ReactCurrentDispatcher,Yd=Nn.ReactCurrentOwner,Bt=Nn.ReactCurrentBatchConfig,le=0,Ze=null,ze=null,Ye=0,xt=0,Tr=fi(0),Fe=0,wo=null,Hi=0,ql=0,Qd=0,qs=null,pt=null,Xd=0,Hr=1/0,wn=null,_l=!1,Eh=null,ri=null,ba=!1,Jn=null,wl=0,Ks=0,Ch=null,qa=-1,Ka=0;function ut(){return le&6?Re():qa!==-1?qa:qa=Re()}function si(e){return e.mode&1?le&2&&Ye!==0?Ye&-Ye:Qb.transition!==null?(Ka===0&&(Ka=l_()),Ka):(e=de,e!==0||(e=window.event,e=e===void 0?16:m_(e.type)),e):1}function en(e,t,n,i){if(50<Ks)throw Ks=0,Ch=null,Error(B(185));Ro(e,n,i),(!(le&2)||e!==Ze)&&(e===Ze&&(!(le&2)&&(ql|=n),Fe===4&&qn(e,Ye)),_t(e,i),n===1&&le===0&&!(t.mode&1)&&(Hr=Re()+500,$l&&pi()))}function _t(e,t){var n=e.callbackNode;QP(e,t);var i=il(e,e===Ze?Ye:0);if(i===0)n!==null&&Cm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Cm(n),t===1)e.tag===0?Yb(wg.bind(null,e)):N_(wg.bind(null,e)),qb(function(){!(le&6)&&pi()}),n=null;else{switch(u_(i)){case 1:n=kd;break;case 4:n=o_;break;case 16:n=nl;break;case 536870912:n=a_;break;default:n=nl}n=A0(n,k0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function k0(e,t){if(qa=-1,Ka=0,le&6)throw Error(B(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var i=il(e,e===Ze?Ye:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=xl(e,i);else{t=i;var s=le;le|=2;var o=E0();(Ze!==e||Ye!==t)&&(wn=null,Hr=Re()+500,Bi(e,t));do try{yk();break}catch(c){T0(e,c)}while(!0);zd(),yl.current=o,le=s,ze!==null?t=0:(Ze=null,Ye=0,t=Fe)}if(t!==0){if(t===2&&(s=th(e),s!==0&&(i=s,t=jh(e,s))),t===1)throw n=wo,Bi(e,0),qn(e,i),_t(e,Re()),n;if(t===6)qn(e,i);else{if(s=e.current.alternate,!(i&30)&&!gk(s)&&(t=xl(e,i),t===2&&(o=th(e),o!==0&&(i=o,t=jh(e,o))),t===1))throw n=wo,Bi(e,0),qn(e,i),_t(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(B(345));case 2:Ci(e,pt,wn);break;case 3:if(qn(e,i),(i&130023424)===i&&(t=Xd+500-Re(),10<t)){if(il(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=uh(Ci.bind(null,e,pt,wn),t);break}Ci(e,pt,wn);break;case 4:if(qn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var l=31-Xt(i);o=1<<l,l=t[l],l>s&&(s=l),i&=~o}if(i=s,i=Re()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mk(i/1960))-i,10<i){e.timeoutHandle=uh(Ci.bind(null,e,pt,wn),i);break}Ci(e,pt,wn);break;case 5:Ci(e,pt,wn);break;default:throw Error(B(329))}}}return _t(e,Re()),e.callbackNode===n?k0.bind(null,e):null}function jh(e,t){var n=qs;return e.current.memoizedState.isDehydrated&&(Bi(e,t).flags|=256),e=xl(e,t),e!==2&&(t=pt,pt=n,t!==null&&Lh(t)),e}function Lh(e){pt===null?pt=e:pt.push.apply(pt,e)}function gk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!tn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Qd,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),i=1<<n;e[n]=-1,t&=~i}}function wg(e){if(le&6)throw Error(B(327));Dr();var t=il(e,0);if(!(t&1))return _t(e,Re()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var i=th(e);i!==0&&(t=i,n=jh(e,i))}if(n===1)throw n=wo,Bi(e,0),qn(e,t),_t(e,Re()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,pt,wn),_t(e,Re()),null}function ef(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Hr=Re()+500,$l&&pi())}}function Zi(e){Jn!==null&&Jn.tag===0&&!(le&6)&&Dr();var t=le;le|=1;var n=Bt.transition,i=de;try{if(Bt.transition=null,de=1,e)return e()}finally{de=i,Bt.transition=n,le=t,!(le&6)&&pi()}}function tf(){xt=Tr.current,_e(Tr)}function Bi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zb(n)),ze!==null)for(n=ze.return;n!==null;){var i=n;switch(Id(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ll();break;case 3:$r(),_e(vt),_e(st),Wd();break;case 5:$d(i);break;case 4:$r();break;case 13:_e(be);break;case 19:_e(be);break;case 10:Bd(i.type._context);break;case 22:case 23:tf()}n=n.return}if(Ze=e,ze=e=oi(e.current,null),Ye=xt=t,Fe=0,wo=null,Qd=ql=Hi=0,pt=qs=null,Ii!==null){for(t=0;t<Ii.length;t++)if(n=Ii[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}Ii=null}return e}function T0(e,t){do{var n=ze;try{if(zd(),Wa.current=vl,gl){for(var i=Te.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}gl=!1}if(Wi=0,He=Ue=Te=null,Hs=!1,vo=0,Yd.current=null,n===null||n.return===null){Fe=1,wo=t,ze=null;break}e:{var o=e,l=n.return,c=n,h=t;if(t=Ye,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,m=c,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var _=ag(l);if(_!==null){_.flags&=-257,lg(_,l,c,o,t),_.mode&1&&og(o,d,t),t=_,h=d;var S=t.updateQueue;if(S===null){var k=new Set;k.add(h),t.updateQueue=k}else S.add(h);break e}else{if(!(t&1)){og(o,d,t),nf();break e}h=Error(B(426))}}else if(xe&&c.mode&1){var E=ag(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lg(E,l,c,o,t),Md(Wr(h,c));break e}}o=h=Wr(h,c),Fe!==4&&(Fe=2),qs===null?qs=[o]:qs.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var P=u0(o,h,t);eg(o,P);break e;case 1:c=h;var x=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ri===null||!ri.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=c0(o,c,t);eg(o,j);break e}}o=o.return}while(o!==null)}j0(n)}catch(R){t=R,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function E0(){var e=yl.current;return yl.current=vl,e===null?vl:e}function nf(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ze===null||!(Hi&268435455)&&!(ql&268435455)||qn(Ze,Ye)}function xl(e,t){var n=le;le|=2;var i=E0();(Ze!==e||Ye!==t)&&(wn=null,Bi(e,t));do try{vk();break}catch(s){T0(e,s)}while(!0);if(zd(),le=n,yl.current=i,ze!==null)throw Error(B(261));return Ze=null,Ye=0,Fe}function vk(){for(;ze!==null;)C0(ze)}function yk(){for(;ze!==null&&!$P();)C0(ze)}function C0(e){var t=O0(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?j0(e):ze=t,Yd.current=null}function j0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hk(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,ze=null;return}}else if(n=ck(n,t,xt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Fe===0&&(Fe=5)}function Ci(e,t,n){var i=de,s=Bt.transition;try{Bt.transition=null,de=1,_k(e,t,n,i)}finally{Bt.transition=s,de=i}return null}function _k(e,t,n,i){do Dr();while(Jn!==null);if(le&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(XP(e,o),e===Ze&&(ze=Ze=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ba||(ba=!0,A0(nl,function(){return Dr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var l=de;de=1;var c=le;le|=4,Yd.current=null,fk(e,n),P0(n,e),Bb(ah),rl=!!oh,ah=oh=null,e.current=n,pk(n),WP(),le=c,de=l,Bt.transition=o}else e.current=n;if(ba&&(ba=!1,Jn=e,wl=s),o=e.pendingLanes,o===0&&(ri=null),qP(n.stateNode),_t(e,Re()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(_l)throw _l=!1,e=Eh,Eh=null,e;return wl&1&&e.tag!==0&&Dr(),o=e.pendingLanes,o&1?e===Ch?Ks++:(Ks=0,Ch=e):Ks=0,pi(),null}function Dr(){if(Jn!==null){var e=u_(wl),t=Bt.transition,n=de;try{if(Bt.transition=null,de=16>e?16:e,Jn===null)var i=!1;else{if(e=Jn,Jn=null,wl=0,le&6)throw Error(B(331));var s=le;for(le|=4,F=e.current;F!==null;){var o=F,l=o.child;if(F.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var d=c[h];for(F=d;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:Zs(8,m,o)}var p=m.child;if(p!==null)p.return=m,F=p;else for(;F!==null;){m=F;var y=m.sibling,_=m.return;if(w0(m),m===d){F=null;break}if(y!==null){y.return=_,F=y;break}F=_}}}var S=o.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}F=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,F=l;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,F=P;break e}F=o.return}}var x=e.current;for(F=x;F!==null;){l=F;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,F=b;else e:for(l=x;F!==null;){if(c=F,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Zl(9,c)}}catch(R){je(c,c.return,R)}if(c===l){F=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,F=j;break e}F=c.return}}if(le=s,pi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(zl,e)}catch{}i=!0}return i}finally{de=n,Bt.transition=t}}return!1}function xg(e,t,n){t=Wr(n,t),t=u0(e,t,1),e=ii(e,t,1),t=ut(),e!==null&&(Ro(e,1,t),_t(e,t))}function je(e,t,n){if(e.tag===3)xg(e,e,n);else for(;t!==null;){if(t.tag===3){xg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))){e=Wr(n,e),e=c0(t,e,1),t=ii(t,e,1),e=ut(),t!==null&&(Ro(t,1,e),_t(t,e));break}}t=t.return}}function wk(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(Ye&n)===n&&(Fe===4||Fe===3&&(Ye&130023424)===Ye&&500>Re()-Xd?Bi(e,0):Qd|=n),_t(e,t)}function L0(e,t){t===0&&(e.mode&1?(t=pa,pa<<=1,!(pa&130023424)&&(pa=4194304)):t=1);var n=ut();e=On(e,t),e!==null&&(Ro(e,t,n),_t(e,n))}function xk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),L0(e,n)}function Sk(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(t),L0(e,n)}var O0;O0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,uk(e,t,n);gt=!!(e.flags&131072)}else gt=!1,xe&&t.flags&1048576&&I_(t,hl,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Za(e,t),e=t.pendingProps;var s=Vr(t,st.current);Mr(t,n),s=Zd(null,t,i,e,s,n);var o=qd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(i)?(o=!0,ul(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ud(t),s.updater=Hl,t.stateNode=s,s._reactInternals=t,gh(t,i,e,n),t=_h(null,t,i,!0,o,n)):(t.tag=0,xe&&o&&Nd(t),lt(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Za(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=bk(i),e=Kt(i,e),s){case 0:t=yh(null,t,i,e,n);break e;case 1:t=hg(null,t,i,e,n);break e;case 11:t=ug(null,t,i,e,n);break e;case 14:t=cg(null,t,i,Kt(i.type,e),n);break e}throw Error(B(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Kt(i,s),yh(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Kt(i,s),hg(e,t,i,s,n);case 3:e:{if(p0(t),e===null)throw Error(B(387));i=t.pendingProps,o=t.memoizedState,s=o.element,U_(e,t),pl(t,i,null,n);var l=t.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Wr(Error(B(423)),t),t=dg(e,t,i,n,s);break e}else if(i!==s){s=Wr(Error(B(424)),t),t=dg(e,t,i,n,s);break e}else for(bt=ni(t.stateNode.containerInfo.firstChild),kt=t,xe=!0,Qt=null,n=B_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),i===s){t=An(e,t,n);break e}lt(e,t,i,n)}t=t.child}return t;case 5:return F_(t),e===null&&fh(t),i=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,lh(i,s)?l=null:o!==null&&lh(i,o)&&(t.flags|=32),f0(e,t),lt(e,t,l,n),t.child;case 6:return e===null&&fh(t),null;case 13:return m0(e,t,n);case 4:return Fd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Fr(t,null,i,n):lt(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Kt(i,s),ug(e,t,i,s,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,ge(dl,i._currentValue),i._currentValue=l,o!==null)if(tn(o.value,l)){if(o.children===s.children&&!vt.current){t=An(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=kn(-1,n&-n),h.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?h.next=h:(h.next=m.next,m.next=h),d.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),ph(o.return,n,t),c.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(B(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ph(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Mr(t,n),s=Vt(s),i=i(s),t.flags|=1,lt(e,t,i,n),t.child;case 14:return i=t.type,s=Kt(i,t.pendingProps),s=Kt(i.type,s),cg(e,t,i,s,n);case 15:return h0(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Kt(i,s),Za(e,t),t.tag=1,yt(i)?(e=!0,ul(t)):e=!1,Mr(t,n),l0(t,i,s),gh(t,i,s,n),_h(null,t,i,!0,e,n);case 19:return g0(e,t,n);case 22:return d0(e,t,n)}throw Error(B(156,t.tag))};function A0(e,t){return s_(e,t)}function Pk(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,i){return new Pk(e,t,n,i)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bk(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sd)return 11;if(e===Pd)return 14}return 2}function oi(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ga(e,t,n,i,s,o){var l=2;if(i=e,typeof e=="function")rf(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gr:return Vi(n.children,s,o,t);case xd:l=8,s|=8;break;case Vc:return e=zt(12,n,t,s|2),e.elementType=Vc,e.lanes=o,e;case Uc:return e=zt(13,n,t,s),e.elementType=Uc,e.lanes=o,e;case Fc:return e=zt(19,n,t,s),e.elementType=Fc,e.lanes=o,e;case Fy:return Kl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vy:l=10;break e;case Uy:l=9;break e;case Sd:l=11;break e;case Pd:l=14;break e;case $n:l=16,i=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=zt(l,n,t,s),t.elementType=e,t.type=i,t.lanes=o,t}function Vi(e,t,n,i){return e=zt(7,e,i,t),e.lanes=n,e}function Kl(e,t,n,i){return e=zt(22,e,i,t),e.elementType=Fy,e.lanes=n,e.stateNode={isHidden:!1},e}function dc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function fc(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kk(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sf(e,t,n,i,s,o,l,c,h){return e=new kk(e,t,n,c,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=zt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ud(o),e}function Tk(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function R0(e){if(!e)return ui;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(yt(n))return R_(e,n,t)}return t}function N0(e,t,n,i,s,o,l,c,h){return e=sf(n,i,!0,e,s,o,l,c,h),e.context=R0(null),n=e.current,i=ut(),s=si(n),o=kn(i,s),o.callback=t??null,ii(n,o,s),e.current.lanes=s,Ro(e,s,i),_t(e,i),e}function Gl(e,t,n,i){var s=t.current,o=ut(),l=si(s);return n=R0(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(o,l),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ii(s,t,l),e!==null&&(en(e,s,l,o),$a(e,s,l)),l}function Sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function of(e,t){Sg(e,t),(e=e.alternate)&&Sg(e,t)}function Ek(){return null}var I0=typeof reportError=="function"?reportError:function(e){console.error(e)};function af(e){this._internalRoot=e}Jl.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Gl(e,t,null,null)};Jl.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zi(function(){Gl(null,e,null,null)}),t[Ln]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=d_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&p_(e)}};function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pg(){}function Ck(e,t,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var d=Sl(l);o.call(d)}}var l=N0(t,i,e,0,null,!1,!1,"",Pg);return e._reactRootContainer=l,e[Ln]=l.current,ho(e.nodeType===8?e.parentNode:e),Zi(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var d=Sl(h);c.call(d)}}var h=sf(e,0,!1,null,null,!1,!1,"",Pg);return e._reactRootContainer=h,e[Ln]=h.current,ho(e.nodeType===8?e.parentNode:e),Zi(function(){Gl(t,h,n,i)}),h}function Ql(e,t,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var h=Sl(l);c.call(h)}}Gl(t,l,e,s)}else l=Ck(n,t,e,s,i);return Sl(l)}c_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(Td(t,n|1),_t(t,Re()),!(le&6)&&(Hr=Re()+500,pi()))}break;case 13:Zi(function(){var i=On(e,1);if(i!==null){var s=ut();en(i,e,1,s)}}),of(e,1)}};Ed=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=ut();en(t,e,134217728,n)}of(e,134217728)}};h_=function(e){if(e.tag===13){var t=si(e),n=On(e,t);if(n!==null){var i=ut();en(n,e,t,i)}of(e,t)}};d_=function(){return de};f_=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Qc=function(e,t,n){switch(t){case"input":if(Hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Fl(i);if(!s)throw Error(B(90));Wy(i),Hc(i,s)}}}break;case"textarea":Zy(e,n);break;case"select":t=n.value,t!=null&&Ar(e,!!n.multiple,t,!1)}};Xy=ef;e_=Zi;var jk={usingClientEntryPoint:!1,Events:[Io,wr,Fl,Yy,Qy,ef]},Ls={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lk={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||Ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{zl=ka.inject(Lk),cn=ka}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(t))throw Error(B(200));return Tk(e,t,null,n)};jt.createRoot=function(e,t){if(!lf(e))throw Error(B(299));var n=!1,i="",s=I0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sf(e,1,!1,null,null,n,!1,i,s),e[Ln]=t.current,ho(e.nodeType===8?e.parentNode:e),new af(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=i_(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Zi(e)};jt.hydrate=function(e,t,n){if(!Yl(t))throw Error(B(200));return Ql(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!lf(e))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=I0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=N0(t,null,e,1,n??null,s,!1,o,l),e[Ln]=t.current,ho(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jl(t)};jt.render=function(e,t,n){if(!Yl(t))throw Error(B(200));return Ql(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(B(40));return e._reactRootContainer?(Zi(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};jt.unstable_batchedUpdates=ef;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Yl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Ql(e,t,n,!1,i)};jt.version="18.3.1-next-f1338f8080-20240426";function M0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M0)}catch(e){console.error(e)}}M0(),My.exports=jt;var D0=My.exports,bg=D0;zc.createRoot=bg.createRoot,zc.hydrateRoot=bg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xo.apply(this,arguments)}var Yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yn||(Yn={}));const kg="popstate";function Ok(e){e===void 0&&(e={});function t(i,s){let{pathname:o,search:l,hash:c}=i.location;return Oh("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Pl(s)}return Rk(t,n,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function z0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ak(){return Math.random().toString(36).substr(2,8)}function Tg(e,t){return{usr:e.state,key:e.key,idx:t}}function Oh(e,t,n,i){return n===void 0&&(n=null),xo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?es(t):t,{state:n,key:t&&t.key||i||Ak()})}function Pl(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function es(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Rk(e,t,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c=Yn.Pop,h=null,d=m();d==null&&(d=0,l.replaceState(xo({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function p(){c=Yn.Pop;let E=m(),P=E==null?null:E-d;d=E,h&&h({action:c,location:k.location,delta:P})}function y(E,P){c=Yn.Push;let x=Oh(k.location,E,P);d=m()+1;let b=Tg(x,d),j=k.createHref(x);try{l.pushState(b,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(j)}o&&h&&h({action:c,location:k.location,delta:1})}function _(E,P){c=Yn.Replace;let x=Oh(k.location,E,P);d=m();let b=Tg(x,d),j=k.createHref(x);l.replaceState(b,"",j),o&&h&&h({action:c,location:k.location,delta:0})}function S(E){let P=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof E=="string"?E:Pl(E);return x=x.replace(/ $/,"%20"),Ne(P,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,P)}let k={get action(){return c},get location(){return e(s,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(kg,p),h=E,()=>{s.removeEventListener(kg,p),h=null}},createHref(E){return t(s,E)},createURL:S,encodeLocation(E){let P=S(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:_,go(E){return l.go(E)}};return k}var Eg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Eg||(Eg={}));function Nk(e,t,n){return n===void 0&&(n="/"),Ik(e,t,n)}function Ik(e,t,n,i){let s=typeof t=="string"?es(t):t,o=uf(s.pathname||"/",n);if(o==null)return null;let l=B0(e);Mk(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=Kk(o);c=Hk(l[h],d)}return c}function B0(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Ne(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let d=ai([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),B0(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:$k(d,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let h of V0(o.path))s(o,l,h)}),t}function V0(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=V0(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function Mk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wk(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Dk=/^:[\w-]+$/,zk=3,Bk=2,Vk=1,Uk=10,Fk=-2,Cg=e=>e==="*";function $k(e,t){let n=e.split("/"),i=n.length;return n.some(Cg)&&(i+=Fk),t&&(i+=Bk),n.filter(s=>!Cg(s)).reduce((s,o)=>s+(Dk.test(o)?zk:o===""?Vk:Uk),i)}function Wk(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function Hk(e,t,n){let{routesMeta:i}=e,s={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=Zk({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),y=h.route;if(!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:ai([o,p.pathname]),pathnameBase:Qk(ai([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=ai([o,p.pathnameBase]))}return l}function Zk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=qk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,m,p)=>{let{paramName:y,isOptional:_}=m;if(y==="*"){let k=c[p]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const S=c[p];return _&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:e}}function qk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),z0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function Kk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return z0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function Gk(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?es(e):e;return{pathname:n?n.startsWith("/")?n:Jk(n,t):t,search:Xk(i),hash:eT(s)}}function Jk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pc(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cf(e,t){let n=Yk(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function hf(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=es(e):(s=xo({},e),Ne(!s.pathname||!s.pathname.includes("?"),pc("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),pc("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),pc("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let p=t.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}c=p>=0?t[p]:"/"}let h=Gk(s,c),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}const ai=e=>e.join("/").replace(/\/\/+/g,"/"),Qk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U0=["post","put","patch","delete"];new Set(U0);const nT=["get",...U0];new Set(nT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},So.apply(this,arguments)}const df=C.createContext(null),iT=C.createContext(null),mi=C.createContext(null),Xl=C.createContext(null),gi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),F0=C.createContext(null);function rT(e,t){let{relative:n}=t===void 0?{}:t;ts()||Ne(!1);let{basename:i,navigator:s}=C.useContext(mi),{hash:o,pathname:l,search:c}=W0(e,{relative:n}),h=l;return i!=="/"&&(h=l==="/"?i:ai([i,l])),s.createHref({pathname:h,search:c,hash:o})}function ts(){return C.useContext(Xl)!=null}function ns(){return ts()||Ne(!1),C.useContext(Xl).location}function $0(e){C.useContext(mi).static||C.useLayoutEffect(e)}function eu(){let{isDataRoute:e}=C.useContext(gi);return e?vT():sT()}function sT(){ts()||Ne(!1);let e=C.useContext(df),{basename:t,future:n,navigator:i}=C.useContext(mi),{matches:s}=C.useContext(gi),{pathname:o}=ns(),l=JSON.stringify(cf(s,n.v7_relativeSplatPath)),c=C.useRef(!1);return $0(()=>{c.current=!0}),C.useCallback(function(d,m){if(m===void 0&&(m={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let p=hf(d,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ai([t,p.pathname])),(m.replace?i.replace:i.push)(p,m.state,m)},[t,i,l,o,e])}function W0(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=C.useContext(mi),{matches:s}=C.useContext(gi),{pathname:o}=ns(),l=JSON.stringify(cf(s,i.v7_relativeSplatPath));return C.useMemo(()=>hf(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function oT(e,t){return aT(e,t)}function aT(e,t,n,i){ts()||Ne(!1);let{navigator:s}=C.useContext(mi),{matches:o}=C.useContext(gi),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let d=ns(),m;if(t){var p;let E=typeof t=="string"?es(t):t;h==="/"||(p=E.pathname)!=null&&p.startsWith(h)||Ne(!1),m=E}else m=d;let y=m.pathname||"/",_=y;if(h!=="/"){let E=h.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Nk(e,{pathname:_}),k=dT(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:ai([h,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ai([h,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,i);return t&&k?C.createElement(Xl.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Yn.Pop}},k):k}function lT(){let e=gT(),t=tT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const uT=C.createElement(lT,null);class cT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(gi.Provider,{value:this.props.routeContext},C.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hT(e){let{routeContext:t,match:n,children:i}=e,s=C.useContext(df);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(gi.Provider,{value:t},i)}function dT(e,t,n,i){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);m>=0||Ne(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=n,S=p.route.loader&&y[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let _,S=!1,k=null,E=null;n&&(_=c&&p.route.id?c[p.route.id]:void 0,k=p.route.errorElement||uT,h&&(d<0&&y===0?(yT("route-fallback"),S=!0,E=null):d===y&&(S=!0,E=p.route.hydrateFallbackElement||null)));let P=t.concat(l.slice(0,y+1)),x=()=>{let b;return _?b=k:S?b=E:p.route.Component?b=C.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=m,C.createElement(hT,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?C.createElement(cT,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:x(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):x()},null)}var H0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H0||{}),Z0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z0||{});function fT(e){let t=C.useContext(df);return t||Ne(!1),t}function pT(e){let t=C.useContext(iT);return t||Ne(!1),t}function mT(e){let t=C.useContext(gi);return t||Ne(!1),t}function q0(e){let t=mT(),n=t.matches[t.matches.length-1];return n.route.id||Ne(!1),n.route.id}function gT(){var e;let t=C.useContext(F0),n=pT(),i=q0();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function vT(){let{router:e}=fT(H0.UseNavigateStable),t=q0(Z0.UseNavigateStable),n=C.useRef(!1);return $0(()=>{n.current=!0}),C.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,So({fromRouteId:t},o)))},[e,t])}const jg={};function yT(e,t,n){jg[e]||(jg[e]=!0)}function _T(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ff(e){let{to:t,replace:n,state:i,relative:s}=e;ts()||Ne(!1);let{future:o,static:l}=C.useContext(mi),{matches:c}=C.useContext(gi),{pathname:h}=ns(),d=eu(),m=hf(t,cf(c,o.v7_relativeSplatPath),h,s==="path"),p=JSON.stringify(m);return C.useEffect(()=>d(JSON.parse(p),{replace:n,state:i,relative:s}),[d,p,s,n,i]),null}function Ht(e){Ne(!1)}function wT(e){let{basename:t="/",children:n=null,location:i,navigationType:s=Yn.Pop,navigator:o,static:l=!1,future:c}=e;ts()&&Ne(!1);let h=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:h,navigator:o,static:l,future:So({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);typeof i=="string"&&(i=es(i));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:S="default"}=i,k=C.useMemo(()=>{let E=uf(m,h);return E==null?null:{location:{pathname:E,search:p,hash:y,state:_,key:S},navigationType:s}},[h,m,p,y,_,S,s]);return k==null?null:C.createElement(mi.Provider,{value:d},C.createElement(Xl.Provider,{children:n,value:k}))}function xT(e){let{children:t,location:n}=e;return oT(Ah(t),n)}new Promise(()=>{});function Ah(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(i,s)=>{if(!C.isValidElement(i))return;let o=[...t,s];if(i.type===C.Fragment){n.push.apply(n,Ah(i.props.children,o));return}i.type!==Ht&&Ne(!1),!i.props.index||!i.props.children||Ne(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Ah(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rh.apply(this,arguments)}function ST(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function PT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bT(e,t){return e.button===0&&(!t||t==="_self")&&!PT(e)}const kT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TT="6";try{window.__reactRouterVersion=TT}catch{}const ET="startTransition",Lg=wP[ET];function CT(e){let{basename:t,children:n,future:i,window:s}=e,o=C.useRef();o.current==null&&(o.current=Ok({window:s,v5Compat:!0}));let l=o.current,[c,h]=C.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},m=C.useCallback(p=>{d&&Lg?Lg(()=>h(p)):h(p)},[h,d]);return C.useLayoutEffect(()=>l.listen(m),[l,m]),C.useEffect(()=>_T(i),[i]),C.createElement(wT,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const jT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=C.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:o,replace:l,state:c,target:h,to:d,preventScrollReset:m,viewTransition:p}=t,y=ST(t,kT),{basename:_}=C.useContext(mi),S,k=!1;if(typeof d=="string"&&LT.test(d)&&(S=d,jT))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),R=uf(j.pathname,_);j.origin===b.origin&&R!=null?d=R+j.search+j.hash:k=!0}catch{}let E=rT(d,{relative:s}),P=OT(d,{replace:l,state:c,target:h,preventScrollReset:m,relative:s,viewTransition:p});function x(b){i&&i(b),b.defaultPrevented||P(b)}return C.createElement("a",Rh({},y,{href:S||E,onClick:k||o?i:x,ref:n,target:h}))});var Og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var Ag;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ag||(Ag={}));function OT(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:l,viewTransition:c}=t===void 0?{}:t,h=eu(),d=ns(),m=W0(e,{relative:l});return C.useCallback(p=>{if(bT(p,n)){p.preventDefault();let y=i!==void 0?i:Pl(d)===Pl(m);h(e,{replace:y,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[d,h,m,i,s,n,e,o,l,c])}var Nh=function(e,t){return Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},Nh(e,t)};function K0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var bl=function(){return bl=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},bl.apply(this,arguments)};function is(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function G0(e,t,n,i){var s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(o=(s<3?l(o):s>3?l(t,n,o):l(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function J0(e,t){return function(n,i){t(n,i,e)}}function Y0(e,t,n,i,s,o){function l(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var c=i.kind,h=c==="getter"?"get":c==="setter"?"set":"value",d=!t&&e?i.static?e:e.prototype:null,m=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),p,y=!1,_=n.length-1;_>=0;_--){var S={};for(var k in i)S[k]=k==="access"?{}:i[k];for(var k in i.access)S.access[k]=i.access[k];S.addInitializer=function(P){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(P||null))};var E=(0,n[_])(c==="accessor"?{get:m.get,set:m.set}:m[h],S);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=l(E.get))&&(m.get=p),(p=l(E.set))&&(m.set=p),(p=l(E.init))&&s.unshift(p)}else(p=l(E))&&(c==="field"?s.unshift(p):m[h]=p)}d&&Object.defineProperty(d,i.name,m),y=!0}function Q0(e,t,n){for(var i=arguments.length>2,s=0;s<t.length;s++)n=i?t[s].call(e,n):t[s].call(e);return i?n:void 0}function X0(e){return typeof e=="symbol"?e:"".concat(e)}function ew(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function tw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{d(i.next(m))}catch(p){l(p)}}function h(m){try{d(i.throw(m))}catch(p){l(p)}}function d(m){m.done?o(m.value):s(m.value).then(c,h)}d((i=i.apply(e,t||[])).next())})}function nw(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return h([d,m])}}function h(d){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(i=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],s=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var tu=Object.create?function(e,t,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]};function iw(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&tu(t,e,n)}function kl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],l;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return o}function rw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pf(arguments[t]));return e}function sw(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],l=0,c=o.length;l<c;l++,s++)i[s]=o[l];return i}function ow(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function Zr(e){return this instanceof Zr?(this.v=e,this):new Zr(e)}function aw(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(_){return function(S){return Promise.resolve(S).then(_,p)}}function c(_,S){i[_]&&(s[_]=function(k){return new Promise(function(E,P){o.push([_,k,E,P])>1||h(_,k)})},S&&(s[_]=S(s[_])))}function h(_,S){try{d(i[_](S))}catch(k){y(o[0][3],k)}}function d(_){_.value instanceof Zr?Promise.resolve(_.value.v).then(m,p):y(o[0][2],_)}function m(_){h("next",_)}function p(_){h("throw",_)}function y(_,S){_(S),o.shift(),o.length&&h(o[0][0],o[0][1])}}function lw(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,o){t[s]=e[s]?function(l){return(n=!n)?{value:Zr(e[s](l)),done:!1}:o?o(l):l}:o}}function uw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof kl=="function"?kl(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(l){return new Promise(function(c,h){l=e[o](l),s(c,h,l.done,l.value)})}}function s(o,l,c,h){Promise.resolve(h).then(function(d){o({value:d,done:c})},l)}}function cw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var AT=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ih=function(e){return Ih=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},Ih(e)};function hw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ih(e),i=0;i<n.length;i++)n[i]!=="default"&&tu(t,e,n[i]);return AT(t,e),t}function dw(e){return e&&e.__esModule?e:{default:e}}function fw(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function pw(e,t,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function mw(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function gw(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var RT=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function vw(e){function t(o){e.error=e.hasError?new RT(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(l){return t(l),s()})}else i|=1}catch(l){t(l)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function yw(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,s,o,l){return i?t?".jsx":".js":s&&(!o||!l)?n:s+o+"."+l.toLowerCase()+"js"}):e}const NT={__extends:K0,__assign:bl,__rest:is,__decorate:G0,__param:J0,__esDecorate:Y0,__runInitializers:Q0,__propKey:X0,__setFunctionName:ew,__metadata:tw,__awaiter:$,__generator:nw,__createBinding:tu,__exportStar:iw,__values:kl,__read:pf,__spread:rw,__spreadArrays:sw,__spreadArray:ow,__await:Zr,__asyncGenerator:aw,__asyncDelegator:lw,__asyncValues:uw,__makeTemplateObject:cw,__importStar:hw,__importDefault:dw,__classPrivateFieldGet:fw,__classPrivateFieldSet:pw,__classPrivateFieldIn:mw,__addDisposableResource:gw,__disposeResources:vw,__rewriteRelativeImportExtension:yw},IT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:gw,get __assign(){return bl},__asyncDelegator:lw,__asyncGenerator:aw,__asyncValues:uw,__await:Zr,__awaiter:$,__classPrivateFieldGet:fw,__classPrivateFieldIn:mw,__classPrivateFieldSet:pw,__createBinding:tu,__decorate:G0,__disposeResources:vw,__esDecorate:Y0,__exportStar:iw,__extends:K0,__generator:nw,__importDefault:dw,__importStar:hw,__makeTemplateObject:cw,__metadata:tw,__param:J0,__propKey:X0,__read:pf,__rest:is,__rewriteRelativeImportExtension:yw,__runInitializers:Q0,__setFunctionName:ew,__spread:rw,__spreadArray:ow,__spreadArrays:sw,__values:kl,default:NT},Symbol.toStringTag,{value:"Module"})),MT="modulepreload",DT=function(e){return"/"+e},Rg={},rs=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=DT(h),h in Rg)return;Rg[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":MT,d||(p.as="script"),p.crossOrigin="",p.href=h,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((y,_)=>{p.addEventListener("load",y),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},zT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rs(async()=>{const{default:i}=await Promise.resolve().then(()=>Gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class mf extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class Ng extends mf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ig extends mf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mg extends mf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mh||(Mh={}));class BT{constructor(t,{headers:n={},customFetch:i,region:s=Mh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zT(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $(this,arguments,void 0,function*(n,i={}){var s;try{const{headers:o,method:l,body:c,signal:h}=i;let d={},{region:m}=i;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(d["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(d["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(d["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;const _=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:y,signal:h}).catch(P=>{throw P.name==="AbortError"?P:new Ng(P)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new Ig(_);if(!_.ok)throw new Mg(_);let k=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield _.json():k==="application/octet-stream"||k==="application/pdf"?E=yield _.blob():k==="text/event-stream"?E=_:k==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Ng(o)}:{data:null,error:o,response:o instanceof Mg||o instanceof Ig?o.context:void 0}}})}}var mt={};const ss=by(IT);var Ta={},Ea={},Ca={},ja={},La={},VT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=VT();const UT=qr.fetch,_w=qr.fetch.bind(qr),ww=qr.Headers,FT=qr.Request,$T=qr.Response,Gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:ww,Request:FT,Response:$T,default:_w,fetch:UT},Symbol.toStringTag,{value:"Module"})),WT=by(Gi);var Oa={},Dg;function xw(){if(Dg)return Oa;Dg=1,Object.defineProperty(Oa,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Oa.default=e,Oa}var zg;function Sw(){if(zg)return La;zg=1,Object.defineProperty(La,"__esModule",{value:!0});const e=ss,t=e.__importDefault(WT),n=e.__importDefault(xw());class i{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var m,p,y,_;let S=null,k=null,E=null,P=d.status,x=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?k=N:k=JSON.parse(N))}const j=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),R=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");j&&R&&R.length>1&&(E=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(S={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,E=null,P=406,x="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const j=await d.text();try{S=JSON.parse(j),Array.isArray(S)&&d.status===404&&(k=[],S=null,P=200,x="OK")}catch{d.status===404&&j===""?(P=204,x="No Content"):S={message:j}}if(S&&this.isMaybeSingle&&(!((_=S==null?void 0:S.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,P=200,x="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:k,count:E,status:P,statusText:x}});return this.shouldThrowOnError||(h=h.catch(d=>{var m,p,y;return{error:{message:`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return La.default=i,La}var Bg;function Pw(){if(Bg)return ja;Bg=1,Object.defineProperty(ja,"__esModule",{value:!0});const t=ss.__importDefault(Sw());class n extends t.default{select(s){let o=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(d,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:h=!1,format:d="text"}={}){var m;const p=[s?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ja.default=n,ja}var Vg;function gf(){if(Vg)return Ca;Vg=1,Object.defineProperty(Ca,"__esModule",{value:!0});const t=ss.__importDefault(Pw());class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:c}={}){let h="";c==="plain"?h="pl":c==="phrase"?h="ph":c==="websearch"&&(h="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${h}fts${d}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return Ca.default=n,Ca}var Ug;function bw(){if(Ug)return Ea;Ug=1,Object.defineProperty(Ea,"__esModule",{value:!0});const t=ss.__importDefault(gf());class n{constructor(s,{headers:o={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(s,o){const{head:l=!1,count:c}=o??{},h=l?"HEAD":"GET";let d=!1;const m=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var c;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:h=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ea.default=n,Ea}var Fg;function HT(){if(Fg)return Ta;Fg=1,Object.defineProperty(Ta,"__esModule",{value:!0});const e=ss,t=e.__importDefault(bw()),n=e.__importDefault(gf());class i{constructor(o,{headers:l={},schema:c,fetch:h}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=h}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:h=!1,count:d}={}){var m;let p;const y=new URL(`${this.url}/rpc/${o}`);let _;c||h?(p=c?"HEAD":"GET",Object.entries(l).filter(([k,E])=>E!==void 0).map(([k,E])=>[k,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([k,E])=>{y.searchParams.append(k,E)})):(p="POST",_=l);const S=new Headers(this.headers);return d&&S.set("Prefer",`count=${d}`),new n.default({method:p,url:y,headers:S,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Ta.default=i,Ta}Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const os=ss,kw=os.__importDefault(HT());mt.PostgrestClient=kw.default;const Tw=os.__importDefault(bw());mt.PostgrestQueryBuilder=Tw.default;const Ew=os.__importDefault(gf());mt.PostgrestFilterBuilder=Ew.default;const Cw=os.__importDefault(Pw());mt.PostgrestTransformBuilder=Cw.default;const jw=os.__importDefault(Sw());mt.PostgrestBuilder=jw.default;const Lw=os.__importDefault(xw());mt.PostgrestError=Lw.default;var ZT=mt.default={PostgrestClient:kw.default,PostgrestQueryBuilder:Tw.default,PostgrestFilterBuilder:Ew.default,PostgrestTransformBuilder:Cw.default,PostgrestBuilder:jw.default,PostgrestError:Lw.default};const{PostgrestClient:qT,PostgrestQueryBuilder:xR,PostgrestFilterBuilder:SR,PostgrestTransformBuilder:PR,PostgrestBuilder:bR,PostgrestError:kR}=ZT;class KT{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const GT="2.76.1",JT=`realtime-js/${GT}`,YT="1.0.0",Dh=1e4,QT=1e3,XT=100;var Gs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gs||(Gs={}));var Ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ve||(Ve={}));var Yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yt||(Yt={}));var zh;(function(e){e.websocket="websocket"})(zh||(zh={}));var Ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ai||(Ai={}));class eE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=i.decode(t.slice(l,l+s));l=l+s;const h=i.decode(t.slice(l,l+o));l=l+o;const d=JSON.parse(i.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:h,payload:d}}}class Ow{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(me||(me={}));const $g=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=tE(l,e,t,s),o),{}):{}},tE=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!i.includes(o)?Aw(o,l):Bh(l)},Aw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sE(t,n)}switch(e){case me.bool:return nE(t);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return iE(t);case me.json:case me.jsonb:return rE(t);case me.timestamp:return oE(t);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Bh(t);default:return Bh(t)}},Bh=e=>e,nE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>Aw(t,c))}return e},oE=e=>typeof e=="string"?e.replace(" ","T"):e,Rw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class mc{constructor(t,n,i={},s=Dh){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Wg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Wg||(Wg={}));class Js{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Js.syncState(this.state,s,o,l),this.pendingDiffs.forEach(h=>{this.state=Js.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Js.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},h={};return this.map(o,(d,m)=>{l[d]||(h[d]=m)}),this.map(l,(d,m)=>{const p=o[d];if(p){const y=m.map(E=>E.presence_ref),_=p.map(E=>E.presence_ref),S=m.filter(E=>_.indexOf(E.presence_ref)<0),k=p.filter(E=>y.indexOf(E.presence_ref)<0);S.length>0&&(c[d]=S),k.length>0&&(h[d]=k)}else c[d]=m}),this.syncDiff(o,{joins:c,leaves:h},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,h)=>{var d;const m=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(h),m.length>0){const p=t[c].map(_=>_.presence_ref),y=m.filter(_=>p.indexOf(_.presence_ref)<0);t[c].unshift(...y)}i(c,m,h)}),this.map(l,(c,h)=>{let d=t[c];if(!d)return;const m=h.map(p=>p.presence_ref);d=d.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=d,s(c,d,h),d.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hg||(Hg={}));var Ys;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ys||(Ys={}));var xn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class vf{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mc(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Ow(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Js(this),this.broadcastEndpointURL=Rw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params,d=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(xn.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket.setAuth(),_===void 0){t==null||t(xn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(S=k==null?void 0:k.length)!==null&&S!==void 0?S:0,P=[];for(let x=0;x<E;x++){const b=k[x],{filter:{event:j,schema:R,table:N,filter:z}}=b,D=_&&_[x];if(D&&D.event===j&&D.schema===R&&D.table===N&&D.filter===z)P.push(Object.assign(Object.assign({},b),{id:D.id}));else{this.unsubscribe(),this.state=Ve.errored,t==null||t(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(xn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ve.errored,t==null||t(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Ve.joined&&t===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const d=await c.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,h;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new mc(this,Yt.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mc(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:h,leave:d,join:m}=Yt;if(i&&[c,h,d,m].indexOf(l)>=0&&i!==this._joinRef())return;let y=this._onMessage(l,n,i);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var S,k,E;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(k=_.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(_=>_.callback(y,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var S,k,E,P,x,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const j=_.id,R=(S=_.filter)===null||S===void 0?void 0:S.event;return j&&((k=n.ids)===null||k===void 0?void 0:k.includes(j))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const j=(x=(P=_==null?void 0:_.filter)===null||P===void 0?void 0:P.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:k,table:E,commit_timestamp:P,type:x,errors:b}=S;y=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:P,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(S))}_.callback(y,i)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&vf.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$g(t.columns,t.old_record)),n}}const gc=()=>{},Aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aE=[1e3,2e3,5e3,1e4],lE=1e4,uE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cE{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dh,this.transport=null,this.heartbeatIntervalMs=Aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gc,this.ref=0,this.reconnectTimer=null,this.logger=gc,this.conn=null,this.sendBuffer=[],this.serializer=new eE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>rs(async()=>{const{default:c}=await Promise.resolve().then(()=>Gi);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${zh.websocket}`,this.httpEndpoint=Rw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YT}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Ai.Connecting;case Gs.open:return Ai.Open;case Gs.closing:return Ai.Closing;default:return Ai.Closed}}isConnected(){return this.connectionState()===Ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new vf(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${s} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([uE],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:JT};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ow(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,h,d,m;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Dh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Aa.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:gc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:p=>aE[p-1]||lE,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,y)=>y(JSON.stringify(p)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hE extends yf{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vh extends yf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const _f=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rs(async()=>{const{default:i}=await Promise.resolve().then(()=>Gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},dE=()=>$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>Gi),void 0)).Response:Response}),Uh=e=>{if(Array.isArray(e))return e.map(n=>Uh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Uh(i)}),t},fE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pE=(e,t,n)=>$(void 0,void 0,void 0,function*(){const i=yield dE();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,l=(s==null?void 0:s.statusCode)||o+"";t(new hE(vc(s),o,l))}).catch(s=>{t(new Vh(vc(s),s))}):t(new Vh(vc(e),e))}),mE=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?s:(fE(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Do(e,t,n,i,s,o){return $(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,mE(t,i,s,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>pE(h,c,i))})})}function Po(e,t,n,i){return $(this,void 0,void 0,function*(){return Do(e,"GET",t,n,i)})}function Gt(e,t,n,i,s){return $(this,void 0,void 0,function*(){return Do(e,"POST",t,i,s,n)})}function Fh(e,t,n,i,s){return $(this,void 0,void 0,function*(){return Do(e,"PUT",t,i,s,n)})}function gE(e,t,n,i){return $(this,void 0,void 0,function*(){return Do(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function wf(e,t,n,i,s){return $(this,void 0,void 0,function*(){return Do(e,"DELETE",t,i,s,n)})}class vE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}var Nw;class yE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Nw]="BlobDownloadBuilder",this.promise=null}asStream(){return new vE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}Nw=Symbol.toStringTag;const _E={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wE{constructor(t,n={},i,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=_f(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,s){return $(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Zg),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),m=this._getFinalPath(d),p=yield(t=="PUT"?Fh:Gt)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}upload(t,n,i){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,s){return $(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let h;const d=Object.assign({upsert:Zg.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",d.cacheControl)):(h=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType);const p=yield Fh(this.fetch,c.toString(),h,{headers:m});return{data:{path:o,fullPath:p.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Pe(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return $(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Gt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new yf("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}update(t,n,i){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return $(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}copy(t,n,i){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield Gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,i){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,i){return $(this,void 0,void 0,function*(){try{const s=yield Gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(t),h=()=>Po(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new yE(h,this.shouldThrowOnError)}info(t){return $(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Po(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}exists(t){return $(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i)&&i instanceof Vh){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${d}`)}}}remove(t){return $(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}list(t,n,i){return $(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_E),n),{prefix:t||""});return{data:yield Gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listV2(t,n){return $(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield Gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Iw="2.76.1",Mw={"X-Client-Info":`storage-js/${Iw}`};class xE{constructor(t,n={},i,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mw),n),this.fetch=_f(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createBucket(t){return $(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return $(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}emptyBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}class SE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mw),n),this.fetch=_f(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBuckets(t){return $(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,o=yield Po(this.fetch,s,{headers:this.headers});return{data:Array.isArray(o)?o.filter(c=>c.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}const xf={"X-Client-Info":`storage-js/${Iw}`,"Content-Type":"application/json"};class Dw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class yc extends Dw{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class PE extends Dw{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var qg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qg||(qg={}));const Sf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rs(async()=>{const{default:i}=await Promise.resolve().then(()=>Gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},bE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kE=(e,t,n)=>$(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new yc(Kg(l),s,c))}).catch(()=>{const l=s+"",c=o.statusText||`HTTP ${s} error`;t(new yc(c,s,l))});else{const l=s+"",c=o.statusText||`HTTP ${s} error`;t(new yc(c,s,l))}}else t(new PE(Kg(e),e))}),TE=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(bE(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),n)):s};function EE(e,t,n,i,s,o){return $(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,TE(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const d=h.headers.get("content-type");return!d||!d.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>kE(h,c,i))})})}function Pt(e,t,n,i,s){return $(this,void 0,void 0,function*(){return EE(e,"POST",t,i,s,n)})}class CE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xf),n),this.fetch=Sf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getIndex(t,n){return $(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}listIndexes(t){return $(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return $(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}}class jE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xf),n),this.fetch=Sf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return $(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getVectors(t){return $(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listVectors(t){return $(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}queryVectors(t){return $(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteVectors(t){return $(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class LE{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xf),n),this.fetch=Sf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getBucket(t){return $(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBuckets(){return $(this,arguments,void 0,function*(t={}){try{return{data:yield Pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class OE extends LE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new AE(this.url,this.headers,t,this.fetch)}}class AE extends CE{constructor(t,n,i,s){super(t,n,s),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new RE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class RE extends jE{constructor(t,n,i,s,o){super(t,n,o),this.vectorBucketName=i,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NE extends xE{constructor(t,n={},i,s){super(t,n,i,s)}from(t){return new wE(this.url,this.headers,t,this.fetch)}get vectors(){return new OE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new SE(this.url+"/iceberg",this.headers,this.fetch)}}const IE="2.76.1";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const ME={"X-Client-Info":`supabase-js-${Ms}/${IE}`},DE={headers:ME},zE={schema:"public"},BE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VE={},UE=e=>{let t;return e?t=e:typeof fetch>"u"?t=_w:t=fetch,(...n)=>t(...n)},FE=()=>typeof Headers>"u"?ww:Headers,$E=(e,t,n)=>{const i=UE(n),s=FE();return async(o,l)=>{var c;const h=(c=await t())!==null&&c!==void 0?c:e;let d=new s(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},l),{headers:d}))}};function WE(e){return e.endsWith("/")?e:e+"/"}function HE(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:h,auth:d,realtime:m,global:p}=t,y={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function ZE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zw="2.76.1",fr=30*1e3,$h=3,_c=$h*fr,qE="http://localhost:9999",KE="supabase.auth.token",GE={"X-Client-Info":`gotrue-js/${zw}`},Wh="X-Supabase-Api-Version",Bw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YE=10*60*1e3;class bo extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QE extends bo{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function XE(e){return H(e)&&e.name==="AuthApiError"}class Ri extends bo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vi extends bo{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class Un extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eC(e){return H(e)&&e.name==="AuthSessionMissingError"}class ar extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ra extends vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Na extends vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tC(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gg extends vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hh extends vi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function wc(e){return H(e)&&e.name==="AuthRetryableFetchError"}class Jg extends vi{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Zh extends vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yg=` 	
\r=`.split(""),nC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yg.length;t+=1)e[Yg[t].charCodeAt(0)]=-2;for(let t=0;t<Tl.length;t+=1)e[Tl[t].charCodeAt(0)]=t;return e})();function Qg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Tl[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Tl[i]),t.queuedBits-=6}}function Vw(e,t,n){const i=nC[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xg(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{sC(l,i,n)};for(let l=0;l<e.length;l+=1)Vw(e.charCodeAt(l),s,o);return t.join("")}function iC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rC(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}iC(i,t)}}function sC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zr(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vw(e.charCodeAt(s),n,i);return new Uint8Array(t)}function oC(e){const t=[];return rC(e,n=>t.push(n)),new Uint8Array(t)}function Di(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>Qg(s,n,i)),Qg(null,n,i),t.join("")}function aC(e){return Math.round(Date.now()/1e3)+e}function lC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},Uw=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function uC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const Fw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rs(async()=>{const{default:i}=await Promise.resolve().then(()=>Gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},cC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ki=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vn=async(e,t)=>{await e.removeItem(t)};class nu{constructor(){this.promise=new nu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nu.promiseConstructor=Promise;function xc(e){const t=e.split(".");if(t.length!==3)throw new Zh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!JE.test(t[i]))throw new Zh("JWT not in base64url format");return{header:JSON.parse(Xg(t[0])),payload:JSON.parse(Xg(t[1])),signature:zr(t[2]),raw:{header:t[0],payload:t[1]}}}async function hC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dC(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function fC(e){return("0"+e.toString(16)).substr(-2)}function pC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,fC).join("")}async function mC(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function gC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(e,t,n=!1){const i=pC();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await pr(e,`${t}-code-verifier`,s);const o=await gC(i);return[o,i===o?"plain":"s256"]}const vC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yC(e){const t=e.headers.get(Wh);if(!t||!t.match(vC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _C(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(e){if(!xC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ev(e){return JSON.parse(JSON.stringify(e))}const ji=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SC=[502,503,504];async function tv(e){var t;if(!cC(e))throw new Hh(ji(e),0);if(SC.includes(e.status))throw new Hh(ji(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ri(ji(o),o)}let i;const s=yC(e);if(s&&s.getTime()>=Bw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Jg(ji(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Jg(ji(n),e.status,n.weak_password.reasons);throw new QE(ji(n),e.status||500,i)}const PC=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function X(e,t,n,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[Wh]||(o[Wh]=Bw["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await bC(e,t,n+c,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function bC(e,t,n,i,s,o){const l=PC(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(h){throw console.error(h),new Hh(ji(h),0)}if(c.ok||await tv(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(h){await tv(h)}}function Zt(e){var t;let n=null;EC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aC(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function nv(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kC(e){return{data:e,error:null}}function TC(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=is(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function iv(e){return e}function EC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pc=["global","local","others"];class CC{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Fw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Pc[0]){if(Pc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(H(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kn})}catch(i){if(H(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=is(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:TC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,h;try{const d={nextPage:null,lastPage:0,total:0},m=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iv});if(m.error)throw m.error;const p=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);d[`${E}Page`]=k}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(H(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ur(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ur(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kn})}catch(i){if(H(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){ur(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kn})}catch(i){if(H(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ur(t.userId);try{const{data:n,error:i}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ur(t.userId),ur(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,h;try{const d={nextPage:null,lastPage:0,total:0},m=await X(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iv});if(m.error)throw m.error;const p=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);d[`${E}Page`]=k}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(H(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await X(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await X(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await X(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}}function rv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const cr={debug:!!(globalThis&&Uw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $w extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jC extends $w{}async function LC(e,t,n){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function OC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ww(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AC(e){return parseInt(e,16)}function RC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function NC(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:h,resources:d,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=Ww(e.address),S=m?`${m}://${i}`:i,k=e.statement?`${e.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${_}

${k}`;let P=`URI: ${p}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(P+=`
Expiration Time: ${s.toISOString()}`),c&&(P+=`
Not Before: ${c.toISOString()}`),h&&(P+=`
Request ID: ${h}`),d){let x=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}P+=x}return`${E}
${P}`}class De extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class El extends De{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function IC({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Hw(l)){if(o.rp.id!==l)return new De({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Hw(i)){if(n.rpId!==i)return new De({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zC=new DC;function BC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=is(e,["challenge","user","excludeCredentials"]),o=zr(t).buffer,l=Object.assign(Object.assign({},n),{id:zr(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const d=i[h];c.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:zr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function VC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=is(e,["challenge","allowCredentials"]),s=zr(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:zr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function UC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(s.authenticatorData)),clientDataJSON:Di(new Uint8Array(s.clientDataJSON)),signature:Di(new Uint8Array(s.signature)),userHandle:s.userHandle?Di(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function sv(){var e,t;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $C(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new El("Browser returned unexpected credential type",t)}:{data:null,error:new El("Empty credential response",t)}}catch(t){return{data:null,error:IC({error:t,options:e})}}}async function WC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new El("Browser returned unexpected credential type",t)}:{data:null,error:new El("Empty credential response",t)}}catch(t){return{data:null,error:MC({error:t,options:e})}}}const HC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ZC={userVerification:"preferred",hints:["security-key"]};function Cl(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=Cl(c,l):i[o]=Cl(l)}else i[o]=l}return i}function qC(e,t){return Cl(HC,e,t||{})}function KC(e,t){return Cl(ZC,e,t||{})}class GC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};const h=s??zC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=qC(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:m,error:p}=await $C({publicKey:d,signal:h});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const d=KC(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:m,error:p}=await WC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:h}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(l){return H(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!n)return{data:null,error:new bo("rpId is required for WebAuthn authentication")};try{if(!sv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:h}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return H(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!n)return{data:null,error:new bo("rpId is required for WebAuthn registration")};try{if(!sv())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:h,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(l){return H(l)?{data:null,error:l}:{data:null,error:new Ri("Unexpected error in register",l)}}}}OC();const JC={url:qE,storageKey:KE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ov(e,t,n){return await n()}const hr={};class ko{get jwks(){var t,n;return(n=(t=hr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=hr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{cachedAt:t})}constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ko.nextInstanceID,ko.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new CC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Fw(s.fetch),this.lock=s.lock||ov,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LC:this.lock=ov,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GC(this)},this.persistSession?(s.storage?this.storage=s.storage:Uw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=rv(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=uC(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),wt()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),tC(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new Ri("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zt}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:m,password:p,options:y}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await lr(this.storage,this.storageKey)),o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:S},xform:Zt})}else if("phone"in t){const{phone:m,password:p,options:y}=t;o=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Zt})}else throw new Ra("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:nv})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:nv})}else throw new Ra("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ar}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,h,d,m,p,y;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:k,wallet:E,statement:P,options:x}=t;let b;if(wt())if(typeof E=="object")b=E;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")b=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=E}const j=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),R=await b.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Ww(R[0]);let z=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const q=await b.request({method:"eth_chainId"});z=AC(q)}const D={domain:j.host,address:N,statement:P,uri:j.href,version:"1",chainId:z,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(m=x==null?void 0:x.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=NC(D),S=await b.request({method:"personal_sign",params:[RC(_),N]})}try{const{data:k,error:E}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Zt});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ar}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(H(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(t){var n,i,s,o,l,c,h,d,m,p,y,_;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:E,wallet:P,statement:x,options:b}=t;let j;if(wt())if(typeof P=="object")j=P;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const R=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),x?{statement:x}:null));let z;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")z=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)z=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),k=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(i=b==null?void 0:b.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((h=b==null?void 0:b.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(m=b==null?void 0:b.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(S),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=N}}try{const{data:E,error:P}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Di(k)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(P)throw P;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ar}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:P})}catch(E){if(H(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await ki(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:o,error:l}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Zt});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ar}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(H(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zt}),{data:h,error:d}=c;return d?{data:{user:null,session:null},error:d}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ar}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:d})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:h}=t;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await lr(this.storage,this.storageKey));const{error:p}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:h}=t,{data:d,error:m}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new Ra("You must provide either an email or phone number.")}catch(c){if(H(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,d=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,i,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await lr(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:kC})}catch(o){if(H(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Un;const{error:s}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await X(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await X(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Ra("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<_c:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await ki(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Sc()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,d,m)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,d,m))})}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Kn})})}catch(n){if(H(n))return eC(n)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Un;const l=s.session;let c=null,h=null;this.flowType==="pkce"&&t.email!=null&&([c,h]=await lr(this.storage,this.storageKey));const{data:d,error:m}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Kn});if(m)throw m;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(H(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Un;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=xc(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Un;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!wt())throw new Na("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Na(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Na("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gg("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:h,token_type:d}=t;if(!o||!c||!l||!d)throw new Na("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;h&&(y=parseInt(h));const _=y-m;_*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);const S=y-p;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:k,error:E}=await this._getUser(o);if(E)throw E;const P={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:y,refresh_token:l,token_type:d,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:t.type},error:null}}catch(i){if(H(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{error:o};const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(XE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=lC(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await lr(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(H(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,h,d,m;const{data:p,error:y}=o;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(H(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:h,access_token:d,nonce:m}=t,p=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:h,access_token:d,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zt}),{data:y,error:_}=p;return _?{data:{user:null,session:null},error:_}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new ar}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:_})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await dC(async s=>(s>0&&await hC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(s,o)=>{const l=200*Math.pow(2,s);return o&&wc(o)&&Date.now()+l-i<fr})}catch(i){if(this._debug(n,"error",i),H(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),wt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await ki(this.storage,this.storageKey);if(s&&this.userStorage){let l=await ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await pr(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Sc()}else if(s&&!s.user&&!s.user){const l=await ki(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Vn(this.storage,this.storageKey+"-user"),await pr(this.storage,this.storageKey,s)):s.user=Sc()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_c;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${_c}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),wc(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nu;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Un;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),H(o)){const l={data:null,error:o};return wc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await pr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=ev(s);await pr(this.storage,this.storageKey,o)}else{const s=ev(n);await pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fr}ms, refresh threshold is ${$h} ticks`),s<=$h&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $w)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await lr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?{data:null,error:o}:await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:d}=await X(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&h.type==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UC(t.webauthn.credential_response):FC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:h}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:BC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:VC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=xc(s.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+YE>s)return i;const{data:o,error:l}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:h}}=xc(i);n!=null&&n.allowExpired||_C(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const m=wC(s.alg),p=await crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,oC(`${c}.${h}`)))throw new Zh("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(H(i))return{data:null,error:i};throw i}}}ko.nextInstanceID=0;const YC=ko;class QC extends YC{constructor(t){super(t)}}class XC{constructor(t,n,i){var s,o,l;this.supabaseUrl=t,this.supabaseKey=n;const c=ZE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:zE,realtime:VE,auth:Object.assign(Object.assign({},BE),{storageKey:h}),global:DE},m=HE(i??{},d);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=$E(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new qT(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new NE(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new BT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:l,flowType:c,lock:h,debug:d},m,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:c,lock:h,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ej=(e,t,n)=>new XC(e,t,n);function tj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}tj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nj="https://btwunidnwjnmhmipfueh.supabase.co",ij="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ0d3VuaWRud2pubWhtaXBmdWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNzQ2ODgsImV4cCI6MjA3Njc1MDY4OH0.Dg7M0HOrJAeZNY_cjxOnjJnwAK7OSOiLclFHuaUdVgU",nt=ej(nj,ij),Zw=C.createContext({}),In=()=>{const e=C.useContext(Zw);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},rj=({children:e})=>{const[t,n]=C.useState(null),[i,s]=C.useState(null),[o,l]=C.useState(!0);C.useEffect(()=>{nt.auth.getSession().then(({data:{session:_}})=>{n((_==null?void 0:_.user)??null),_!=null&&_.user?c(_.user.id):l(!1)});const{data:{subscription:y}}=nt.auth.onAuthStateChange((_,S)=>{n((S==null?void 0:S.user)??null),S!=null&&S.user?c(S.user.id):(s(null),l(!1))});return()=>y.unsubscribe()},[]);const c=async y=>{try{const{data:_,error:S}=await nt.from("profiles").select("*").eq("id",y).maybeSingle();if(S)throw S;s(_)}catch(_){console.error("Error loading profile:",_)}finally{l(!1)}},p={user:t,profile:i,loading:o,signUp:async(y,_,S)=>{const{data:k,error:E}=await nt.auth.signUp({email:y,password:_});if(E)throw E;if(k.user){const{error:P}=await nt.from("profiles").insert([{id:k.user.id,full_name:S.fullName,dni:S.dni,phone:S.phone,address:S.address||null}]);if(P)throw P}return k},signIn:async(y,_)=>{const{data:S,error:k}=await nt.auth.signInWithPassword({email:y,password:_});if(k)throw k;return S},signOut:async()=>{const{error:y}=await nt.auth.signOut();if(y)throw y}};return g.jsx(Zw.Provider,{value:p,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const n=C.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:h,...d},m)=>C.createElement("svg",{ref:m,...sj,width:s,height:s,stroke:i,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${oj(e)}`,c].join(" "),...d},[...t.map(([p,y])=>C.createElement(p,y)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=he("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=he("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=he("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=he("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=he("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=he("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=he("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=he("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),xj=()=>{const e=ns(),{user:t,signOut:n}=In(),i=[{path:"/home",icon:pj,label:"Inicio"},{path:"/map",icon:gj,label:"Mapa"},{path:"/pickup",icon:Qn,label:"Recojo"},{path:"/learn",icon:Kw,label:"Aprende"},{path:"/rewards",icon:Hn,label:"Recompensas"},{path:"/profile",icon:Jw,label:"Perfil"}],s=async()=>{try{await n()}catch(o){console.error("Error signing out:",o)}};return t?g.jsxs(g.Fragment,{children:[g.jsx("nav",{className:"navbar-desktop",children:g.jsxs("div",{className:"navbar-container",children:[g.jsxs(Tn,{to:"/home",className:"navbar-brand",children:[g.jsx("div",{className:"brand-icon",children:g.jsx(Je,{size:28})}),g.jsx("span",{className:"brand-text",children:"EcoRecicla"})]}),g.jsx("div",{className:"navbar-links",children:i.map(o=>{const l=o.icon,c=e.pathname===o.path;return g.jsxs(Tn,{to:o.path,className:`nav-link ${c?"active":""}`,children:[g.jsx(l,{size:20}),g.jsx("span",{children:o.label})]},o.path)})}),g.jsxs("button",{onClick:s,className:"btn-logout",children:[g.jsx(mj,{size:20}),g.jsx("span",{children:"Salir"})]})]})}),g.jsx("nav",{className:"navbar-mobile",children:i.map(o=>{const l=o.icon,c=e.pathname===o.path;return g.jsxs(Tn,{to:o.path,className:`nav-link-mobile ${c?"active":""}`,children:[g.jsx(l,{size:24}),g.jsx("span",{children:o.label})]},o.path)})})]}):null},Yw=C.createContext({});function Sj(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const kf=C.createContext(null),Qw=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Pj(e=!0){const t=C.useContext(kf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=C.useId();C.useEffect(()=>{e&&s(o)},[e]);const l=C.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const Tf=typeof window<"u",bj=Tf?C.useLayoutEffect:C.useEffect,Tt=e=>e;let Xw=Tt;function Ef(e){let t;return()=>(t===void 0&&(t=e()),t)}const Kr=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},En=e=>e*1e3,Cn=e=>e/1e3,kj={useManualTiming:!1};function Tj(e){let t=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(h.schedule(d),e()),d(l)}const h={schedule:(d,m=!1,p=!1)=>{const _=p&&i?t:n;return m&&o.add(d),_.has(d)||_.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,i){s=!0;return}i=!0,[t,n]=[n,t],t.forEach(c),t.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const Ia=["read","resolveKeyframes","update","preRender","render","postRender"],Ej=40;function ex(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Ia.reduce((P,x)=>(P[x]=Tj(o),P),{}),{read:c,resolveKeyframes:h,update:d,preRender:m,render:p,postRender:y}=l,_=()=>{const P=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,Ej),1),s.timestamp=P,s.isProcessing=!0,c.process(s),h.process(s),d.process(s),m.process(s),p.process(s),y.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(_))},S=()=>{n=!0,i=!0,s.isProcessing||e(_)};return{schedule:Ia.reduce((P,x)=>{const b=l[x];return P[x]=(j,R=!1,N=!1)=>(n||S(),b.schedule(j,R,N)),P},{}),cancel:P=>{for(let x=0;x<Ia.length;x++)l[Ia[x]].cancel(P)},state:s,steps:l}}const{schedule:we,cancel:ci,state:Ge,steps:bc}=ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),tx=C.createContext({strict:!1}),uv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const e in uv)Gr[e]={isEnabled:t=>uv[e].some(n=>!!t[n])};function Cj(e){for(const t in e)Gr[t]={...Gr[t],...e[t]}}const jj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ll(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jj.has(e)}let nx=e=>!Ll(e);function Lj(e){e&&(nx=t=>t.startsWith("on")?!Ll(t):e(t))}try{Lj(require("@emotion/is-prop-valid").default)}catch{}function Oj(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(nx(s)||n===!0&&Ll(s)||!t&&!Ll(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function Aj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const iu=C.createContext({});function Eo(e){return typeof e=="string"||Array.isArray(e)}function ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Cf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jf=["initial",...Cf];function su(e){return ru(e.animate)||jf.some(t=>Eo(e[t]))}function ix(e){return!!(su(e)||e.variants)}function Rj(e,t){if(su(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Eo(n)?n:void 0,animate:Eo(i)?i:void 0}}return e.inherit!==!1?t:{}}function Nj(e){const{initial:t,animate:n}=Rj(e,C.useContext(iu));return C.useMemo(()=>({initial:t,animate:n}),[cv(t),cv(n)])}function cv(e){return Array.isArray(e)?e.join(" "):e}const Ij=Symbol.for("motionComponentSymbol");function Er(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mj(e,t,n){return C.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Er(n)&&(n.current=i))},[t])}const Lf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dj="framerAppearId",rx="data-"+Lf(Dj),{schedule:Of}=ex(queueMicrotask,!1),sx=C.createContext({});function zj(e,t,n,i,s){var o,l;const{visualElement:c}=C.useContext(iu),h=C.useContext(tx),d=C.useContext(kf),m=C.useContext(Qw).reducedMotion,p=C.useRef(null);i=i||h.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=C.useContext(sx);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&Bj(p.current,n,s,_);const S=C.useRef(!1);C.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const k=n[rx],E=C.useRef(!!k&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return bj(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Of.render(y.render),E.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,k)}),E.current=!1))}),y}function Bj(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ox(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Er(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:d})}function ox(e){if(e)return e.options.allowProjection!==!1?e.projection:ox(e.parent)}function Vj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){var o,l;e&&Cj(e);function c(d,m){let p;const y={...C.useContext(Qw),...d,layoutId:Uj(d)},{isStatic:_}=y,S=Nj(d),k=i(d,_);if(!_&&Tf){Fj();const E=$j(y);p=E.MeasureLayout,S.visualElement=zj(s,k,y,t,E.ProjectionNode)}return g.jsxs(iu.Provider,{value:S,children:[p&&S.visualElement?g.jsx(p,{visualElement:S.visualElement,...y}):null,n(s,d,Mj(k,S.visualElement,m),k,_,S.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const h=C.forwardRef(c);return h[Ij]=s,h}function Uj({layoutId:e}){const t=C.useContext(Yw).id;return t&&e!==void 0?t+"-"+e:e}function Fj(e,t){C.useContext(tx).strict}function $j(e){const{drag:t,layout:n}=Gr;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Wj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Af(e){return typeof e!="string"||e.includes("-")?!1:!!(Wj.indexOf(e)>-1||/[A-Z]/u.test(e))}function hv(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Rf(e,t,n,i){if(typeof t=="function"){const[s,o]=hv(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=hv(i);t=t(n!==void 0?n:e.custom,s,o)}return t}const Jh=e=>Array.isArray(e),Hj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Zj=e=>Jh(e)?e[e.length-1]||0:e,rt=e=>!!(e&&e.getVelocity);function Ja(e){const t=rt(e)?e.get():e;return Hj(t)?t.toValue():t}function qj({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,o){const l={latestValues:Kj(i,s,o,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const ax=e=>(t,n)=>{const i=C.useContext(iu),s=C.useContext(kf),o=()=>qj(e,t,i,s);return n?o():Sj(o)};function Kj(e,t,n,i){const s={},o=i(e,{});for(const y in o)s[y]=Ja(o[y]);let{initial:l,animate:c}=e;const h=su(e),d=ix(e);t&&d&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const p=m?c:l;if(p&&typeof p!="boolean"&&!ru(p)){const y=Array.isArray(p)?p:[p];for(let _=0;_<y.length;_++){const S=Rf(e,y[_]);if(S){const{transitionEnd:k,transition:E,...P}=S;for(const x in P){let b=P[x];if(Array.isArray(b)){const j=m?b.length-1:0;b=b[j]}b!==null&&(s[x]=b)}for(const x in k)s[x]=k[x]}}}return s}const as=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(as),lx=e=>t=>typeof t=="string"&&t.startsWith(e),ux=lx("--"),Gj=lx("var(--"),Nf=e=>Gj(e)?Jj.test(e.split("/*")[0].trim()):!1,Jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Rn=(e,t,n)=>n>t?t:n<e?e:n,ls={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Co={...ls,transform:e=>Rn(0,1,e)},Ma={...ls,default:1},zo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fn=zo("deg"),fn=zo("%"),K=zo("px"),Yj=zo("vh"),Qj=zo("vw"),dv={...fn,parse:e=>fn.parse(e)/100,transform:e=>fn.transform(e*100)},Xj={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K},eL={rotate:Fn,rotateX:Fn,rotateY:Fn,rotateZ:Fn,scale:Ma,scaleX:Ma,scaleY:Ma,scaleZ:Ma,skew:Fn,skewX:Fn,skewY:Fn,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Co,originX:dv,originY:dv,originZ:K},fv={...ls,transform:Math.round},If={...Xj,...eL,zIndex:fv,size:K,fillOpacity:Co,strokeOpacity:Co,numOctaves:fv},tL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nL=as.length;function iL(e,t,n){let i="",s=!0;for(let o=0;o<nL;o++){const l=as[o],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const d=cx(c,If[l]);if(!h){s=!1;const m=tL[l]||l;i+=`${m}(${d}) `}n&&(t[l]=d)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Mf(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const h in t){const d=t[h];if(Ji.has(h)){l=!0;continue}else if(ux(h)){s[h]=d;continue}else{const m=cx(d,If[h]);h.startsWith("origin")?(c=!0,o[h]=m):i[h]=m}}if(t.transform||(l||n?i.transform=iL(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${d} ${m}`}}const rL={offset:"stroke-dashoffset",array:"stroke-dasharray"},sL={offset:"strokeDashoffset",array:"strokeDasharray"};function oL(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?rL:sL;e[o.offset]=K.transform(-i);const l=K.transform(t),c=K.transform(n);e[o.array]=`${l} ${c}`}function pv(e,t,n){return typeof e=="string"?e:K.transform(t+n*e)}function aL(e,t,n){const i=pv(t,e.x,e.width),s=pv(n,e.y,e.height);return`${i} ${s}`}function Df(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...d},m,p){if(Mf(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_,dimensions:S}=e;y.transform&&(S&&(_.transform=y.transform),delete y.transform),S&&(s!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=aL(S,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),l!==void 0&&oL(y,l,c,h,!1)}const zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hx=()=>({...zf(),attrs:{}}),Bf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dx(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function px(e,t,n,i){dx(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(fx.has(s)?s:Lf(s),t.attrs[s])}const Ol={};function lL(e){Object.assign(Ol,e)}function mx(e,{layout:t,layoutId:n}){return Ji.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ol[e]||e==="opacity")}function Vf(e,t,n){var i;const{style:s}=e,o={};for(const l in s)(rt(s[l])||t.style&&rt(t.style[l])||mx(l,e)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=s[l]);return o}function gx(e,t,n){const i=Vf(e,t,n);for(const s in e)if(rt(e[s])||rt(t[s])){const o=as.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}function uL(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const mv=["x","y","width","height","cx","cy","r"],cL={useVisualState:ax({scrapeMotionValuesFromProps:gx,createRenderState:hx,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let o=!!e.drag;if(!o){for(const c in s)if(Ji.has(c)){o=!0;break}}if(!o)return;let l=!t;if(t)for(let c=0;c<mv.length;c++){const h=mv[c];e[h]!==t[h]&&(l=!0)}l&&we.read(()=>{uL(n,i),we.render(()=>{Df(i,s,Bf(n.tagName),e.transformTemplate),px(n,i)})})}})},hL={useVisualState:ax({scrapeMotionValuesFromProps:Vf,createRenderState:zf})};function vx(e,t,n){for(const i in t)!rt(t[i])&&!mx(i,n)&&(e[i]=t[i])}function dL({transformTemplate:e},t){return C.useMemo(()=>{const n=zf();return Mf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function fL(e,t){const n=e.style||{},i={};return vx(i,n,e),Object.assign(i,dL(e,t)),i}function pL(e,t){const n={},i=fL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function mL(e,t,n,i){const s=C.useMemo(()=>{const o=hx();return Df(o,t,Bf(i),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};vx(o,e.style,e),s.style={...o,...s.style}}return s}function gL(e=!1){return(n,i,s,{latestValues:o},l)=>{const h=(Af(n)?mL:pL)(i,o,l,n),d=Oj(i,typeof n=="string",e),m=n!==C.Fragment?{...d,...h,ref:s}:{},{children:p}=i,y=C.useMemo(()=>rt(p)?p.get():p,[p]);return C.createElement(n,{...m,children:y})}}function vL(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Af(i)?cL:hL,preloadedFeatures:e,useRender:gL(s),createVisualElement:t,Component:i};return Vj(l)}}function yx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function ou(e,t,n){const i=e.getProps();return Rf(i,t,n!==void 0?n:i.custom,e)}const yL=Ef(()=>window.ScrollTimeline!==void 0);class _L{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(yL()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wL extends _L{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Uf(e,t){return e?e[t]||e.default||e:void 0}const Yh=2e4;function _x(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Yh;)t+=n,i=e.next(t);return t>=Yh?1/0:t}function Ff(e){return typeof e=="function"}function gv(e,t){e.timeline=t,e.onfinish=null}const $f=e=>Array.isArray(e)&&typeof e[0]=="number",xL={linearEasing:void 0};function SL(e,t){const n=Ef(e);return()=>{var i;return(i=xL[t])!==null&&i!==void 0?i:n()}}const Al=SL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wx=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=e(Kr(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function xx(e){return!!(typeof e=="function"&&Al()||!e||typeof e=="string"&&(e in Qh||Al())||$f(e)||Array.isArray(e)&&e.every(xx))}const Ds=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Qh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ds([0,.65,.55,1]),circOut:Ds([.55,0,1,.45]),backIn:Ds([.31,.01,.66,-.59]),backOut:Ds([.33,1.53,.69,.99])};function Sx(e,t){if(e)return typeof e=="function"&&Al()?wx(e,t):$f(e)?Ds(e):Array.isArray(e)?e.map(n=>Sx(n,t)||Qh.easeOut):Qh[e]}const qt={x:!1,y:!1};function Px(){return qt.x||qt.y}function PL(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function bx(e,t){const n=PL(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function vv(e){return t=>{t.pointerType==="touch"||Px()||e(t)}}function bL(e,t,n={}){const[i,s,o]=bx(e,n),l=vv(c=>{const{target:h}=c,d=t(c);if(typeof d!="function"||!h)return;const m=vv(p=>{d(p),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,s)});return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const kx=(e,t)=>t?e===t?!0:kx(e,t.parentElement):!1,Wf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TL(e){return kL.has(e.tagName)||e.tabIndex!==-1}const zs=new WeakSet;function yv(e){return t=>{t.key==="Enter"&&e(t)}}function kc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EL=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=yv(()=>{if(zs.has(n))return;kc(n,"down");const s=yv(()=>{kc(n,"up")}),o=()=>kc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function _v(e){return Wf(e)&&!Px()}function CL(e,t,n={}){const[i,s,o]=bx(e,n),l=c=>{const h=c.currentTarget;if(!_v(c)||zs.has(h))return;zs.add(h);const d=t(c),m=(_,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),!(!_v(_)||!zs.has(h))&&(zs.delete(h),typeof d=="function"&&d(_,{success:S}))},p=_=>{m(_,n.useGlobalTarget||kx(h,_.target))},y=_=>{m(_,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",y,s)};return i.forEach(c=>{!TL(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",d=>EL(d,s),s)}),o}function jL(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}const Tx=new Set(["width","height","top","left","right","bottom",...as]);let Ya;function LL(){Ya=void 0}const pn={now:()=>(Ya===void 0&&pn.set(Ge.isProcessing||kj.useManualTiming?Ge.timestamp:performance.now()),Ya),set:e=>{Ya=e,queueMicrotask(LL)}};function Hf(e,t){e.indexOf(t)===-1&&e.push(t)}function Zf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qf{constructor(){this.subscriptions=[]}add(t){return Hf(this.subscriptions,t),()=>Zf(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ex(e,t){return t?e*(1e3/t):0}const wv=30,OL=e=>!isNaN(parseFloat(e));class AL{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=pn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qf);const i=this.events[t].add(n);return t==="change"?()=>{i(),we.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wv);return Ex(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(e,t){return new AL(e,t)}function RL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jo(n))}function NL(e,t){const n=ou(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=Zj(o[l]);RL(e,l,c)}}function IL(e){return!!(rt(e)&&e.add)}function Xh(e,t){const n=e.getValue("willChange");if(IL(n))return n.add(t)}function Cx(e){return e.props[rx]}const jx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ML=1e-7,DL=12;function zL(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=jx(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>ML&&++c<DL);return l}function Bo(e,t,n,i){if(e===t&&n===i)return Tt;const s=o=>zL(o,0,1,e,n);return o=>o===0||o===1?o:jx(s(o),t,i)}const Lx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ox=e=>t=>1-e(1-t),Ax=Bo(.33,1.53,.69,.99),Kf=Ox(Ax),Rx=Lx(Kf),Nx=e=>(e*=2)<1?.5*Kf(e):.5*(2-Math.pow(2,-10*(e-1))),Gf=e=>1-Math.sin(Math.acos(e)),Ix=Ox(Gf),Mx=Lx(Gf),Dx=e=>/^0[^.\s]+$/u.test(e);function BL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Dx(e):!0}const Qs=e=>Math.round(e*1e5)/1e5,Jf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VL(e){return e==null}const UL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yf=(e,t)=>n=>!!(typeof n=="string"&&UL.test(n)&&n.startsWith(e)||t&&!VL(n)&&Object.prototype.hasOwnProperty.call(n,t)),zx=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(Jf);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},FL=e=>Rn(0,255,e),Tc={...ls,transform:e=>Math.round(FL(e))},zi={test:Yf("rgb","red"),parse:zx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Tc.transform(e)+", "+Tc.transform(t)+", "+Tc.transform(n)+", "+Qs(Co.transform(i))+")"};function $L(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const ed={test:Yf("#"),parse:$L,transform:zi.transform},Cr={test:Yf("hsl","hue"),parse:zx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+fn.transform(Qs(t))+", "+fn.transform(Qs(n))+", "+Qs(Co.transform(i))+")"},tt={test:e=>zi.test(e)||ed.test(e)||Cr.test(e),parse:e=>zi.test(e)?zi.parse(e):Cr.test(e)?Cr.parse(e):ed.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zi.transform(e):Cr.transform(e)},WL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Jf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(WL))===null||n===void 0?void 0:n.length)||0)>0}const Bx="number",Vx="color",ZL="var",qL="var(",xv="${}",KL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lo(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(KL,h=>(tt.test(h)?(i.color.push(o),s.push(Vx),n.push(tt.parse(h))):h.startsWith(qL)?(i.var.push(o),s.push(ZL),n.push(h)):(i.number.push(o),s.push(Bx),n.push(parseFloat(h))),++o,xv)).split(xv);return{values:n,split:c,indexes:i,types:s}}function Ux(e){return Lo(e).values}function Fx(e){const{split:t,types:n}=Lo(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===Bx?o+=Qs(s[l]):c===Vx?o+=tt.transform(s[l]):o+=s[l]}return o}}const GL=e=>typeof e=="number"?0:e;function JL(e){const t=Ux(e);return Fx(e)(t.map(GL))}const hi={test:HL,parse:Ux,createTransformer:Fx,getAnimatableNone:JL},YL=new Set(["brightness","contrast","saturate","opacity"]);function QL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Jf)||[];if(!i)return e;const s=n.replace(i,"");let o=YL.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const XL=/\b([a-z-]*)\(.*?\)/gu,td={...hi,getAnimatableNone:e=>{const t=e.match(XL);return t?t.map(QL).join(" "):e}},eO={...If,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:td,WebkitFilter:td},Qf=e=>eO[e];function $x(e,t){let n=Qf(e);return n!==td&&(n=hi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tO=new Set(["auto","none","0"]);function nO(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!tO.has(o)&&Lo(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=$x(n,s)}const Sv=e=>e===ls||e===K,Pv=(e,t)=>parseFloat(e.split(", ")[t]),bv=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Pv(s[1],t);{const o=i.match(/^matrix\((.+)\)$/u);return o?Pv(o[1],e):0}},iO=new Set(["x","y","z"]),rO=as.filter(e=>!iO.has(e));function sO(e){const t=[];return rO.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Jr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bv(4,13),y:bv(5,14)};Jr.translateX=Jr.x;Jr.translateY=Jr.y;const Ui=new Set;let nd=!1,id=!1;function Wx(){if(id){const e=Array.from(Ui).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=sO(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}id=!1,nd=!1,Ui.forEach(e=>e.complete()),Ui.clear()}function Hx(){Ui.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(id=!0)})}function oO(){Hx(),Wx()}class Xf{constructor(t,n,i,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ui.add(this),nd||(nd=!0,we.read(Hx),we.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lO(e){const t=aO.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function qx(e,t,n=1){const[i,s]=lO(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return Zx(l)?parseFloat(l):l}return Nf(s)?qx(s,t,n+1):s}const Kx=e=>t=>t.test(e),uO={test:e=>e==="auto",parse:e=>e},Gx=[ls,K,fn,Fn,Qj,Yj,uO],kv=e=>Gx.find(Kx(e));class Jx extends Xf{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),Nf(d))){const m=qx(d,n.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Tx.has(i)||t.length!==2)return;const[s,o]=t,l=kv(s),c=kv(o);if(l!==c)if(Sv(l)&&Sv(c))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)BL(t[s])&&i.push(s);i.length&&nO(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Jr[i](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const Tv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hi.test(e)||e==="0")&&!e.startsWith("url("));function cO(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hO(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=Tv(s,t),c=Tv(o,t);return!l||!c?!1:cO(e)||(n==="spring"||Ff(n))&&i}const dO=e=>e!==null;function au(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(dO),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const fO=40;class Yx{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pn.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pn.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:d}=this.options;if(!d&&!hO(t,i,s,o))if(l)this.options.duration=0;else{h&&h(au(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,n);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ke=(e,t,n)=>e+(t-e)*n;function Ec(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pO({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=Ec(h,c,e+1/3),o=Ec(h,c,e),l=Ec(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Rl(e,t){return n=>n>0?t:e}const Cc=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},mO=[ed,zi,Cr],gO=e=>mO.find(t=>t.test(e));function Ev(e){const t=gO(e);if(!t)return!1;let n=t.parse(e);return t===Cr&&(n=pO(n)),n}const Cv=(e,t)=>{const n=Ev(e),i=Ev(t);if(!n||!i)return Rl(e,t);const s={...n};return o=>(s.red=Cc(n.red,i.red,o),s.green=Cc(n.green,i.green,o),s.blue=Cc(n.blue,i.blue,o),s.alpha=ke(n.alpha,i.alpha,o),zi.transform(s))},vO=(e,t)=>n=>t(e(n)),Vo=(...e)=>e.reduce(vO),rd=new Set(["none","hidden"]);function yO(e,t){return rd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _O(e,t){return n=>ke(e,t,n)}function ep(e){return typeof e=="number"?_O:typeof e=="string"?Nf(e)?Rl:tt.test(e)?Cv:SO:Array.isArray(e)?Qx:typeof e=="object"?tt.test(e)?Cv:wO:Rl}function Qx(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>ep(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function wO(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=ep(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function xO(e,t){var n;const i=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],h=(n=e.values[c])!==null&&n!==void 0?n:0;i[o]=h,s[l]++}return i}const SO=(e,t)=>{const n=hi.createTransformer(t),i=Lo(e),s=Lo(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?rd.has(e)&&!s.values.length||rd.has(t)&&!i.values.length?yO(e,t):Vo(Qx(xO(i,s),s.values),n):Rl(e,t)};function Xx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ke(e,t,n):ep(e)(e,t)}const PO=5;function e1(e,t,n){const i=Math.max(t-PO,0);return Ex(n-e(i),t-i)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jc=.001;function bO({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:i=Ce.mass}){let s,o,l=1-t;l=Rn(Ce.minDamping,Ce.maxDamping,l),e=Rn(Ce.minDuration,Ce.maxDuration,Cn(e)),l<1?(s=d=>{const m=d*l,p=m*e,y=m-n,_=sd(d,l),S=Math.exp(-p);return jc-y/_*S},o=d=>{const p=d*l*e,y=p*n+n,_=Math.pow(l,2)*Math.pow(d,2)*e,S=Math.exp(-p),k=sd(Math.pow(d,2),l);return(-s(d)+jc>0?-1:1)*((y-_)*S)/k}):(s=d=>{const m=Math.exp(-d*e),p=(d-n)*e+1;return-jc+m*p},o=d=>{const m=Math.exp(-d*e),p=(n-d)*(e*e);return m*p});const c=5/e,h=TO(s,o,c);if(e=En(e),isNaN(h))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:e}}}const kO=12;function TO(e,t,n){let i=n;for(let s=1;s<kO;s++)i=i-e(i)/t(i);return i}function sd(e,t){return e*Math.sqrt(1-t*t)}const EO=["duration","bounce"],CO=["stiffness","damping","mass"];function jv(e,t){return t.some(n=>e[n]!==void 0)}function jO(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!jv(e,CO)&&jv(e,EO))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Rn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ce.mass,stiffness:s,damping:o}}else{const n=bO(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function t1(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:d,mass:m,duration:p,velocity:y,isResolvedFromDuration:_}=jO({...n,velocity:-Cn(n.velocity||0)}),S=y||0,k=d/(2*Math.sqrt(h*m)),E=l-o,P=Cn(Math.sqrt(h/m)),x=Math.abs(E)<5;i||(i=x?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=x?Ce.restDelta.granular:Ce.restDelta.default);let b;if(k<1){const R=sd(P,k);b=N=>{const z=Math.exp(-k*P*N);return l-z*((S+k*P*E)/R*Math.sin(R*N)+E*Math.cos(R*N))}}else if(k===1)b=R=>l-Math.exp(-P*R)*(E+(S+P*E)*R);else{const R=P*Math.sqrt(k*k-1);b=N=>{const z=Math.exp(-k*P*N),D=Math.min(R*N,300);return l-z*((S+k*P*E)*Math.sinh(D)+R*E*Math.cosh(D))/R}}const j={calculatedDuration:_&&p||null,next:R=>{const N=b(R);if(_)c.done=R>=p;else{let z=0;k<1&&(z=R===0?En(S):e1(b,R,N));const D=Math.abs(z)<=i,q=Math.abs(l-N)<=s;c.done=D&&q}return c.value=c.done?l:N,c},toString:()=>{const R=Math.min(_x(j),Yh),N=wx(z=>j.next(R*z).value,R,30);return R+"ms "+N}};return j}function Lv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:m}){const p=e[0],y={done:!1,value:p},_=D=>c!==void 0&&D<c||h!==void 0&&D>h,S=D=>c===void 0?h:h===void 0||Math.abs(c-D)<Math.abs(h-D)?c:h;let k=n*t;const E=p+k,P=l===void 0?E:l(E);P!==E&&(k=P-p);const x=D=>-k*Math.exp(-D/i),b=D=>P+x(D),j=D=>{const q=x(D),Z=b(D);y.done=Math.abs(q)<=d,y.value=y.done?P:Z};let R,N;const z=D=>{_(y.value)&&(R=D,N=t1({keyframes:[y.value,S(y.value)],velocity:e1(b,D,y.value),damping:s,stiffness:o,restDelta:d,restSpeed:m}))};return z(0),{calculatedDuration:null,next:D=>{let q=!1;return!N&&R===void 0&&(q=!0,j(D),z(D)),R!==void 0&&D>=R?N.next(D-R):(!q&&j(D),y)}}}const LO=Bo(.42,0,1,1),OO=Bo(0,0,.58,1),n1=Bo(.42,0,.58,1),AO=e=>Array.isArray(e)&&typeof e[0]!="number",RO={linear:Tt,easeIn:LO,easeInOut:n1,easeOut:OO,circIn:Gf,circInOut:Mx,circOut:Ix,backIn:Kf,backInOut:Rx,backOut:Ax,anticipate:Nx},Ov=e=>{if($f(e)){Xw(e.length===4);const[t,n,i,s]=e;return Bo(t,n,i,s)}else if(typeof e=="string")return RO[e];return e};function NO(e,t,n){const i=[],s=n||Xx,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Tt:t;c=Vo(h,c)}i.push(c)}return i}function IO(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(Xw(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=NO(t,i,s),h=c.length,d=m=>{if(l&&m<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const y=Kr(e[p],e[p+1],m);return c[p](y)};return n?m=>d(Rn(e[0],e[o-1],m)):d}function MO(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Kr(0,t,i);e.push(ke(n,1,s))}}function DO(e){const t=[0];return MO(t,e.length-1),t}function zO(e,t){return e.map(n=>n*t)}function BO(e,t){return e.map(()=>t||n1).splice(0,e.length-1)}function Nl({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=AO(i)?i.map(Ov):Ov(i),o={done:!1,value:t[0]},l=zO(n&&n.length===t.length?n:DO(t),e),c=IO(l,t,{ease:Array.isArray(s)?s:BO(t,s)});return{calculatedDuration:e,next:h=>(o.value=c(h),o.done=h>=e,o)}}const VO=e=>{const t=({timestamp:n})=>e(n);return{start:()=>we.update(t,!0),stop:()=>ci(t),now:()=>Ge.isProcessing?Ge.timestamp:pn.now()}},UO={decay:Lv,inertia:Lv,tween:Nl,keyframes:Nl,spring:t1},FO=e=>e/100;class tp extends Yx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||Xf,c=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new l(o,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=Ff(n)?n:UO[n]||Nl;let h,d;c!==Nl&&typeof t[0]!="number"&&(h=Vo(FO,Xx(t[0],t[1])),t=[0,100]);const m=c({...this.options,keyframes:t});o==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=_x(m));const{calculatedDuration:p}=m,y=p+s,_=y*(i+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:p,resolvedDuration:y,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:d,totalDuration:m,resolvedDuration:p}=i;if(this.startTime===null)return o.next(0);const{delay:y,repeat:_,repeatType:S,repeatDelay:k,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const P=this.currentTime-y*(this.speed>=0?1:-1),x=this.speed>=0?P<0:P>m;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let b=this.currentTime,j=o;if(_){const D=Math.min(this.currentTime,m)/p;let q=Math.floor(D),Z=D%1;!Z&&D>=1&&(Z=1),Z===1&&q--,q=Math.min(q,_+1),!!(q%2)&&(S==="reverse"?(Z=1-Z,k&&(Z-=k/p)):S==="mirror"&&(j=l)),b=Rn(0,1,Z)*p}const R=x?{done:!1,value:h[0]}:j.next(b);c&&(R.value=c(R.value));let{done:N}=R;!x&&d!==null&&(N=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return z&&s!==void 0&&(R.value=au(h,this.options,s)),E&&E(R.value),z&&this.finish(),R}get duration(){const{resolved:t}=this;return t?Cn(t.calculatedDuration):0}get time(){return Cn(this.currentTime)}set time(t){t=En(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=VO,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const $O=new Set(["opacity","clipPath","filter","transform"]);function WO(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const d={[t]:n};h&&(d.offset=h);const m=Sx(c,s);return Array.isArray(m)&&(d.easing=m),e.animate(d,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const HO=Ef(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Il=10,ZO=2e4;function qO(e){return Ff(e.type)||e.type==="spring"||!xx(e.ease)}function KO(e,t){const n=new tp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let o=0;for(;!i.done&&o<ZO;)i=n.sample(o),s.push(i.value),o+=Il;return{times:void 0,keyframes:s,duration:o-Il,ease:"linear"}}const i1={anticipate:Nx,backInOut:Rx,circInOut:Mx};function GO(e){return e in i1}class Av extends Yx{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new Jx(o,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:h,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Al()&&GO(o)&&(o=i1[o]),qO(this.options)){const{onComplete:p,onUpdate:y,motionValue:_,element:S,...k}=this.options,E=KO(t,k);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,o=E.ease,l="keyframes"}const m=WO(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:o});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(gv(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:p}=this.options;c.set(au(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Cn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Cn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=En(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Tt;const{animation:i}=n;gv(i,t)}return Tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:o,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:p,element:y,..._}=this.options,S=new tp({..._,keyframes:i,duration:s,type:o,ease:l,times:c,isGenerator:!0}),k=En(this.time);d.setWithVelocity(S.sample(k-Il).value,S.sample(k).value,Il)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:o,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return HO()&&i&&$O.has(i)&&!h&&!d&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const JO={type:"spring",stiffness:500,damping:25,restSpeed:10},YO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QO={type:"keyframes",duration:.8},XO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eA=(e,{keyframes:t})=>t.length>2?QO:Ji.has(e)?e.startsWith("scale")?YO(t[1]):JO:XO;function tA({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const np=(e,t,n,i={},s,o)=>l=>{const c=Uf(i,e)||{},h=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-En(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};tA(c)||(m={...m,...eA(e,m)}),m.duration&&(m.duration=En(m.duration)),m.repeatDelay&&(m.repeatDelay=En(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(p=!0)),p&&!o&&t.get()!==void 0){const y=au(m.keyframes,c);if(y!==void 0)return we.update(()=>{m.onUpdate(y),m.onComplete()}),new wL([])}return!o&&Av.supports(m)?new Av(m):new tp(m)};function nA({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function r1(e,t,{delay:n=0,transitionOverride:i,type:s}={}){var o;let{transition:l=e.getDefaultTransition(),transitionEnd:c,...h}=t;i&&(l=i);const d=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const p in h){const y=e.getValue(p,(o=e.latestValues[p])!==null&&o!==void 0?o:null),_=h[p];if(_===void 0||m&&nA(m,p))continue;const S={delay:n,...Uf(l||{},p)};let k=!1;if(window.MotionHandoffAnimation){const P=Cx(e);if(P){const x=window.MotionHandoffAnimation(P,p,we);x!==null&&(S.startTime=x,k=!0)}}Xh(e,p),y.start(np(p,y,_,e.shouldReduceMotion&&Tx.has(p)?{type:!1}:S,e,k));const E=y.animation;E&&d.push(E)}return c&&Promise.all(d).then(()=>{we.update(()=>{c&&NL(e,c)})}),d}function od(e,t,n={}){var i;const s=ou(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(r1(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:y}=o;return iA(e,t,m+d,p,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function iA(e,t,n=0,i=0,s=1,o){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(e.variantChildren).sort(rA).forEach((d,m)=>{d.notify("AnimationStart",t),l.push(od(d,t,{...o,delay:n+h(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function rA(e,t){return e.sortNodePosition(t)}function sA(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>od(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=od(e,t,n);else{const s=typeof t=="function"?ou(e,t,n.custom):t;i=Promise.all(r1(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const oA=jf.length;function s1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?s1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<oA;n++){const i=jf[n],s=e.props[i];(Eo(s)||s===!1)&&(t[i]=s)}return t}const aA=[...Cf].reverse(),lA=Cf.length;function uA(e){return t=>Promise.all(t.map(({animation:n,options:i})=>sA(e,n,i)))}function cA(e){let t=uA(e),n=Rv(),i=!0;const s=h=>(d,m)=>{var p;const y=ou(e,m,h==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(y){const{transition:_,transitionEnd:S,...k}=y;d={...d,...k,...S}}return d};function o(h){t=h(e)}function l(h){const{props:d}=e,m=s1(e.parent)||{},p=[],y=new Set;let _={},S=1/0;for(let E=0;E<lA;E++){const P=aA[E],x=n[P],b=d[P]!==void 0?d[P]:m[P],j=Eo(b),R=P===h?x.isActive:null;R===!1&&(S=E);let N=b===m[P]&&b!==d[P]&&j;if(N&&i&&e.manuallyAnimateOnMount&&(N=!1),x.protectedKeys={..._},!x.isActive&&R===null||!b&&!x.prevProp||ru(b)||typeof b=="boolean")continue;const z=hA(x.prevProp,b);let D=z||P===h&&x.isActive&&!N&&j||E>S&&j,q=!1;const Z=Array.isArray(b)?b:[b];let oe=Z.reduce(s(P),{});R===!1&&(oe={});const{prevResolvedValues:Le={}}=x,mn={...Le,...oe},ot=ve=>{D=!0,y.has(ve)&&(q=!0,y.delete(ve)),x.needsAnimating[ve]=!0;const I=e.getValue(ve);I&&(I.liveStyle=!1)};for(const ve in mn){const I=oe[ve],J=Le[ve];if(_.hasOwnProperty(ve))continue;let V=!1;Jh(I)&&Jh(J)?V=!yx(I,J):V=I!==J,V?I!=null?ot(ve):y.add(ve):I!==void 0&&y.has(ve)?ot(ve):x.protectedKeys[ve]=!0}x.prevProp=b,x.prevResolvedValues=oe,x.isActive&&(_={..._,...oe}),i&&e.blockInitialAnimation&&(D=!1),D&&(!(N&&z)||q)&&p.push(...Z.map(ve=>({animation:ve,options:{type:P}})))}if(y.size){const E={};y.forEach(P=>{const x=e.getBaseTarget(P),b=e.getValue(P);b&&(b.liveStyle=!0),E[P]=x??null}),p.push({animation:E})}let k=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(p):Promise.resolve()}function c(h,d){var m;if(n[h].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(y=>{var _;return(_=y.animationState)===null||_===void 0?void 0:_.setActive(h,d)}),n[h].isActive=d;const p=l(h);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Rv(),i=!0}}}function hA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yx(t,e):!1}function Ti(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rv(){return{animate:Ti(!0),whileInView:Ti(),whileHover:Ti(),whileTap:Ti(),whileDrag:Ti(),whileFocus:Ti(),exit:Ti()}}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dA extends yi{constructor(t){super(t),t.animationState||(t.animationState=cA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ru(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fA=0;class pA extends yi{constructor(){super(...arguments),this.id=fA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mA={animation:{Feature:dA},exit:{Feature:pA}};function Oo(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Uo(e){return{point:{x:e.pageX,y:e.pageY}}}const gA=e=>t=>Wf(t)&&e(t,Uo(t));function Xs(e,t,n,i){return Oo(e,t,gA(n),i)}const Nv=(e,t)=>Math.abs(e-t);function vA(e,t){const n=Nv(e.x,t.x),i=Nv(e.y,t.y);return Math.sqrt(n**2+i**2)}class o1{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Oc(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=vA(p.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:S}=p,{timestamp:k}=Ge;this.history.push({...S,timestamp:k});const{onStart:E,onMove:P}=this.handlers;y||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Lc(y,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Oc(p.type==="pointercancel"?this.lastMoveEventInfo:Lc(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,E),S&&S(p,E)},!Wf(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Uo(t),c=Lc(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=Ge;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,Oc(c,this.history)),this.removeListeners=Vo(Xs(this.contextWindow,"pointermove",this.handlePointerMove),Xs(this.contextWindow,"pointerup",this.handlePointerUp),Xs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ci(this.updatePoint)}}function Lc(e,t){return t?{point:t(e.point)}:e}function Iv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oc({point:e},t){return{point:e,delta:Iv(e,a1(t)),offset:Iv(e,yA(t)),velocity:_A(t,.1)}}function yA(e){return e[0]}function a1(e){return e[e.length-1]}function _A(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=a1(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>En(t)));)n--;if(!i)return{x:0,y:0};const o=Cn(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const l1=1e-4,wA=1-l1,xA=1+l1,u1=.01,SA=0-u1,PA=0+u1;function Ct(e){return e.max-e.min}function bA(e,t,n){return Math.abs(e-t)<=n}function Mv(e,t,n,i=.5){e.origin=i,e.originPoint=ke(t.min,t.max,e.origin),e.scale=Ct(n)/Ct(t),e.translate=ke(n.min,n.max,e.origin)-e.originPoint,(e.scale>=wA&&e.scale<=xA||isNaN(e.scale))&&(e.scale=1),(e.translate>=SA&&e.translate<=PA||isNaN(e.translate))&&(e.translate=0)}function eo(e,t,n,i){Mv(e.x,t.x,n.x,i?i.originX:void 0),Mv(e.y,t.y,n.y,i?i.originY:void 0)}function Dv(e,t,n){e.min=n.min+t.min,e.max=e.min+Ct(t)}function kA(e,t,n){Dv(e.x,t.x,n.x),Dv(e.y,t.y,n.y)}function zv(e,t,n){e.min=t.min-n.min,e.max=e.min+Ct(t)}function to(e,t,n){zv(e.x,t.x,n.x),zv(e.y,t.y,n.y)}function TA(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ke(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ke(n,e,i.max):Math.min(e,n)),e}function Bv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function EA(e,{top:t,left:n,bottom:i,right:s}){return{x:Bv(e.x,n,s),y:Bv(e.y,t,i)}}function Vv(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function CA(e,t){return{x:Vv(e.x,t.x),y:Vv(e.y,t.y)}}function jA(e,t){let n=.5;const i=Ct(e),s=Ct(t);return s>i?n=Kr(t.min,t.max-i,e.min):i>s&&(n=Kr(e.min,e.max-s,t.min)),Rn(0,1,n)}function LA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ad=.35;function OA(e=ad){return e===!1?e=0:e===!0&&(e=ad),{x:Uv(e,"left","right"),y:Uv(e,"top","bottom")}}function Uv(e,t,n){return{min:Fv(e,t),max:Fv(e,n)}}function Fv(e,t){return typeof e=="number"?e:e[t]||0}const $v=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:$v(),y:$v()}),Wv=()=>({min:0,max:0}),Ae=()=>({x:Wv(),y:Wv()});function It(e){return[e("x"),e("y")]}function c1({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function AA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ac(e){return e===void 0||e===1}function ld({scale:e,scaleX:t,scaleY:n}){return!Ac(e)||!Ac(t)||!Ac(n)}function Li(e){return ld(e)||h1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function h1(e){return Hv(e.x)||Hv(e.y)}function Hv(e){return e&&e!=="0%"}function Ml(e,t,n){const i=e-n,s=t*i;return n+s}function Zv(e,t,n,i,s){return s!==void 0&&(e=Ml(e,s,i)),Ml(e,n,i)+t}function ud(e,t=0,n=1,i,s){e.min=Zv(e.min,t,n,i,s),e.max=Zv(e.max,t,n,i,s)}function d1(e,{x:t,y:n}){ud(e.x,t.translate,t.scale,t.originPoint),ud(e.y,n.translate,n.scale,n.originPoint)}const qv=.999999999999,Kv=1.0000000000001;function NA(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Or(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,d1(e,l)),i&&Li(o.latestValues)&&Or(e,o.latestValues))}t.x<Kv&&t.x>qv&&(t.x=1),t.y<Kv&&t.y>qv&&(t.y=1)}function Lr(e,t){e.min=e.min+t,e.max=e.max+t}function Gv(e,t,n,i,s=.5){const o=ke(e.min,e.max,s);ud(e,t,n,o,i)}function Or(e,t){Gv(e.x,t.x,t.scaleX,t.scale,t.originX),Gv(e.y,t.y,t.scaleY,t.scale,t.originY)}function f1(e,t){return c1(RA(e.getBoundingClientRect(),t))}function IA(e,t,n){const i=f1(e,n),{scroll:s}=t;return s&&(Lr(i.x,s.offset.x),Lr(i.y,s.offset.y)),i}const p1=({current:e})=>e?e.ownerDocument.defaultView:null,MA=new WeakMap;class DA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uo(m).point)},o=(m,p)=>{const{drag:y,dragPropagation:_,onDragStart:S}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jL(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(E=>{let P=this.getAxisMotionValue(E).get()||0;if(fn.test(P)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[E];b&&(P=Ct(b)*(parseFloat(P)/100))}}this.originPoint[E]=P}),S&&we.postRender(()=>S(m,p)),Xh(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(m,p)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:S,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=p;if(_&&this.currentDirection===null){this.currentDirection=zA(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),k&&k(m,p)},c=(m,p)=>this.stop(m,p),h=()=>It(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new o1(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:p1(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&we.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Da(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=TA(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Er(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=EA(s.layoutBox,n):this.constraints=!1,this.elastic=OA(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&It(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=LA(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Er(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=IA(i,s.root,this.visualElement.getTransformPagePoint());let l=CA(s.layout.layoutBox,o);if(n){const c=n(AA(l));this.hasMutatedConstraints=!!c,c&&(l=c1(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=It(m=>{if(!Da(m,n,this.currentDirection))return;let p=h&&h[m]||{};l&&(p={min:0,max:0});const y=s?200:1e6,_=s?40:1e7,S={type:"inertia",velocity:i?t[m]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,S)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Xh(this.visualElement,t),i.start(np(t,i,0,n,this.visualElement,!1))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){It(n=>{const{drag:i}=this.getProps();if(!Da(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(t[n]-ke(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Er(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};It(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=jA({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),It(l=>{if(!Da(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(ke(h,d,s[l]))})}addListeners(){if(!this.visualElement.current)return;MA.set(this.visualElement,this);const t=this.visualElement.current,n=Xs(t,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Er(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),we.read(i);const l=Oo(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(It(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=h[m].translate,p.set(p.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=ad,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Da(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BA extends yi{constructor(t){super(t),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new DA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jv=e=>(t,n)=>{e&&we.postRender(()=>e(t,n))};class VA extends yi{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(t){this.session=new o1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:p1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Jv(t),onStart:Jv(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&we.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Xs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Os={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const n=Yv(e,t.target.x),i=Yv(e,t.target.y);return`${n}% ${i}%`}},UA={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=hi.parse(e);if(s.length>5)return i;const o=hi.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const d=ke(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d),o(s)}};class FA extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;lL($A),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Qa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,s||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||we.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Of.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m1(e){const[t,n]=Pj(),i=C.useContext(Yw);return g.jsx(FA,{...e,layoutGroup:i,switchLayoutGroup:C.useContext(sx),isPresent:t,safeToRemove:n})}const $A={borderRadius:{...Os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Os,borderTopRightRadius:Os,borderBottomLeftRadius:Os,borderBottomRightRadius:Os,boxShadow:UA};function WA(e,t,n){const i=rt(e)?e:jo(e);return i.start(np("",i,t,n)),i.animation}function HA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const ZA=(e,t)=>e.depth-t.depth;class qA{constructor(){this.children=[],this.isDirty=!1}add(t){Hf(this.children,t),this.isDirty=!0}remove(t){Zf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZA),this.isDirty=!1,this.children.forEach(t)}}function KA(e,t){const n=pn.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(ci(i),e(o-t))};return we.read(i,!0),()=>ci(i)}const g1=["TopLeft","TopRight","BottomLeft","BottomRight"],GA=g1.length,Qv=e=>typeof e=="string"?parseFloat(e):e,Xv=e=>typeof e=="number"||K.test(e);function JA(e,t,n,i,s,o){s?(e.opacity=ke(0,n.opacity!==void 0?n.opacity:1,YA(i)),e.opacityExit=ke(t.opacity!==void 0?t.opacity:1,0,QA(i))):o&&(e.opacity=ke(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<GA;l++){const c=`border${g1[l]}Radius`;let h=ey(t,c),d=ey(n,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||Xv(h)===Xv(d)?(e[c]=Math.max(ke(Qv(h),Qv(d),i),0),(fn.test(d)||fn.test(h))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=ke(t.rotate||0,n.rotate||0,i))}function ey(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YA=v1(0,.5,Ix),QA=v1(.5,.95,Tt);function v1(e,t,n){return i=>i<e?0:i>t?1:n(Kr(e,t,i))}function ty(e,t){e.min=t.min,e.max=t.max}function Nt(e,t){ty(e.x,t.x),ty(e.y,t.y)}function ny(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iy(e,t,n,i,s){return e-=t,e=Ml(e,1/n,i),s!==void 0&&(e=Ml(e,1/s,i)),e}function XA(e,t=0,n=1,i=.5,s,o=e,l=e){if(fn.test(t)&&(t=parseFloat(t),t=ke(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=ke(o.min,o.max,i);e===o&&(c-=t),e.min=iy(e.min,t,n,c,s),e.max=iy(e.max,t,n,c,s)}function ry(e,t,[n,i,s],o,l){XA(e,t[n],t[i],t[s],t.scale,o,l)}const e2=["x","scaleX","originX"],t2=["y","scaleY","originY"];function sy(e,t,n,i){ry(e.x,t,e2,n?n.x:void 0,i?i.x:void 0),ry(e.y,t,t2,n?n.y:void 0,i?i.y:void 0)}function oy(e){return e.translate===0&&e.scale===1}function y1(e){return oy(e.x)&&oy(e.y)}function ay(e,t){return e.min===t.min&&e.max===t.max}function n2(e,t){return ay(e.x,t.x)&&ay(e.y,t.y)}function ly(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _1(e,t){return ly(e.x,t.x)&&ly(e.y,t.y)}function uy(e){return Ct(e.x)/Ct(e.y)}function cy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class i2{constructor(){this.members=[]}add(t){Hf(this.members,t),t.scheduleRender()}remove(t){if(Zf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r2(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:p,rotateY:y,skewX:_,skewY:S}=n;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),p&&(i+=`rotateX(${p}deg) `),y&&(i+=`rotateY(${y}deg) `),_&&(i+=`skewX(${_}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Oi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bs=typeof window<"u"&&window.MotionDebug!==void 0,Rc=["","X","Y","Z"],s2={visibility:"hidden"},hy=1e3;let o2=0;function Nc(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function w1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Cx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",we,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&w1(i)}function x1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=o2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bs&&(Oi.totalNodes=Oi.resolvedTargetDeltas=Oi.recalculatedProjection=0),this.nodes.forEach(u2),this.nodes.forEach(p2),this.nodes.forEach(m2),this.nodes.forEach(c2),Bs&&window.MotionDebug.record(Oi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new qA)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qf),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HA(l),this.instance=l;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||h)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=KA(y,250),Qa.hasAnimatedSinceResize&&(Qa.hasAnimatedSinceResize=!1,this.nodes.forEach(fy))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeTargetChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||w2,{onLayoutAnimationStart:E,onLayoutAnimationComplete:P}=m.getProps(),x=!this.targetLayout||!_1(this.targetLayout,S)||_,b=!y&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||y&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,b);const j={...Uf(k,"layout"),onPlay:E,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else y||fy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dy);return}this.isUpdating||this.nodes.forEach(d2),this.isUpdating=!1,this.nodes.forEach(f2),this.nodes.forEach(a2),this.nodes.forEach(l2),this.clearAllSnapshots();const c=pn.now();Ge.delta=Rn(0,1e3/60,c-Ge.timestamp),Ge.timestamp=c,Ge.isProcessing=!0,bc.update.process(Ge),bc.preRender.process(Ge),bc.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Of.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h2),this.sharedNodes.forEach(v2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!y1(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&(c||Li(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),x2(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Ae();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(S2))){const{scroll:m}=this.root;m&&(Lr(h.x,m.offset.x),Lr(h.y,m.offset.y))}return h}removeElementScroll(l){var c;const h=Ae();if(Nt(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:p,options:y}=m;m!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&Nt(h,l),Lr(h.x,p.offset.x),Lr(h.y,p.offset.y))}return h}applyTransform(l,c=!1){const h=Ae();Nt(h,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Or(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Li(m.latestValues)&&Or(h,m.latestValues)}return Li(this.latestValues)&&Or(h,this.latestValues),h}removeTransform(l){const c=Ae();Nt(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Li(d.latestValues))continue;ld(d.latestValues)&&d.updateSnapshot();const m=Ae(),p=d.measurePageBox();Nt(m,p),sy(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Li(this.latestValues)&&sy(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),to(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nt(this.target,this.layout.layoutBox),d1(this.target,this.targetDelta)):Nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),to(this.relativeTargetOrigin,this.target,_.target),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bs&&Oi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ld(this.parent.latestValues)||h1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Nt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;NA(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ae());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ny(this.prevProjectionDelta.x,this.projectionDelta.x),ny(this.prevProjectionDelta.y,this.projectionDelta.y)),eo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!cy(this.projectionDelta.x,this.prevProjectionDelta.x)||!cy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Bs&&Oi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},p=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ae(),_=h?h.source:void 0,S=this.layout?this.layout.source:void 0,k=_!==S,E=this.getStack(),P=!E||E.members.length<=1,x=!!(k&&!P&&this.options.crossfade===!0&&!this.path.some(_2));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const R=j/1e3;py(p.x,l.x,R),py(p.y,l.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(to(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y2(this.relativeTarget,this.relativeTargetOrigin,y,R),b&&n2(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ae()),Nt(b,this.relativeTarget)),k&&(this.animationValues=m,JA(m,d,this.latestValues,R,x,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Qa.hasAnimatedSinceResize=!0,this.currentAnimation=WA(0,hy,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:m}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&S1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||Ae();const p=Ct(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+p;const y=Ct(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}Nt(c,h),Or(c,m),eo(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new i2),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&Nc("z",l,d,this.animationValues);for(let m=0;m<Rc.length;m++)Nc(`rotate${Rc[m]}`,l,d,this.animationValues),Nc(`skew${Rc[m]}`,l,d,this.animationValues);l.render();for(const m in d)l.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return s2;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ja(l==null?void 0:l.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Ja(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(k.transform=m?m({},""):"none",this.hasProjected=!1),k}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=r2(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:_,y:S}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?d.opacity=p===this?(h=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in Ol){if(y[k]===void 0)continue;const{correct:E,applyTo:P}=Ol[k],x=d.transform==="none"?y[k]:E(y[k],p);if(P){const b=P.length;for(let j=0;j<b;j++)d[P[j]]=x}else d[k]=x}return this.options.layoutId&&(d.pointerEvents=p===this?Ja(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(dy),this.root.sharedNodes.clear()}}}function a2(e){e.updateLayout()}function l2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:o}=e.options,l=n.source!==e.layout.source;o==="size"?It(p=>{const y=l?n.measuredBox[p]:n.layoutBox[p],_=Ct(y);y.min=i[p].min,y.max=y.min+_}):S1(o,n.layoutBox,i)&&It(p=>{const y=l?n.measuredBox[p]:n.layoutBox[p],_=Ct(i[p]);y.max=y.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+_)});const c=jr();eo(c,i,n.layoutBox);const h=jr();l?eo(h,e.applyTransform(s,!0),n.measuredBox):eo(h,i,n.layoutBox);const d=!y1(c);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:_}=p;if(y&&_){const S=Ae();to(S,n.layoutBox,y.layoutBox);const k=Ae();to(k,i,_.layoutBox),_1(S,k)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function u2(e){Bs&&Oi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function c2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h2(e){e.clearSnapshot()}function dy(e){e.clearMeasurements()}function d2(e){e.isLayoutDirty=!1}function f2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p2(e){e.resolveTargetDelta()}function m2(e){e.calcProjection()}function g2(e){e.resetSkewAndRotation()}function v2(e){e.removeLeadSnapshot()}function py(e,t,n){e.translate=ke(t.translate,0,n),e.scale=ke(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function my(e,t,n,i){e.min=ke(t.min,n.min,i),e.max=ke(t.max,n.max,i)}function y2(e,t,n,i){my(e.x,t.x,n.x,i),my(e.y,t.y,n.y,i)}function _2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const w2={duration:.45,ease:[.4,0,.1,1]},gy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vy=gy("applewebkit/")&&!gy("chrome/")?Math.round:Tt;function yy(e){e.min=vy(e.min),e.max=vy(e.max)}function x2(e){yy(e.x),yy(e.y)}function S1(e,t,n){return e==="position"||e==="preserve-aspect"&&!bA(uy(t),uy(n),.2)}function S2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const P2=x1({attachResizeListener:(e,t)=>Oo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ic={current:void 0},P1=x1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ic.current){const e=new P2({});e.mount(window),e.setOptions({layoutScroll:!0}),Ic.current=e}return Ic.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),b2={pan:{Feature:VA},drag:{Feature:BA,ProjectionNode:P1,MeasureLayout:m1}};function _y(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&we.postRender(()=>o(t,Uo(t)))}class k2 extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=bL(t,n=>(_y(this.node,n,"Start"),i=>_y(this.node,i,"End"))))}unmount(){}}class T2 extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(Oo(this.node.current,"focus",()=>this.onFocus()),Oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wy(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&we.postRender(()=>o(t,Uo(t)))}class E2 extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=CL(t,n=>(wy(this.node,n,"Start"),(i,{success:s})=>wy(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cd=new WeakMap,Mc=new WeakMap,C2=e=>{const t=cd.get(e.target);t&&t(e)},j2=e=>{e.forEach(C2)};function L2({root:e,...t}){const n=e||document;Mc.has(n)||Mc.set(n,{});const i=Mc.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(j2,{root:e,...t})),i[s]}function O2(e,t,n){const i=L2(t);return cd.set(e,n),i.observe(e),()=>{cd.delete(e),i.unobserve(e)}}const A2={some:0,all:1};class R2 extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:A2[s]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),y=d?m:p;y&&y(h)};return O2(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(N2(t,n))&&this.startObserver()}unmount(){}}function N2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const I2={inView:{Feature:R2},tap:{Feature:E2},focus:{Feature:T2},hover:{Feature:k2}},M2={layout:{ProjectionNode:P1,MeasureLayout:m1}},hd={current:null},b1={current:!1};function D2(){if(b1.current=!0,!!Tf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hd.current=e.matches;e.addListener(t),t()}else hd.current=!1}const z2=[...Gx,tt,hi],B2=e=>z2.find(Kx(e)),xy=new WeakMap;function V2(e,t,n){for(const i in t){const s=t[i],o=n[i];if(rt(s))e.addValue(i,s);else if(rt(o))e.addValue(i,jo(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,jo(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Sy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U2{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=pn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,we.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=su(n),this.isVariantNode=ix(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const S=y[_];h[_]!==void 0&&rt(S)&&S.set(h[_],!1)}}mount(t){this.current=t,xy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),b1.current||D2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xy.delete(this.current),this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ji.has(t),s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gr){const n=Gr[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Sy.length;i++){const s=Sy[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=V2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=jo(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Zx(s)||Dx(s))?s=parseFloat(s):!B2(s)&&hi.test(n)&&(s=$x(t,n)),this.setBaseTarget(t,rt(s)?s.get():s)),rt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=Rf(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[t])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class k1 extends U2{constructor(){super(...arguments),this.KeyframeResolver=Jx}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function F2(e){return window.getComputedStyle(e)}class $2 extends k1{constructor(){super(...arguments),this.type="html",this.renderInstance=dx}readValueFromInstance(t,n){if(Ji.has(n)){const i=Qf(n);return i&&i.default||0}else{const i=F2(t),s=(ux(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return f1(t,n)}build(t,n,i){Mf(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Vf(t,n,i)}}class W2 extends k1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ae}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ji.has(n)){const i=Qf(n);return i&&i.default||0}return n=fx.has(n)?n:Lf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return gx(t,n,i)}build(t,n,i){Df(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){px(t,n,i,s)}mount(t){this.isSVGTag=Bf(t.tagName),super.mount(t)}}const H2=(e,t)=>Af(e)?new W2(t):new $2(t,{allowProjection:e!==C.Fragment}),Z2=vL({...mA,...I2,...b2,...M2},H2),Y=Aj(Z2),q2=()=>{const e=[{icon:dn,title:"Puntos de Reciclaje",description:"Encuentra centros cercanos en el mapa interactivo"},{icon:yj,title:"Recojo a Domicilio",description:"Solicita que recojan tus materiales en casa"},{icon:Hn,title:"Recompensas",description:"Gana puntos y descuentos en locales aliados"},{icon:To,title:"Mide tu Impacto",description:"Ve cuánto has contribuido al medio ambiente"}];return g.jsxs("div",{className:"welcome-page",children:[g.jsxs("div",{className:"welcome-hero",children:[g.jsx(Y.div,{className:"hero-logo",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,duration:.8},children:g.jsx(Je,{size:64})}),g.jsx(Y.h1,{className:"hero-title",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:"EcoRecicla"}),g.jsx(Y.p,{className:"hero-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:"Recicla hoy, cuida el mañana"}),g.jsxs(Y.div,{className:"hero-buttons",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},children:[g.jsx(Tn,{to:"/login",className:"btn-primary btn-icon",children:"Iniciar Sesión"}),g.jsx(Tn,{to:"/register",className:"btn-secondary btn-icon",children:"Registrarse"})]})]}),g.jsxs(Y.div,{className:"features-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.8},children:[g.jsx("h2",{className:"features-title",children:"¿Por qué EcoRecicla?"}),g.jsx("div",{className:"features-grid",children:e.map((t,n)=>{const i=t.icon;return g.jsxs(Y.div,{className:"feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1+n*.1,duration:.5},whileHover:{scale:1.05,translateY:-5},children:[g.jsx("div",{className:"feature-icon",children:g.jsx(i,{size:32})}),g.jsx("h3",{className:"feature-title",children:t.title}),g.jsx("p",{className:"feature-description",children:t.description})]},n)})})]}),g.jsxs(Y.div,{className:"impact-banner",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:1.4,duration:.6},children:[g.jsx(fj,{className:"impact-icon",size:28}),g.jsx("p",{className:"impact-text",children:"Únete a nuestra comunidad y comienza a hacer la diferencia"})]}),g.jsx("div",{className:"welcome-footer",children:g.jsxs("div",{className:"floating-leaves",children:[g.jsx(Y.div,{className:"leaf leaf-1",animate:{y:[0,-20,0],rotate:[0,10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:g.jsx(Je,{size:24})}),g.jsx(Y.div,{className:"leaf leaf-2",animate:{y:[0,-15,0],rotate:[0,-10,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5},children:g.jsx(Je,{size:20})}),g.jsx(Y.div,{className:"leaf leaf-3",animate:{y:[0,-25,0],rotate:[0,15,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:1},children:g.jsx(Je,{size:28})})]})})]})},K2=()=>{const[e,t]=C.useState(""),[n,i]=C.useState(""),[s,o]=C.useState(""),[l,c]=C.useState(!1),{signIn:h}=In(),d=eu(),m=async p=>{p.preventDefault(),o(""),c(!0);try{await h(e,n),d("/home")}catch(y){y.message.includes("Invalid login credentials")?o("Correo o contraseña incorrectos"):o("Error al iniciar sesión. Intenta de nuevo.")}finally{c(!1)}};return g.jsxs("div",{className:"auth-page",children:[g.jsxs("div",{className:"auth-background",children:[g.jsx("div",{className:"floating-leaf leaf-1",children:g.jsx(Je,{size:40})}),g.jsx("div",{className:"floating-leaf leaf-2",children:g.jsx(Je,{size:30})}),g.jsx("div",{className:"floating-leaf leaf-3",children:g.jsx(Je,{size:35})})]}),g.jsxs(Y.div,{className:"auth-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsxs("div",{className:"auth-header",children:[g.jsx("div",{className:"auth-logo",children:g.jsx(Je,{size:40})}),g.jsx("h1",{className:"auth-title",children:"Bienvenido de vuelta"}),g.jsx("p",{className:"auth-subtitle",children:"Inicia sesión para continuar reciclando"})]}),g.jsxs("form",{onSubmit:m,className:"auth-form",children:[s&&g.jsxs(Y.div,{className:"error-message",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[g.jsx(Pf,{size:20}),g.jsx("span",{children:s})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrónico"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(bf,{className:"input-icon",size:20}),g.jsx("input",{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"tu@email.com",required:!0})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"password",children:"Contraseña"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Gh,{className:"input-icon",size:20}),g.jsx("input",{id:"password",type:"password",value:n,onChange:p=>i(p.target.value),placeholder:"••••••••",required:!0})]})]}),g.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:l,children:l?"Iniciando sesión...":"Iniciar Sesión"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{children:["¿No tienes cuenta?"," ",g.jsx(Tn,{to:"/register",className:"auth-link",children:"Regístrate aquí"})]})})]})]})},G2=()=>{const[e,t]=C.useState({fullName:"",email:"",password:"",confirmPassword:"",dni:"",phone:"",address:""}),[n,i]=C.useState(""),[s,o]=C.useState(!1),{signUp:l}=In(),c=eu(),h=m=>{t({...e,[m.target.name]:m.target.value})},d=async m=>{if(m.preventDefault(),i(""),e.password!==e.confirmPassword){i("Las contraseñas no coinciden");return}if(e.password.length<6){i("La contraseña debe tener al menos 6 caracteres");return}o(!0);try{await l(e.email,e.password,e),c("/home")}catch(p){p.message.includes("already registered")?i("Este correo ya está registrado"):p.message.includes("dni")?i("Este DNI ya está registrado"):i("Error al crear la cuenta. Intenta de nuevo.")}finally{o(!1)}};return g.jsxs("div",{className:"auth-page",children:[g.jsxs("div",{className:"auth-background",children:[g.jsx("div",{className:"floating-leaf leaf-1",children:g.jsx(Je,{size:40})}),g.jsx("div",{className:"floating-leaf leaf-2",children:g.jsx(Je,{size:30})}),g.jsx("div",{className:"floating-leaf leaf-3",children:g.jsx(Je,{size:35})})]}),g.jsxs(Y.div,{className:"auth-container register-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsxs("div",{className:"auth-header",children:[g.jsx("div",{className:"auth-logo",children:g.jsx(Je,{size:40})}),g.jsx("h1",{className:"auth-title",children:"Únete a EcoRecicla"}),g.jsx("p",{className:"auth-subtitle",children:"Comienza tu viaje hacia un futuro más verde"})]}),g.jsxs("form",{onSubmit:d,className:"auth-form",children:[n&&g.jsxs(Y.div,{className:"error-message",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[g.jsx(Pf,{size:20}),g.jsx("span",{children:n})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"fullName",children:"Nombre Completo *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Jw,{className:"input-icon",size:20}),g.jsx("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:h,placeholder:"Juan Pérez",required:!0})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"email",children:"Correo Electrónico *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(bf,{className:"input-icon",size:20}),g.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:h,placeholder:"tu@email.com",required:!0})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"dni",children:"DNI *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Gw,{className:"input-icon",size:20}),g.jsx("input",{id:"dni",name:"dni",type:"text",value:e.dni,onChange:h,placeholder:"12345678",required:!0,maxLength:"8"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"phone",children:"Teléfono *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(jl,{className:"input-icon",size:20}),g.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:h,placeholder:"999 888 777",required:!0})]})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"address",children:"Dirección (opcional)"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(dn,{className:"input-icon",size:20}),g.jsx("input",{id:"address",name:"address",type:"text",value:e.address,onChange:h,placeholder:"Av. Principal 123, Lima"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"password",children:"Contraseña *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Gh,{className:"input-icon",size:20}),g.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:h,placeholder:"••••••••",required:!0,minLength:"6"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contraseña *"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Gh,{className:"input-icon",size:20}),g.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:h,placeholder:"••••••••",required:!0,minLength:"6"})]})]}),g.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:s,children:s?"Creando cuenta...":"Crear Cuenta"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{children:["¿Ya tienes cuenta?"," ",g.jsx(Tn,{to:"/login",className:"auth-link",children:"Inicia sesión aquí"})]})})]})]})},J2=()=>{var d,m,p;const{profile:e}=In(),[t,n]=C.useState({totalPickups:0,pendingPickups:0,nearbyPoints:3}),[i,s]=C.useState([]);C.useEffect(()=>{e&&(o(),l())},[e]);const o=async()=>{try{const{data:y}=await nt.from("pickups").select("*").eq("user_id",e.id);n({totalPickups:(y==null?void 0:y.length)||0,pendingPickups:(y==null?void 0:y.filter(_=>_.status==="pending").length)||0,nearbyPoints:3})}catch(y){console.error("Error loading stats:",y)}},l=async()=>{try{const{data:y}=await nt.from("notifications").select("*").eq("user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(3);s(y||[])}catch(y){console.error("Error loading notifications:",y)}},h=(y=>{const _={beginner:{icon:"🌱",label:"Principiante",color:"#86efac"},advanced:{icon:"🌿",label:"Avanzado",color:"#22c55e"},leader:{icon:"🌳",label:"Líder Verde",color:"#16a34a"}};return _[y]||_.beginner})(e==null?void 0:e.eco_level);return g.jsxs("div",{className:"home-page",children:[g.jsx("div",{className:"home-header",children:g.jsxs(Y.div,{className:"welcome-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsxs("div",{className:"welcome-content",children:[g.jsxs("h1",{children:["¡Hola, ",(d=e==null?void 0:e.full_name)==null?void 0:d.split(" ")[0],"! 👋"]}),g.jsx("p",{children:"Recicla hoy, cuida el mañana"})]}),g.jsxs("div",{className:"eco-badge",style:{background:h.color},children:[g.jsx("span",{className:"eco-icon",children:h.icon}),g.jsx("span",{className:"eco-label",children:h.label})]})]})}),g.jsxs("div",{className:"stats-grid",children:[g.jsxs(Y.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:[g.jsx("div",{className:"stat-icon",style:{background:"rgba(34, 197, 94, 0.1)"},children:g.jsx(To,{size:28,color:"#22c55e"})}),g.jsxs("div",{className:"stat-content",children:[g.jsx("h3",{children:(e==null?void 0:e.total_points)||0}),g.jsx("p",{children:"Puntos Acumulados"})]})]}),g.jsxs(Y.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:[g.jsx("div",{className:"stat-icon",style:{background:"rgba(249, 115, 22, 0.1)"},children:g.jsx(Qn,{size:28,color:"#f97316"})}),g.jsxs("div",{className:"stat-content",children:[g.jsx("h3",{children:t.totalPickups}),g.jsx("p",{children:"Recojos Totales"})]})]}),g.jsxs(Y.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},children:[g.jsx("div",{className:"stat-icon",style:{background:"rgba(34, 197, 94, 0.1)"},children:g.jsx(Je,{size:28,color:"#22c55e"})}),g.jsxs("div",{className:"stat-content",children:[g.jsxs("h3",{children:[((m=e==null?void 0:e.total_recycled_kg)==null?void 0:m.toFixed(1))||"0.0"," kg"]}),g.jsx("p",{children:"Material Reciclado"})]})]}),g.jsxs(Y.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},children:[g.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)"},children:g.jsx(dn,{size:28,color:"#3b82f6"})}),g.jsxs("div",{className:"stat-content",children:[g.jsx("h3",{children:t.nearbyPoints}),g.jsx("p",{children:"Puntos Cercanos"})]})]})]}),g.jsxs("div",{className:"action-cards",children:[g.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:g.jsxs(Tn,{to:"/map",className:"action-card action-primary",children:[g.jsx("div",{className:"action-icon",children:g.jsx(dn,{size:32})}),g.jsxs("div",{className:"action-content",children:[g.jsx("h3",{children:"Encuentra Puntos de Reciclaje"}),g.jsx("p",{children:"Descubre centros cercanos en el mapa interactivo"})]})]})}),g.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:g.jsxs(Tn,{to:"/pickup",className:"action-card action-secondary",children:[g.jsx("div",{className:"action-icon",children:g.jsx(Qn,{size:32})}),g.jsxs("div",{className:"action-content",children:[g.jsx("h3",{children:"Solicitar Recojo a Domicilio"}),g.jsx("p",{children:"Programa la recolección de tus materiales"})]})]})})]}),i.length>0&&g.jsxs(Y.div,{className:"notifications-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[g.jsxs("div",{className:"section-header",children:[g.jsx(lj,{size:24,color:"#22c55e"}),g.jsx("h2",{children:"Notificaciones Recientes"})]}),g.jsx("div",{className:"notifications-list",children:i.map(y=>g.jsxs("div",{className:"notification-item",children:[g.jsx("div",{className:"notif-dot"}),g.jsxs("div",{className:"notif-content",children:[g.jsx("h4",{children:y.title}),g.jsx("p",{children:y.message})]})]},y.id))})]}),g.jsxs(Y.div,{className:"impact-summary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[g.jsx(qw,{className:"impact-icon",size:32}),g.jsxs("div",{className:"impact-content",children:[g.jsx("h3",{children:"Tu Impacto Ambiental"}),g.jsxs("p",{children:["Has contribuido al medio ambiente reciclando"," ",g.jsxs("strong",{children:[((p=e==null?void 0:e.total_recycled_kg)==null?void 0:p.toFixed(1))||"0"," kg"]})," de materiales. ¡Sigue así!"]})]})]})]})};function T1(e,t){const n=C.useRef(t);C.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Y2=1;function Q2(e){return Object.freeze({__version:Y2,map:e})}function X2(e,t){return Object.freeze({...e,...t})}const E1=C.createContext(null),C1=E1.Provider;function j1(){const e=C.useContext(E1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function eR(e){function t(n,i){const{instance:s,context:o}=e(n).current;return C.useImperativeHandle(i,()=>s),n.children==null?null:no.createElement(C1,{value:o},n.children)}return C.forwardRef(t)}function tR(e){function t(n,i){const[s,o]=C.useState(!1),{instance:l}=e(n,o).current;C.useImperativeHandle(i,()=>l),C.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?D0.createPortal(n.children,c):null}return C.forwardRef(t)}function nR(e){function t(n,i){const{instance:s}=e(n).current;return C.useImperativeHandle(i,()=>s),null}return C.forwardRef(t)}function L1(e,t){const n=C.useRef();C.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function ip(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function iR(e,t){return function(i,s){const o=j1(),l=e(ip(i,o),o);return T1(o.map,i.attribution),L1(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var dd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(rP,function(n){var i="1.9.4";function s(r){var a,u,f,v;for(u=1,f=arguments.length;u<f;u++){v=arguments[u];for(a in v)r[a]=v[a]}return r}var o=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var f=u.call(arguments,2);return function(){return r.apply(a,f.length?f.concat(u.call(arguments)):arguments)}}var c=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function d(r,a,u){var f,v,w,T;return T=function(){f=!1,v&&(w.apply(u,v),v=!1)},w=function(){f?v=arguments:(r.apply(u,arguments),setTimeout(T,a),f=!0)},w}function m(r,a,u){var f=a[1],v=a[0],w=f-v;return r===f&&u?r:((r-v)%w+w)%w+v}function p(){return!1}function y(r,a){if(a===!1)return r;var u=Math.pow(10,a===void 0?6:a);return Math.round(r*u)/u}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function S(r){return _(r).split(/\s+/)}function k(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var u in a)r.options[u]=a[u];return r.options}function E(r,a,u){var f=[];for(var v in r)f.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(r[v]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function x(r,a){return r.replace(P,function(u,f){var v=a[f];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(a)),v})}var b=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function j(r,a){for(var u=0;u<r.length;u++)if(r[u]===a)return u;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function D(r){var a=+new Date,u=Math.max(0,16-(a-z));return z=a+u,window.setTimeout(r,u)}var q=window.requestAnimationFrame||N("RequestAnimationFrame")||D,Z=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function oe(r,a,u){if(u&&q===D)r.call(a);else return q.call(window,l(r,a))}function Le(r){r&&Z.call(window,r)}var mn={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:h,throttle:d,wrapNum:m,falseFn:p,formatNum:y,trim:_,splitWords:S,setOptions:k,getParamString:E,template:x,isArray:b,indexOf:j,emptyImageUrl:R,requestFn:q,cancelFn:Z,requestAnimFrame:oe,cancelAnimFrame:Le};function ot(){}ot.extend=function(r){var a=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,f=o(u);f.constructor=a,a.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(a[v]=this[v]);return r.statics&&s(a,r.statics),r.includes&&($o(r.includes),s.apply(null,[f].concat(r.includes))),s(f,r),delete f.statics,delete f.includes,f.options&&(f.options=u.options?o(u.options):{},s(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,T=f._initHooks.length;w<T;w++)f._initHooks[w].call(this)}},a},ot.include=function(r){var a=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},ot.mergeOptions=function(r){return s(this.prototype.options,r),this},ot.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function $o(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=b(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $e={on:function(r,a,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],a);else{r=S(r);for(var v=0,w=r.length;v<w;v++)this._on(r[v],a,u)}return this},off:function(r,a,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],a);else{r=S(r);for(var v=arguments.length===1,w=0,T=r.length;w<T;w++)v?this._off(r[w]):this._off(r[w],a,u)}return this},_on:function(r,a,u,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,u)===!1){u===this&&(u=void 0);var v={fn:a,ctx:u};f&&(v.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(v)}},_off:function(r,a,u){var f,v,w;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,w=f.length;v<w;v++)f[v].fn=p;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var T=this._listens(r,a,u);if(T!==!1){var O=f[T];this._firingCount&&(O.fn=p,this._events[r]=f=f.slice()),f.splice(T,1)}}},fire:function(r,a,u){if(!this.listens(r,u))return this;var f=s({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var v=this._events[r];if(v){this._firingCount=this._firingCount+1||1;for(var w=0,T=v.length;w<T;w++){var O=v[w],A=O.fn;O.once&&this.off(r,A,O.ctx),A.call(O.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(r,a,u,f){typeof r!="string"&&console.warn('"string" type argument expected');var v=a;typeof a!="function"&&(f=!!a,v=void 0,u=void 0);var w=this._events&&this._events[r];if(w&&w.length&&this._listens(r,v,u)!==!1)return!0;if(f){for(var T in this._eventParents)if(this._eventParents[T].listens(r,a,u,f))return!0}return!1},_listens:function(r,a,u){if(!this._events)return!1;var f=this._events[r]||[];if(!a)return!!f.length;u===this&&(u=void 0);for(var v=0,w=f.length;v<w;v++)if(f[v].fn===a&&f[v].ctx===u)return v;return!1},once:function(r,a,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],a,!0);else{r=S(r);for(var v=0,w=r.length;v<w;v++)this._on(r[v],a,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};$e.addEventListener=$e.on,$e.removeEventListener=$e.clearAllEventListeners=$e.off,$e.addOneTimeEventListener=$e.once,$e.fireEvent=$e.fire,$e.hasEventListeners=$e.listens;var ve=ot.extend($e);function I(r,a,u){this.x=u?Math.round(r):r,this.y=u?Math.round(a):a}var J=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(r){return this.clone()._add(V(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(V(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new I(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new I(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(r){r=V(r);var a=r.x-this.x,u=r.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(r){return r=V(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=V(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function V(r,a,u){return r instanceof I?r:b(r)?new I(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new I(r.x,r.y):new I(r,a,u)}function Q(r,a){if(r)for(var u=a?[r,a]:r,f=0,v=u.length;f<v;f++)this.extend(u[f])}Q.prototype={extend:function(r){var a,u;if(!r)return this;if(r instanceof I||typeof r[0]=="number"||"x"in r)a=u=V(r);else if(r=ae(r),a=r.min,u=r.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,u;return typeof r[0]=="number"||r instanceof I?r=V(r):r=ae(r),r instanceof Q?(a=r.min,u=r.max):a=u=r,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=ae(r);var a=this.min,u=this.max,f=r.min,v=r.max,w=v.x>=a.x&&f.x<=u.x,T=v.y>=a.y&&f.y<=u.y;return w&&T},overlaps:function(r){r=ae(r);var a=this.min,u=this.max,f=r.min,v=r.max,w=v.x>a.x&&f.x<u.x,T=v.y>a.y&&f.y<u.y;return w&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,u=this.max,f=Math.abs(a.x-u.x)*r,v=Math.abs(a.y-u.y)*r;return ae(V(a.x-f,a.y-v),V(u.x+f,u.y+v))},equals:function(r){return r?(r=ae(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ae(r,a){return!r||r instanceof Q?r:new Q(r,a)}function Be(r,a){if(r)for(var u=a?[r,a]:r,f=0,v=u.length;f<v;f++)this.extend(u[f])}Be.prototype={extend:function(r){var a=this._southWest,u=this._northEast,f,v;if(r instanceof ue)f=r,v=r;else if(r instanceof Be){if(f=r._southWest,v=r._northEast,!f||!v)return this}else return r?this.extend(ee(r)||fe(r)):this;return!a&&!u?(this._southWest=new ue(f.lat,f.lng),this._northEast=new ue(v.lat,v.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(r){var a=this._southWest,u=this._northEast,f=Math.abs(a.lat-u.lat)*r,v=Math.abs(a.lng-u.lng)*r;return new Be(new ue(a.lat-f,a.lng-v),new ue(u.lat+f,u.lng+v))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ue||"lat"in r?r=ee(r):r=fe(r);var a=this._southWest,u=this._northEast,f,v;return r instanceof Be?(f=r.getSouthWest(),v=r.getNorthEast()):f=v=r,f.lat>=a.lat&&v.lat<=u.lat&&f.lng>=a.lng&&v.lng<=u.lng},intersects:function(r){r=fe(r);var a=this._southWest,u=this._northEast,f=r.getSouthWest(),v=r.getNorthEast(),w=v.lat>=a.lat&&f.lat<=u.lat,T=v.lng>=a.lng&&f.lng<=u.lng;return w&&T},overlaps:function(r){r=fe(r);var a=this._southWest,u=this._northEast,f=r.getSouthWest(),v=r.getNorthEast(),w=v.lat>a.lat&&f.lat<u.lat,T=v.lng>a.lng&&f.lng<u.lng;return w&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=fe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(r,a){return r instanceof Be?r:new Be(r,a)}function ue(r,a,u){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,u!==void 0&&(this.alt=+u)}ue.prototype={equals:function(r,a){if(!r)return!1;r=ee(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+y(this.lat,r)+", "+y(this.lng,r)+")"},distanceTo:function(r){return Mn.distance(this,ee(r))},wrap:function(){return Mn.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return fe([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function ee(r,a,u){return r instanceof ue?r:b(r)&&typeof r[0]!="object"?r.length===3?new ue(r[0],r[1],r[2]):r.length===2?new ue(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ue(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new ue(r,a,u)}var dt={latLngToPoint:function(r,a){var u=this.projection.project(r),f=this.scale(a);return this.transformation._transform(u,f)},pointToLatLng:function(r,a){var u=this.scale(a),f=this.transformation.untransform(r,u);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(r),f=this.transformation.transform(a.min,u),v=this.transformation.transform(a.max,u);return new Q(f,v)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?m(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?m(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new ue(u,a,f)},wrapLatLngBounds:function(r){var a=r.getCenter(),u=this.wrapLatLng(a),f=a.lat-u.lat,v=a.lng-u.lng;if(f===0&&v===0)return r;var w=r.getSouthWest(),T=r.getNorthEast(),O=new ue(w.lat-f,w.lng-v),A=new ue(T.lat-f,T.lng-v);return new Be(O,A)}},Mn=s({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var u=Math.PI/180,f=r.lat*u,v=a.lat*u,w=Math.sin((a.lat-r.lat)*u/2),T=Math.sin((a.lng-r.lng)*u/2),O=w*w+Math.cos(f)*Math.cos(v)*T*T,A=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*A}}),op=6378137,lu={R:op,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,r.lat),-u),v=Math.sin(f*a);return new I(this.R*r.lng*a,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(r){var a=180/Math.PI;return new ue((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=op*Math.PI;return new Q([-r,-r],[r,r])}()};function uu(r,a,u,f){if(b(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=u,this._d=f}uu.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new I((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function us(r,a,u,f){return new uu(r,a,u,f)}var cu=s({},Mn,{code:"EPSG:3857",projection:lu,transformation:function(){var r=.5/(Math.PI*lu.R);return us(r,.5,-r,.5)}()}),R1=s({},cu,{code:"EPSG:900913"});function ap(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function lp(r,a){var u="",f,v,w,T,O,A;for(f=0,w=r.length;f<w;f++){for(O=r[f],v=0,T=O.length;v<T;v++)A=O[v],u+=(v?"L":"M")+A.x+" "+A.y;u+=a?W.svg?"z":"x":""}return u||"M0 0"}var hu=document.documentElement.style,Wo="ActiveXObject"in window,N1=Wo&&!document.addEventListener,up="msLaunchUri"in navigator&&!("documentMode"in document),du=nn("webkit"),cp=nn("android"),hp=nn("android 2")||nn("android 3"),I1=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),M1=cp&&nn("Google")&&I1<537&&!("AudioNode"in window),fu=!!window.opera,dp=!up&&nn("chrome"),fp=nn("gecko")&&!du&&!fu&&!Wo,D1=!dp&&nn("safari"),pp=nn("phantom"),mp="OTransition"in hu,z1=navigator.platform.indexOf("Win")===0,gp=Wo&&"transition"in hu,pu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hp,vp="MozPerspective"in hu,B1=!window.L_DISABLE_3D&&(gp||pu||vp)&&!mp&&!pp,cs=typeof orientation<"u"||nn("mobile"),V1=cs&&du,U1=cs&&pu,yp=!window.PointerEvent&&window.MSPointerEvent,_p=!!(window.PointerEvent||yp),wp="ontouchstart"in window||!!window.TouchEvent,F1=!window.L_NO_TOUCH&&(wp||_p),$1=cs&&fu,W1=cs&&fp,H1=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Z1=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",p,a),window.removeEventListener("testPassiveEventSupport",p,a)}catch{}return r}(),q1=function(){return!!document.createElement("canvas").getContext}(),mu=!!(document.createElementNS&&ap("svg").createSVGRect),K1=!!mu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),G1=!mu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),J1=navigator.platform.indexOf("Mac")===0,Y1=navigator.platform.indexOf("Linux")===0;function nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var W={ie:Wo,ielt9:N1,edge:up,webkit:du,android:cp,android23:hp,androidStock:M1,opera:fu,chrome:dp,gecko:fp,safari:D1,phantom:pp,opera12:mp,win:z1,ie3d:gp,webkit3d:pu,gecko3d:vp,any3d:B1,mobile:cs,mobileWebkit:V1,mobileWebkit3d:U1,msPointer:yp,pointer:_p,touch:F1,touchNative:wp,mobileOpera:$1,mobileGecko:W1,retina:H1,passiveEvents:Z1,canvas:q1,svg:mu,vml:G1,inlineSvg:K1,mac:J1,linux:Y1},xp=W.msPointer?"MSPointerDown":"pointerdown",Sp=W.msPointer?"MSPointerMove":"pointermove",Pp=W.msPointer?"MSPointerUp":"pointerup",bp=W.msPointer?"MSPointerCancel":"pointercancel",gu={touchstart:xp,touchmove:Sp,touchend:Pp,touchcancel:bp},kp={touchstart:iS,touchmove:Ho,touchend:Ho,touchcancel:Ho},Yi={},Tp=!1;function Q1(r,a,u){return a==="touchstart"&&nS(),kp[a]?(u=kp[a].bind(this,u),r.addEventListener(gu[a],u,!1),u):(console.warn("wrong event specified:",a),p)}function X1(r,a,u){if(!gu[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(gu[a],u,!1)}function eS(r){Yi[r.pointerId]=r}function tS(r){Yi[r.pointerId]&&(Yi[r.pointerId]=r)}function Ep(r){delete Yi[r.pointerId]}function nS(){Tp||(document.addEventListener(xp,eS,!0),document.addEventListener(Sp,tS,!0),document.addEventListener(Pp,Ep,!0),document.addEventListener(bp,Ep,!0),Tp=!0)}function Ho(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in Yi)a.touches.push(Yi[u]);a.changedTouches=[a],r(a)}}function iS(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&qe(a),Ho(r,a)}function rS(r){var a={},u,f;for(f in r)u=r[f],a[f]=u&&u.bind?u.bind(r):u;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var sS=200;function oS(r,a){r.addEventListener("dblclick",a);var u=0,f;function v(w){if(w.detail!==1){f=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var T=Ap(w);if(!(T.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!T.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var O=Date.now();O-u<=sS?(f++,f===2&&a(rS(w))):f=1,u=O}}}return r.addEventListener("click",v),{dblclick:a,simDblclick:v}}function aS(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var vu=Ko(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hs=Ko(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cp=hs==="webkitTransition"||hs==="OTransition"?hs+"End":"transitionend";function jp(r){return typeof r=="string"?document.getElementById(r):r}function ds(r,a){var u=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);u=f?f[a]:null}return u==="auto"?null:u}function ce(r,a,u){var f=document.createElement(r);return f.className=a||"",u&&u.appendChild(f),f}function Se(r){var a=r.parentNode;a&&a.removeChild(r)}function Zo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Qi(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function Xi(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function yu(r,a){if(r.classList!==void 0)return r.classList.contains(a);var u=qo(r);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function ne(r,a){if(r.classList!==void 0)for(var u=S(a),f=0,v=u.length;f<v;f++)r.classList.add(u[f]);else if(!yu(r,a)){var w=qo(r);_u(r,(w?w+" ":"")+a)}}function Oe(r,a){r.classList!==void 0?r.classList.remove(a):_u(r,_((" "+qo(r)+" ").replace(" "+a+" "," ")))}function _u(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function qo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ot(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&lS(r,a)}function lS(r,a){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):r.style.filter+=" progid:"+f+"(opacity="+a+")"}function Ko(r){for(var a=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in a)return r[u];return!1}function _i(r,a,u){var f=a||new I(0,0);r.style[vu]=(W.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function Ie(r,a){r._leaflet_pos=a,W.any3d?_i(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function wi(r){return r._leaflet_pos||new I(0,0)}var fs,ps,wu;if("onselectstart"in document)fs=function(){te(window,"selectstart",qe)},ps=function(){pe(window,"selectstart",qe)};else{var ms=Ko(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(ms){var r=document.documentElement.style;wu=r[ms],r[ms]="none"}},ps=function(){ms&&(document.documentElement.style[ms]=wu,wu=void 0)}}function xu(){te(window,"dragstart",qe)}function Su(){pe(window,"dragstart",qe)}var Go,Pu;function bu(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Jo(),Go=r,Pu=r.style.outlineStyle,r.style.outlineStyle="none",te(window,"keydown",Jo))}function Jo(){Go&&(Go.style.outlineStyle=Pu,Go=void 0,Pu=void 0,pe(window,"keydown",Jo))}function Lp(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ku(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var uS={__proto__:null,TRANSFORM:vu,TRANSITION:hs,TRANSITION_END:Cp,get:jp,getStyle:ds,create:ce,remove:Se,empty:Zo,toFront:Qi,toBack:Xi,hasClass:yu,addClass:ne,removeClass:Oe,setClass:_u,getClass:qo,setOpacity:Ot,testProp:Ko,setTransform:_i,setPosition:Ie,getPosition:wi,get disableTextSelection(){return fs},get enableTextSelection(){return ps},disableImageDrag:xu,enableImageDrag:Su,preventOutline:bu,restoreOutline:Jo,getSizedParentNode:Lp,getScale:ku};function te(r,a,u,f){if(a&&typeof a=="object")for(var v in a)Eu(r,v,a[v],u);else{a=S(a);for(var w=0,T=a.length;w<T;w++)Eu(r,a[w],u,f)}return this}var rn="_leaflet_events";function pe(r,a,u,f){if(arguments.length===1)Op(r),delete r[rn];else if(a&&typeof a=="object")for(var v in a)Cu(r,v,a[v],u);else if(a=S(a),arguments.length===2)Op(r,function(O){return j(a,O)!==-1});else for(var w=0,T=a.length;w<T;w++)Cu(r,a[w],u,f);return this}function Op(r,a){for(var u in r[rn]){var f=u.split(/\d/)[0];(!a||a(f))&&Cu(r,f,null,null,u)}}var Tu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Eu(r,a,u,f){var v=a+h(u)+(f?"_"+h(f):"");if(r[rn]&&r[rn][v])return this;var w=function(O){return u.call(f||r,O||window.event)},T=w;!W.touchNative&&W.pointer&&a.indexOf("touch")===0?w=Q1(r,a,w):W.touch&&a==="dblclick"?w=oS(r,w):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Tu[a]||a,w,W.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(w=function(O){O=O||window.event,Lu(r,O)&&T(O)},r.addEventListener(Tu[a],w,!1)):r.addEventListener(a,T,!1):r.attachEvent("on"+a,w),r[rn]=r[rn]||{},r[rn][v]=w}function Cu(r,a,u,f,v){v=v||a+h(u)+(f?"_"+h(f):"");var w=r[rn]&&r[rn][v];if(!w)return this;!W.touchNative&&W.pointer&&a.indexOf("touch")===0?X1(r,a,w):W.touch&&a==="dblclick"?aS(r,w):"removeEventListener"in r?r.removeEventListener(Tu[a]||a,w,!1):r.detachEvent("on"+a,w),r[rn][v]=null}function xi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ju(r){return Eu(r,"wheel",xi),this}function gs(r){return te(r,"mousedown touchstart dblclick contextmenu",xi),r._leaflet_disable_click=!0,this}function qe(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Si(r){return qe(r),xi(r),this}function Ap(r){if(r.composedPath)return r.composedPath();for(var a=[],u=r.target;u;)a.push(u),u=u.parentNode;return a}function Rp(r,a){if(!a)return new I(r.clientX,r.clientY);var u=ku(a),f=u.boundingClientRect;return new I((r.clientX-f.left)/u.x-a.clientLeft,(r.clientY-f.top)/u.y-a.clientTop)}var cS=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Np(r){return W.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/cS:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Lu(r,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var hS={__proto__:null,on:te,off:pe,stopPropagation:xi,disableScrollPropagation:ju,disableClickPropagation:gs,preventDefault:qe,stop:Si,getPropagationPath:Ap,getMousePosition:Rp,getWheelDelta:Np,isExternalTarget:Lu,addListener:te,removeListener:pe},Ip=ve.extend({run:function(r,a,u,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=wi(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var u=this._startPos.add(this._offset.multiplyBy(r));a&&u._round(),Ie(this._el,u),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),se=ve.extend({options:{crs:cu,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=k(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ee(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hs&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),te(this._proxy,Cp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(ee(r),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,u.zoom):this._tryAnimatedPan(r,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,u){var f=this.getZoomScale(a),v=this.getSize().divideBy(2),w=r instanceof I?r:this.latLngToContainerPoint(r),T=w.subtract(v).multiplyBy(1-1/f),O=this.containerPointToLatLng(v.add(T));return this.setView(O,a,{zoom:u})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():fe(r);var u=V(a.paddingTopLeft||a.padding||[0,0]),f=V(a.paddingBottomRight||a.padding||[0,0]),v=this.getBoundsZoom(r,!1,u.add(f));if(v=typeof a.maxZoom=="number"?Math.min(a.maxZoom,v):v,v===1/0)return{center:r.getCenter(),zoom:v};var w=f.subtract(u).divideBy(2),T=this.project(r.getSouthWest(),v),O=this.project(r.getNorthEast(),v),A=this.unproject(T.add(O).divideBy(2).add(w),v);return{center:A,zoom:v}},fitBounds:function(r,a){if(r=fe(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=V(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ip,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,u){if(u=u||{},u.animate===!1||!W.any3d)return this.setView(r,a,u);this._stop();var f=this.project(this.getCenter()),v=this.project(r),w=this.getSize(),T=this._zoom;r=ee(r),a=a===void 0?T:a;var O=Math.max(w.x,w.y),A=O*this.getZoomScale(T,a),M=v.distanceTo(f)||1,U=1.42,G=U*U;function ie(Me){var la=Me?-1:1,XS=Me?A:O,eP=A*A-O*O+la*G*G*M*M,tP=2*XS*G*M,Uu=eP/tP,mm=Math.sqrt(Uu*Uu+1)-Uu,nP=mm<1e-9?-18:Math.log(mm);return nP}function at(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function We(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function Rt(Me){return at(Me)/We(Me)}var ft=ie(0);function sr(Me){return O*(We(ft)/We(ft+U*Me))}function GS(Me){return O*(We(ft)*Rt(ft+U*Me)-at(ft))/G}function JS(Me){return 1-Math.pow(1-Me,1.5)}var YS=Date.now(),fm=(ie(1)-ft)/U,QS=u.duration?1e3*u.duration:1e3*fm*.8;function pm(){var Me=(Date.now()-YS)/QS,la=JS(Me)*fm;Me<=1?(this._flyToFrame=oe(pm,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(GS(la)/M)),T),this.getScaleZoom(O/sr(la),T),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),pm.call(this),this},flyToBounds:function(r,a){var u=this._getBoundsCenterZoom(r,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(r){return r=fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,fe(r));return u.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var u=V(a.paddingTopLeft||a.padding||[0,0]),f=V(a.paddingBottomRight||a.padding||[0,0]),v=this.project(this.getCenter()),w=this.project(r),T=this.getPixelBounds(),O=ae([T.min.add(u),T.max.subtract(f)]),A=O.getSize();if(!O.contains(w)){this._enforcingBounds=!0;var M=w.subtract(O.getCenter()),U=O.extend(w).getSize().subtract(A);v.x+=M.x<0?-U.x:U.x,v.y+=M.y<0?-U.y:U.y,this.panTo(this.unproject(v),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=a.divideBy(2).round(),v=u.divideBy(2).round(),w=f.subtract(v);return!w.x&&!w.y?this:(r.animate&&r.pan?this.panBy(w):(r.pan&&this._rawPanBy(w),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,r):navigator.geolocation.getCurrentPosition(a,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,u=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,u=r.coords.longitude,f=new ue(a,u),v=f.toBounds(r.coords.accuracy*2),w=this._locateOptions;if(w.setView){var T=this.getBoundsZoom(v);this.setView(f,w.maxZoom?Math.min(T,w.maxZoom):T)}var O={latlng:f,bounds:v,timestamp:r.timestamp};for(var A in r.coords)typeof r.coords[A]=="number"&&(O[A]=r.coords[A]);this.fire("locationfound",O)}},addHandler:function(r,a){if(!a)return this;var u=this[r]=new a(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Se(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=ce("div",u,a||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new Be(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,u){r=fe(r),u=V(u||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),w=this.getMaxZoom(),T=r.getNorthWest(),O=r.getSouthEast(),A=this.getSize().subtract(u),M=ae(this.project(O,f),this.project(T,f)).getSize(),U=W.any3d?this.options.zoomSnap:1,G=A.x/M.x,ie=A.y/M.y,at=a?Math.max(G,ie):Math.min(G,ie);return f=this.getScaleZoom(at,f),U&&(f=Math.round(f/(U/100))*(U/100),f=a?Math.ceil(f/U)*U:Math.floor(f/U)*U),Math.max(v,Math.min(w,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var u=this._getTopLeftPoint(r,a);return new Q(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(r)/u.scale(a)},getScaleZoom:function(r,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var f=u.zoom(r*u.scale(a));return isNaN(f)?1/0:f},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ee(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(V(r),a)},layerPointToLatLng:function(r){var a=V(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(ee(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ee(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(fe(r))},distance:function(r,a){return this.options.crs.distance(ee(r),ee(a))},containerPointToLayerPoint:function(r){return V(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return V(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(V(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(r)))},mouseEventToContainerPoint:function(r){return Rp(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=jp(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");te(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,ne(r,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ds(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(r.markerPane,"leaflet-zoom-hide"),ne(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,u){Ie(this._mapPane,new I(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var v=this._zoom!==a;this._moveStart(v,u)._move(r,a)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,u,f){a===void 0&&(a=this._zoom);var v=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ie(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var a=r?pe:te;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var u=[],f,v=a==="mouseout"||a==="mouseover",w=r.target||r.srcElement,T=!1;w;){if(f=this._targets[h(w)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){T=!0;break}if(f&&f.listens(a,!0)&&(v&&!Lu(w,r)||(u.push(f),v))||w===this._container)break;w=w.parentNode}return!u.length&&!T&&!v&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var u=r.type;u==="mousedown"&&bu(a),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,u){if(r.type==="click"){var f=s({},r);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var v=this._findEventTargets(r,a);if(u){for(var w=[],T=0;T<u.length;T++)u[T].listens(a,!0)&&w.push(u[T]);v=w.concat(v)}if(v.length){a==="contextmenu"&&qe(r);var O=v[0],A={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var M=O.getLatLng&&(!O._radius||O._radius<=10);A.containerPoint=M?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(r),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=M?O.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(T=0;T<v.length;T++)if(v[T].fire(a,A,!0),A.originalEvent._stopped||v[T].options.bubblingMouseEvents===!1&&j(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return wi(this._mapPane)||new I(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var u=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var u=this.getSize()._divideBy(2);return this.project(r,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,u){var f=this._getNewPixelOrigin(u,a);return this.project(r,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,a,u){var f=this._getNewPixelOrigin(u,a);return ae([this.project(r.getSouthWest(),a)._subtract(f),this.project(r.getNorthWest(),a)._subtract(f),this.project(r.getSouthEast(),a)._subtract(f),this.project(r.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,u){if(!u)return r;var f=this.project(r,a),v=this.getSize().divideBy(2),w=new Q(f.subtract(v),f.add(v)),T=this._getBoundsOffset(w,u,a);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?r:this.unproject(f.add(T),a)},_limitOffset:function(r,a){if(!a)return r;var u=this.getPixelBounds(),f=new Q(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(r,a,u){var f=ae(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),v=f.min.subtract(r.min),w=f.max.subtract(r.max),T=this._rebound(v.x,-w.x),O=this._rebound(v.y,-w.y);return new I(T,O)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),u=this.getMaxZoom(),f=W.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(a,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var u=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var r=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var u=vu,f=this._proxy.style[u];_i(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();_i(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),v=this._getCenterOffset(r)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(v)?!1:(oe(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dS(r,a){return new se(r,a)}var Ft=ot.extend({options:{position:"topright"},initialize:function(r){k(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),u=this.getPosition(),f=r._controlCorners[u];return ne(a,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),vs=function(r){return new Ft(r)};se.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",u=this._controlContainer=ce("div",a+"control-container",this._container);function f(v,w){var T=a+v+" "+a+w;r[v+w]=ce("div",T,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Se(this._controlCorners[r]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mp=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,u,f){return u<f?-1:f<u?1:0}},initialize:function(r,a,u){k(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ft.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=ce("div",r),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),gs(a),ju(a);var f=this._section=ce("section",r+"-list");u&&(this._map.on("click",this.collapse,this),te(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=ce("a",r+"-toggle",a);v.href="#",v.title="Layers",v.setAttribute("role","button"),te(v,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){qe(w),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ce("div",r+"-base",f),this._separator=ce("div",r+"-separator",f),this._overlaysList=ce("div",r+"-overlays",f),a.appendChild(f)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zo(this._baseLayersList),Zo(this._overlaysList),this._layerControlInputs=[];var r,a,u,f,v=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),a=a||f.overlay,r=r||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&v>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(h(r.target)),u=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(r,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(r){var a=document.createElement("label"),u=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(f),f.layerId=h(r.layer),te(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+r.name;var w=document.createElement("span");a.appendChild(w),w.appendChild(f),w.appendChild(v);var T=r.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,u,f=[],v=[];this._handlingClick=!0;for(var w=r.length-1;w>=0;w--)a=r[w],u=this._getLayer(a.layerId).layer,a.checked?f.push(u):a.checked||v.push(u);for(w=0;w<v.length;w++)this._map.hasLayer(v[w])&&this._map.removeLayer(v[w]);for(w=0;w<f.length;w++)this._map.hasLayer(f[w])||this._map.addLayer(f[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,u,f=this._map.getZoom(),v=r.length-1;v>=0;v--)a=r[v],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,te(r,"click",qe),this.expand();var a=this;setTimeout(function(){pe(r,"click",qe),a._preventClick=!1})}}),fS=function(r,a,u){return new Mp(r,a,u)},Ou=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",u=ce("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,u,f,v){var w=ce("a",u,f);return w.innerHTML=r,w.href="#",w.title=a,w.setAttribute("role","button"),w.setAttribute("aria-label",a),gs(w),te(w,"click",Si),te(w,"click",v,this),te(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Oe(this._zoomInButton,a),Oe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(ne(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(ne(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});se.mergeOptions({zoomControl:!0}),se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ou,this.addControl(this.zoomControl))});var pS=function(r){return new Ou(r)},Dp=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",u=ce("div",a),f=this.options;return this._addScales(f,a+"-line",u),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,u){r.metric&&(this._mScale=ce("div",a,u)),r.imperial&&(this._iScale=ce("div",a,u))},_update:function(){var r=this._map,a=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/r)},_updateImperial:function(r){var a=r*3.2808399,u,f,v;a>5280?(u=a/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(v=this._getRoundNum(a),this._updateScale(this._iScale,v+" ft",v/a))},_updateScale:function(r,a,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),u=r/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),mS=function(r){return new Dp(r)},gS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Au=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?gS+" ":"")+"Leaflet</a>"},initialize:function(r){k(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),gs(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});se.mergeOptions({attributionControl:!0}),se.addInitHook(function(){this.options.attributionControl&&new Au().addTo(this)});var vS=function(r){return new Au(r)};Ft.Layers=Mp,Ft.Zoom=Ou,Ft.Scale=Dp,Ft.Attribution=Au,vs.layers=fS,vs.zoom=pS,vs.scale=mS,vs.attribution=vS;var sn=ot.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});sn.addTo=function(r,a){return r.addHandler(a,this),this};var yS={Events:$e},zp=W.touch?"touchstart mousedown":"mousedown",Dn=ve.extend({options:{clickTolerance:3},initialize:function(r,a,u,f){k(this,f),this._element=r,this._dragStartTarget=a||r,this._preventOutline=u},enable:function(){this._enabled||(te(this._dragStartTarget,zp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dn._dragging===this&&this.finishDrag(!0),pe(this._dragStartTarget,zp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!yu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Dn._dragging===this&&this.finishDrag();return}if(!(Dn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Dn._dragging=this,this._preventOutline&&bu(this._element),xu(),fs(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,u=Lp(this._element);this._startPoint=new I(a.clientX,a.clientY),this._startPos=wi(this._element),this._parentScale=ku(u);var f=r.type==="mousedown";te(document,f?"mousemove":"touchmove",this._onMove,this),te(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,u=new I(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,qe(r),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ie(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pe(document,"mousemove touchmove",this._onMove,this),pe(document,"mouseup touchend touchcancel",this._onUp,this),Su(),ps();var a=this._moved&&this._moving;this._moving=!1,Dn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Bp(r,a,u){var f,v=[1,4,2,8],w,T,O,A,M,U,G,ie;for(w=0,U=r.length;w<U;w++)r[w]._code=Pi(r[w],a);for(O=0;O<4;O++){for(G=v[O],f=[],w=0,U=r.length,T=U-1;w<U;T=w++)A=r[w],M=r[T],A._code&G?M._code&G||(ie=Yo(M,A,G,a,u),ie._code=Pi(ie,a),f.push(ie)):(M._code&G&&(ie=Yo(M,A,G,a,u),ie._code=Pi(ie,a),f.push(ie)),f.push(A));r=f}return r}function Vp(r,a){var u,f,v,w,T,O,A,M,U;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var G=ee([0,0]),ie=fe(r),at=ie.getNorthWest().distanceTo(ie.getSouthWest())*ie.getNorthEast().distanceTo(ie.getNorthWest());at<1700&&(G=Ru(r));var We=r.length,Rt=[];for(u=0;u<We;u++){var ft=ee(r[u]);Rt.push(a.project(ee([ft.lat-G.lat,ft.lng-G.lng])))}for(O=A=M=0,u=0,f=We-1;u<We;f=u++)v=Rt[u],w=Rt[f],T=v.y*w.x-w.y*v.x,A+=(v.x+w.x)*T,M+=(v.y+w.y)*T,O+=T*3;O===0?U=Rt[0]:U=[A/O,M/O];var sr=a.unproject(V(U));return ee([sr.lat+G.lat,sr.lng+G.lng])}function Ru(r){for(var a=0,u=0,f=0,v=0;v<r.length;v++){var w=ee(r[v]);a+=w.lat,u+=w.lng,f++}return ee([a/f,u/f])}var _S={__proto__:null,clipPolygon:Bp,polygonCenter:Vp,centroid:Ru};function Up(r,a){if(!a||!r.length)return r.slice();var u=a*a;return r=SS(r,u),r=xS(r,u),r}function Fp(r,a,u){return Math.sqrt(ys(r,a,u,!0))}function wS(r,a,u){return ys(r,a,u)}function xS(r,a){var u=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,v=new f(u);v[0]=v[u-1]=1,Nu(r,v,a,0,u-1);var w,T=[];for(w=0;w<u;w++)v[w]&&T.push(r[w]);return T}function Nu(r,a,u,f,v){var w=0,T,O,A;for(O=f+1;O<=v-1;O++)A=ys(r[O],r[f],r[v],!0),A>w&&(T=O,w=A);w>u&&(a[T]=1,Nu(r,a,u,f,T),Nu(r,a,u,T,v))}function SS(r,a){for(var u=[r[0]],f=1,v=0,w=r.length;f<w;f++)PS(r[f],r[v])>a&&(u.push(r[f]),v=f);return v<w-1&&u.push(r[w-1]),u}var $p;function Wp(r,a,u,f,v){var w=f?$p:Pi(r,u),T=Pi(a,u),O,A,M;for($p=T;;){if(!(w|T))return[r,a];if(w&T)return!1;O=w||T,A=Yo(r,a,O,u,v),M=Pi(A,u),O===w?(r=A,w=M):(a=A,T=M)}}function Yo(r,a,u,f,v){var w=a.x-r.x,T=a.y-r.y,O=f.min,A=f.max,M,U;return u&8?(M=r.x+w*(A.y-r.y)/T,U=A.y):u&4?(M=r.x+w*(O.y-r.y)/T,U=O.y):u&2?(M=A.x,U=r.y+T*(A.x-r.x)/w):u&1&&(M=O.x,U=r.y+T*(O.x-r.x)/w),new I(M,U,v)}function Pi(r,a){var u=0;return r.x<a.min.x?u|=1:r.x>a.max.x&&(u|=2),r.y<a.min.y?u|=4:r.y>a.max.y&&(u|=8),u}function PS(r,a){var u=a.x-r.x,f=a.y-r.y;return u*u+f*f}function ys(r,a,u,f){var v=a.x,w=a.y,T=u.x-v,O=u.y-w,A=T*T+O*O,M;return A>0&&(M=((r.x-v)*T+(r.y-w)*O)/A,M>1?(v=u.x,w=u.y):M>0&&(v+=T*M,w+=O*M)),T=r.x-v,O=r.y-w,f?T*T+O*O:new I(v,w)}function At(r){return!b(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Hp(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),At(r)}function Zp(r,a){var u,f,v,w,T,O,A,M;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=ee([0,0]),G=fe(r),ie=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());ie<1700&&(U=Ru(r));var at=r.length,We=[];for(u=0;u<at;u++){var Rt=ee(r[u]);We.push(a.project(ee([Rt.lat-U.lat,Rt.lng-U.lng])))}for(u=0,f=0;u<at-1;u++)f+=We[u].distanceTo(We[u+1])/2;if(f===0)M=We[0];else for(u=0,w=0;u<at-1;u++)if(T=We[u],O=We[u+1],v=T.distanceTo(O),w+=v,w>f){A=(w-f)/v,M=[O.x-A*(O.x-T.x),O.y-A*(O.y-T.y)];break}var ft=a.unproject(V(M));return ee([ft.lat+U.lat,ft.lng+U.lng])}var bS={__proto__:null,simplify:Up,pointToSegmentDistance:Fp,closestPointOnSegment:wS,clipSegment:Wp,_getEdgeIntersection:Yo,_getBitCode:Pi,_sqClosestPointOnSegment:ys,isFlat:At,_flat:Hp,polylineCenter:Zp},Iu={project:function(r){return new I(r.lng,r.lat)},unproject:function(r){return new ue(r.y,r.x)},bounds:new Q([-180,-90],[180,90])},Mu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,u=this.R,f=r.lat*a,v=this.R_MINOR/u,w=Math.sqrt(1-v*v),T=w*Math.sin(f),O=Math.tan(Math.PI/4-f/2)/Math.pow((1-T)/(1+T),w/2);return f=-u*Math.log(Math.max(O,1e-10)),new I(r.lng*a*u,f)},unproject:function(r){for(var a=180/Math.PI,u=this.R,f=this.R_MINOR/u,v=Math.sqrt(1-f*f),w=Math.exp(-r.y/u),T=Math.PI/2-2*Math.atan(w),O=0,A=.1,M;O<15&&Math.abs(A)>1e-7;O++)M=v*Math.sin(T),M=Math.pow((1-M)/(1+M),v/2),A=Math.PI/2-2*Math.atan(w*M)-T,T+=A;return new ue(T*a,r.x*a/u)}},kS={__proto__:null,LonLat:Iu,Mercator:Mu,SphericalMercator:lu},TS=s({},Mn,{code:"EPSG:3395",projection:Mu,transformation:function(){var r=.5/(Math.PI*Mu.R);return us(r,.5,-r,.5)}()}),qp=s({},Mn,{code:"EPSG:4326",projection:Iu,transformation:us(1/180,1,-1/180,.5)}),ES=s({},dt,{projection:Iu,transformation:us(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var u=a.lng-r.lng,f=a.lat-r.lat;return Math.sqrt(u*u+f*f)},infinite:!0});dt.Earth=Mn,dt.EPSG3395=TS,dt.EPSG3857=cu,dt.EPSG900913=R1,dt.EPSG4326=qp,dt.Simple=ES;var $t=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});se.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=h(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},_addLayers:function(r){r=r?b(r)?r:[r]:[];for(var a=0,u=r.length;a<u;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=h(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;r=v.minZoom===void 0?r:Math.min(r,v.minZoom),a=v.maxZoom===void 0?a:Math.max(a,v.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var er=$t.extend({initialize:function(r,a){k(this,a),this._layers={};var u,f;if(r)for(u=0,f=r.length;u<f;u++)this.addLayer(r[u])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[r]&&f[r].apply(f,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),CS=function(r,a){return new er(r,a)},gn=er.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),er.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),er.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Be;for(var a in this._layers){var u=this._layers[a];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),jS=function(r,a){return new gn(r,a)},tr=ot.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){k(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,a){var u=this.options,f=u[a+"Size"];typeof f=="number"&&(f=[f,f]);var v=V(f),w=V(a==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(u.className||""),w&&(r.style.marginLeft=-w.x+"px",r.style.marginTop=-w.y+"px"),v&&(r.style.width=v.x+"px",r.style.height=v.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return W.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function LS(r){return new tr(r)}var _s=tr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof _s.imagePath!="string"&&(_s.imagePath=this._detectIconPath()),(this.options.imagePath||_s.imagePath)+tr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(u,f,v){var w=f.exec(u);return w&&w[v]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ce("div","leaflet-default-icon-path",document.body),a=ds(r,"background-image")||ds(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Kp=sn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Dn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,u=a._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,w=wi(a._icon),T=u.getPixelBounds(),O=u.getPixelOrigin(),A=ae(T.min._subtract(O).add(v),T.max._subtract(O).subtract(v));if(!A.contains(w)){var M=V((Math.max(A.max.x,w.x)-A.max.x)/(T.max.x-A.max.x)-(Math.min(A.min.x,w.x)-A.min.x)/(T.min.x-A.min.x),(Math.max(A.max.y,w.y)-A.max.y)/(T.max.y-A.max.y)-(Math.min(A.min.y,w.y)-A.min.y)/(T.min.y-A.min.y)).multiplyBy(f);u.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Ie(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=oe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,u=a._shadow,f=wi(a._icon),v=a._map.layerPointToLatLng(f);u&&Ie(u,f),a._latlng=v,r.latlng=v,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Qo=$t.extend({options:{icon:new _s,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){k(this,a),this._latlng=ee(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=ee(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),ne(u,a),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(u,"focus",this._panOnFocus,this);var v=r.icon.createShadow(this._shadow),w=!1;v!==this._shadow&&(this._removeShadow(),w=!0),v&&(ne(v,a),v.alt=""),this._shadow=v,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&w&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ie(this._icon,r),this._shadow&&Ie(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ot(this._icon,r),this._shadow&&Ot(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,u=a.iconSize?V(a.iconSize):V(0,0),f=a.iconAnchor?V(a.iconAnchor):V(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function OS(r,a){return new Qo(r,a)}var zn=$t.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return k(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xo=zn.extend({options:{fill:!0,radius:10},initialize:function(r,a){k(this,a),this._latlng=ee(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=ee(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return zn.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,u=this._clickTolerance(),f=[r+u,a+u];this._pxBounds=new Q(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function AS(r,a){return new Xo(r,a)}var Du=Xo.extend({initialize:function(r,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),k(this,a),this._latlng=ee(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:zn.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===Mn.distance){var v=Math.PI/180,w=this._mRadius/Mn.R/v,T=u.project([a+w,r]),O=u.project([a-w,r]),A=T.add(O).divideBy(2),M=u.unproject(A).lat,U=Math.acos((Math.cos(w*v)-Math.sin(a*v)*Math.sin(M*v))/(Math.cos(a*v)*Math.cos(M*v)))/v;(isNaN(U)||U===0)&&(U=w/Math.cos(Math.PI/180*a)),this._point=A.subtract(u.getPixelOrigin()),this._radius=isNaN(U)?0:A.x-u.project([M,r-U]).x,this._radiusY=A.y-T.y}else{var G=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(G).x}this._updateBounds()}});function RS(r,a,u){return new Du(r,a,u)}var vn=zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){k(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,u=null,f=ys,v,w,T=0,O=this._parts.length;T<O;T++)for(var A=this._parts[T],M=1,U=A.length;M<U;M++){v=A[M-1],w=A[M];var G=f(r,v,w,!0);G<a&&(a=G,u=f(r,v,w))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=ee(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Be,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return At(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],u=At(r),f=0,v=r.length;f<v;f++)u?(a[f]=ee(r[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(r[f]);return a},_project:function(){var r=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new I(r,r);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,u){var f=r[0]instanceof ue,v=r.length,w,T;if(f){for(T=[],w=0;w<v;w++)T[w]=this._map.latLngToLayerPoint(r[w]),u.extend(T[w]);a.push(T)}else for(w=0;w<v;w++)this._projectLatlngs(r[w],a,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,f,v,w,T,O,A;for(u=0,v=0,w=this._rings.length;u<w;u++)for(A=this._rings[u],f=0,T=A.length;f<T-1;f++)O=Wp(A[f],A[f+1],r,f,!0),O&&(a[v]=a[v]||[],a[v].push(O[0]),(O[1]!==A[f+1]||f===T-2)&&(a[v].push(O[1]),v++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,u=0,f=r.length;u<f;u++)r[u]=Up(r[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var u,f,v,w,T,O,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,w=this._parts.length;u<w;u++)for(O=this._parts[u],f=0,T=O.length,v=T-1;f<T;v=f++)if(!(!a&&f===0)&&Fp(r,O[v],O[f])<=A)return!0;return!1}});function NS(r,a){return new vn(r,a)}vn._flat=Hp;var nr=vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=vn.prototype._convertLatLngs.call(this,r),u=a.length;return u>=2&&a[0]instanceof ue&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(r){vn.prototype._setLatLngs.call(this,r),At(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return At(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,u=new I(a,a);if(r=new Q(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,w;f<v;f++)w=Bp(this._rings[f],r,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,u,f,v,w,T,O,A,M;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(w=0,A=this._parts.length;w<A;w++)for(u=this._parts[w],T=0,M=u.length,O=M-1;T<M;O=T++)f=u[T],v=u[O],f.y>r.y!=v.y>r.y&&r.x<(v.x-f.x)*(r.y-f.y)/(v.y-f.y)+f.x&&(a=!a);return a||vn.prototype._containsPoint.call(this,r,!0)}});function IS(r,a){return new nr(r,a)}var yn=gn.extend({initialize:function(r,a){k(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=b(r)?r:r.features,u,f,v;if(a){for(u=0,f=a.length;u<f;u++)v=a[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var w=this.options;if(w.filter&&!w.filter(r))return this;var T=ea(r,w);return T?(T.feature=ia(r),T.defaultOptions=T.options,this.resetStyle(T),w.onEachFeature&&w.onEachFeature(r,T),this.addLayer(T)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function ea(r,a){var u=r.type==="Feature"?r.geometry:r,f=u?u.coordinates:null,v=[],w=a&&a.pointToLayer,T=a&&a.coordsToLatLng||zu,O,A,M,U;if(!f&&!u)return null;switch(u.type){case"Point":return O=T(f),Gp(w,r,O,a);case"MultiPoint":for(M=0,U=f.length;M<U;M++)O=T(f[M]),v.push(Gp(w,r,O,a));return new gn(v);case"LineString":case"MultiLineString":return A=ta(f,u.type==="LineString"?0:1,T),new vn(A,a);case"Polygon":case"MultiPolygon":return A=ta(f,u.type==="Polygon"?1:2,T),new nr(A,a);case"GeometryCollection":for(M=0,U=u.geometries.length;M<U;M++){var G=ea({geometry:u.geometries[M],type:"Feature",properties:r.properties},a);G&&v.push(G)}return new gn(v);case"FeatureCollection":for(M=0,U=u.features.length;M<U;M++){var ie=ea(u.features[M],a);ie&&v.push(ie)}return new gn(v);default:throw new Error("Invalid GeoJSON object.")}}function Gp(r,a,u,f){return r?r(a,u):new Qo(u,f&&f.markersInheritOptions&&f)}function zu(r){return new ue(r[1],r[0],r[2])}function ta(r,a,u){for(var f=[],v=0,w=r.length,T;v<w;v++)T=a?ta(r[v],a-1,u):(u||zu)(r[v]),f.push(T);return f}function Bu(r,a){return r=ee(r),r.alt!==void 0?[y(r.lng,a),y(r.lat,a),y(r.alt,a)]:[y(r.lng,a),y(r.lat,a)]}function na(r,a,u,f){for(var v=[],w=0,T=r.length;w<T;w++)v.push(a?na(r[w],At(r[w])?0:a-1,u,f):Bu(r[w],f));return!a&&u&&v.length>0&&v.push(v[0].slice()),v}function ir(r,a){return r.feature?s({},r.feature,{geometry:a}):ia(a)}function ia(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Vu={toGeoJSON:function(r){return ir(this,{type:"Point",coordinates:Bu(this.getLatLng(),r)})}};Qo.include(Vu),Du.include(Vu),Xo.include(Vu),vn.include({toGeoJSON:function(r){var a=!At(this._latlngs),u=na(this._latlngs,a?1:0,!1,r);return ir(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),nr.include({toGeoJSON:function(r){var a=!At(this._latlngs),u=a&&!At(this._latlngs[0]),f=na(this._latlngs,u?2:a?1:0,!0,r);return a||(f=[f]),ir(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),er.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(r).geometry.coordinates)}),ir(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var u=a==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var w=v.toGeoJSON(r);if(u)f.push(w.geometry);else{var T=ia(w);T.type==="FeatureCollection"?f.push.apply(f,T.features):f.push(T)}}}),u?ir(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Jp(r,a){return new yn(r,a)}var MS=Jp,ra=$t.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,u){this._url=r,this._bounds=fe(a),k(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&Xi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:ce("img");if(ne(a,"leaflet-image-layer"),this._zoomAnimated&&ne(a,"leaflet-zoom-animated"),this.options.className&&ne(a,this.options.className),a.onselectstart=p,a.onmousemove=p,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;_i(this._image,u,a)},_reset:function(){var r=this._image,a=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Ie(r,a.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),DS=function(r,a,u){return new ra(r,a,u)},Yp=ra.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:ce("video");if(ne(a,"leaflet-image-layer"),this._zoomAnimated&&ne(a,"leaflet-zoom-animated"),this.options.className&&ne(a,this.options.className),a.onselectstart=p,a.onmousemove=p,a.onloadeddata=l(this.fire,this,"load"),r){for(var u=a.getElementsByTagName("source"),f=[],v=0;v<u.length;v++)f.push(u[v].src);this._url=u.length>0?f:[a.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var T=ce("source");T.src=this._url[w],a.appendChild(T)}}});function zS(r,a,u){return new Yp(r,a,u)}var Qp=ra.extend({_initImage:function(){var r=this._image=this._url;ne(r,"leaflet-image-layer"),this._zoomAnimated&&ne(r,"leaflet-zoom-animated"),this.options.className&&ne(r,this.options.className),r.onselectstart=p,r.onmousemove=p}});function BS(r,a,u){return new Qp(r,a,u)}var on=$t.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof ue||b(r))?(this._latlng=ee(r),k(this,a)):(k(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ot(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ot(this._container,0),this._removeTimeout=setTimeout(l(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ee(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&Xi(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof gn){a=null;var u=this._source._layers;for(var f in u)if(u[f]._map){a=u[f];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=V(this.options.offset),u=this._getAnchor();this._zoomAnimated?Ie(this._container,r.add(u)):a=a.add(r).add(u);var f=this._containerBottom=-a.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});se.include({_initOverlay:function(r,a,u,f){var v=a;return v instanceof r||(v=new r(f).setContent(a)),u&&v.setLatLng(u),v}}),$t.include({_initOverlay:function(r,a,u,f){var v=u;return v instanceof r?(k(v,f),v._source=this):(v=a&&!f?a:new r(f,this),v.setContent(u)),v}});var sa=on.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,on.prototype.openOn.call(this,r)},onAdd:function(r){on.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zn||this._source.on("preclick",xi))},onRemove:function(r){on.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zn||this._source.off("preclick",xi))},getEvents:function(){var r=on.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=ce("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ce("div",r+"-content-wrapper",a);if(this._contentNode=ce("div",r+"-content",u),gs(a),ju(this._contentNode),te(a,"contextmenu",xi),this._tipContainer=ce("div",r+"-tip-container",a),this._tip=ce("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ce("a",r+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',te(f,"click",function(v){qe(v),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var f=r.offsetHeight,v=this.options.maxHeight,w="leaflet-popup-scrolled";v&&f>v?(a.height=v+"px",ne(r,w)):Oe(r,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();Ie(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(ds(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,f=this._containerWidth,v=new I(this._containerLeft,-u-this._containerBottom);v._add(wi(this._container));var w=r.layerPointToContainerPoint(v),T=V(this.options.autoPanPadding),O=V(this.options.autoPanPaddingTopLeft||T),A=V(this.options.autoPanPaddingBottomRight||T),M=r.getSize(),U=0,G=0;w.x+f+A.x>M.x&&(U=w.x+f-M.x+A.x),w.x-U-O.x<0&&(U=w.x-O.x),w.y+u+A.y>M.y&&(G=w.y+u-M.y+A.y),w.y-G-O.y<0&&(G=w.y-O.y),(U||G)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,G]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),VS=function(r,a){return new sa(r,a)};se.mergeOptions({closePopupOnClick:!0}),se.include({openPopup:function(r,a,u){return this._initOverlay(sa,r,a,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),$t.include({bindPopup:function(r,a){return this._popup=this._initOverlay(sa,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof gn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Si(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var oa=on.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){on.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){on.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=on.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,u,f=this._map,v=this._container,w=f.latLngToContainerPoint(f.getCenter()),T=f.layerPointToContainerPoint(r),O=this.options.direction,A=v.offsetWidth,M=v.offsetHeight,U=V(this.options.offset),G=this._getAnchor();O==="top"?(a=A/2,u=M):O==="bottom"?(a=A/2,u=0):O==="center"?(a=A/2,u=M/2):O==="right"?(a=0,u=M/2):O==="left"?(a=A,u=M/2):T.x<w.x?(O="right",a=0,u=M/2):(O="left",a=A+(U.x+G.x)*2,u=M/2),r=r.subtract(V(a,u,!0)).add(U).add(G),Oe(v,"leaflet-tooltip-right"),Oe(v,"leaflet-tooltip-left"),Oe(v,"leaflet-tooltip-top"),Oe(v,"leaflet-tooltip-bottom"),ne(v,"leaflet-tooltip-"+O),Ie(v,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ot(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),US=function(r,a){return new oa(r,a)};se.include({openTooltip:function(r,a,u){return this._initOverlay(oa,r,a,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),$t.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oa,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof gn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(te(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),te(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,u,f;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Xp=tr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Zo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=V(u.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function FS(r){return new Xp(r)}tr.Default=_s;var ws=$t.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){k(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Se(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof I?r:new I(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,u=-r(-1/0,1/0),f=0,v=a.length,w;f<v;f++)w=a[f].style.zIndex,a[f]!==this._container&&w&&(u=r(u,+w));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){Ot(this._container,this.options.opacity);var r=+new Date,a=!1,u=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var w=Math.min(1,(r-v.loaded)/200);Ot(v.el,w),w<1?a=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Le(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=a-Math.abs(r-u),this._onUpdateLevel(u)):(Se(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[r],v=this._map;return f||(f=this._levels[r]={},f.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=v.project(v.unproject(v.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,v.getCenter(),v.getZoom()),p(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var r,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Se(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,u,f){var v=Math.floor(r/2),w=Math.floor(a/2),T=u-1,O=new I(+v,+w);O.z=+T;var A=this._tileCoordsToKey(O),M=this._tiles[A];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),T>f?this._retainParent(v,w,T,f):!1)},_retainChildren:function(r,a,u,f){for(var v=2*r;v<2*r+2;v++)for(var w=2*a;w<2*a+2;w++){var T=new I(v,w);T.z=u+1;var O=this._tileCoordsToKey(T),A=this._tiles[O];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);u+1<f&&this._retainChildren(v,w,u+1,f)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,u,f){var v=Math.round(a);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var w=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||w)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,a)},_setZoomTransform:function(r,a,u){var f=this._map.getZoomScale(u,r.zoom),v=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,u)).round();W.any3d?_i(r.el,v,f):Ie(r.el,v)},_resetGrid:function(){var r=this._map,a=r.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],f).x/u.x),Math.ceil(r.project([0,a.wrapLng[1]],f).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],f).y/u.x),Math.ceil(r.project([a.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(u,this._tileZoom),v=a.project(r,this._tileZoom).floor(),w=a.getSize().divideBy(f*2);return new Q(v.subtract(w),v.add(w))},_update:function(r){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),v=this._pxBoundsToTileRange(f),w=v.getCenter(),T=[],O=this.options.keepBuffer,A=new Q(v.getBottomLeft().subtract([O,-O]),v.getTopRight().add([O,-O]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var U=this._tiles[M].coords;(U.z!==this._tileZoom||!A.contains(new I(U.x,U.y)))&&(this._tiles[M].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var G=v.min.y;G<=v.max.y;G++)for(var ie=v.min.x;ie<=v.max.x;ie++){var at=new I(ie,G);if(at.z=this._tileZoom,!!this._isValidTile(at)){var We=this._tiles[this._tileCoordsToKey(at)];We?We.current=!0:T.push(at)}}if(T.sort(function(ft,sr){return ft.distanceTo(w)-sr.distanceTo(w)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rt=document.createDocumentFragment();for(ie=0;ie<T.length;ie++)this._addTile(T[ie],Rt);this._level.el.appendChild(Rt)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!a.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return fe(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,u=this.getTileSize(),f=r.scaleBy(u),v=f.add(u),w=a.unproject(f,r.z),T=a.unproject(v,r.z);return[w,T]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),u=new Be(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),u=new I(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(r){var a=this._tiles[r];a&&(Se(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){ne(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=p,r.onmousemove=p,W.ielt9&&this.options.opacity<1&&Ot(r,this.options.opacity)},_addTile:function(r,a){var u=this._getTilePos(r),f=this._tileCoordsToKey(r),v=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(v),this.createTile.length<2&&oe(l(this._tileReady,this,r,null,v)),Ie(v,u),this._tiles[f]={el:v,coords:r,current:!0},a.appendChild(v),this.fire("tileloadstart",{tile:v,coords:r})},_tileReady:function(r,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:r});var f=this._tileCoordsToKey(r);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Ot(u.el,0),Le(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(ne(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new I(this._wrapX?m(r.x,this._wrapX):r.x,this._wrapY?m(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new Q(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function $S(r){return new ws(r)}var rr=ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=k(this,a),a.detectRetina&&W.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var u=document.createElement("img");return te(u,"load",l(this._tileOnLoad,this,a,u)),te(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var a={r:W.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=u),a["-y"]=u}return x(this._url,s(a,this.options))},_tileOnLoad:function(r,a){W.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,u){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),r(u,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(r=a-r),r+f},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=p,a.onerror=p,!a.complete)){a.src=R;var u=this._tiles[r].coords;Se(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",R),ws.prototype._removeTile.call(this,r)},_tileReady:function(r,a,u){if(!(!this._map||u&&u.getAttribute("src")===R))return ws.prototype._tileReady.call(this,r,a,u)}});function em(r,a){return new rr(r,a)}var tm=rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var u=s({},this.defaultWmsParams);for(var f in a)f in this.options||(u[f]=a[f]);a=k(this,a);var v=a.detectRetina&&W.retina?2:1,w=this.getTileSize();u.width=w.x*v,u.height=w.y*v,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,rr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),u=this._crs,f=ae(u.project(a[0]),u.project(a[1])),v=f.min,w=f.max,T=(this._wmsVersion>=1.3&&this._crs===qp?[v.y,v.x,w.y,w.x]:[v.x,v.y,w.x,w.y]).join(","),O=rr.prototype.getTileUrl.call(this,r);return O+E(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(r,a){return s(this.wmsParams,r),a||this.redraw(),this}});function WS(r,a){return new tm(r,a)}rr.WMS=tm,em.wms=WS;var _n=$t.extend({options:{padding:.1},initialize:function(r){k(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var u=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,a),w=f.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(r,a));W.any3d?_i(this._container,w,u):Ie(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new Q(u,u.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nm=_n.extend({options:{tolerance:0},getEvents:function(){var r=_n.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");te(r,"mousemove",this._onMouseMove,this),te(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),te(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,Se(this._container),pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var r=this._bounds,a=this._container,u=r.getSize(),f=W.retina?2:1;Ie(a,r.min),a.width=f*u.x,a.height=f*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){_n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,u=a.next,f=a.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),u=[],f,v;for(v=0;v<a.length;v++){if(f=Number(a[v]),isNaN(f))return;u.push(f)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var u,f,v,w,T=r._parts,O=T.length,A=this._ctx;if(O){for(A.beginPath(),u=0;u<O;u++){for(f=0,v=T[u].length;f<v;f++)w=T[u][f],A[f?"lineTo":"moveTo"](w.x,w.y);a&&A.closePath()}this._fillStroke(A,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,u=this._ctx,f=Math.max(Math.round(r._radius),1),v=(Math.max(Math.round(r._radiusY),1)||f)/f;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(a.x,a.y/v,f,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,a){var u=a.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(a)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(ne(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,u){this._map._fireDOMEvent(a,u||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var u=a.next,f=a.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var u=a.next,f=a.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function im(r){return W.canvas?new nm(r):null}var xs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),HS={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_n.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=xs("shape");ne(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=xs("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Se(a),r.removeInteractiveTarget(a),delete this._layers[h(r)]},_updateStyle:function(r){var a=r._stroke,u=r._fill,f=r.options,v=r._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(a||(a=r._stroke=xs("stroke")),v.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=b(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(v.removeChild(a),r._stroke=null),f.fill?(u||(u=r._fill=xs("fill")),v.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(v.removeChild(u),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),u=Math.round(r._radius),f=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){Qi(r._container)},_bringToBack:function(r){Xi(r._container)}},aa=W.vml?xs:ap,Ss=_n.extend({_initContainer:function(){this._container=aa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=aa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var r=this._bounds,a=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Ie(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=aa("path");r.options.className&&ne(a,r.options.className),r.options.interactive&&ne(a,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Se(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,u=r.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,lp(r._parts,a))},_updateCircle:function(r){var a=r._point,u=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||u,v="a"+u+","+f+" 0 1,0 ",w=r._empty()?"M0 0":"M"+(a.x-u)+","+a.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(r,w)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){Qi(r._path)},_bringToBack:function(r){Xi(r._path)}});W.vml&&Ss.include(HS);function rm(r){return W.svg||W.vml?new Ss(r):null}se.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&im(r)||rm(r)}});var sm=nr.extend({initialize:function(r,a){nr.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function ZS(r,a){return new sm(r,a)}Ss.create=aa,Ss.pointsToPath=lp,yn.geometryToLayer=ea,yn.coordsToLatLng=zu,yn.coordsToLatLngs=ta,yn.latLngToCoords=Bu,yn.latLngsToCoords=na,yn.getFeature=ir,yn.asFeature=ia,se.mergeOptions({boxZoom:!0});var om=sn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),xu(),this._startPoint=this._map.mouseEventToContainerPoint(r),te(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new Q(this._point,this._startPoint),u=a.getSize();Ie(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Se(this._box),Oe(this._container,"leaflet-crosshair")),ps(),Su(),pe(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});se.addInitHook("addHandler","boxZoom",om),se.mergeOptions({doubleClickZoom:!0});var am=sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,u=a.getZoom(),f=a.options.zoomDelta,v=r.originalEvent.shiftKey?u-f:u+f;a.options.doubleClickZoom==="center"?a.setZoom(v):a.setZoomAround(r.containerPoint,v)}});se.addInitHook("addHandler","doubleClickZoom",am),se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var lm=sn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Dn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=fe(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-a+u)%r+a-u,w=(f+a+u)%r-a-u,T=Math.abs(v+u)<Math.abs(w+u)?v:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(r){var a=this._map,u=a.options,f=!u.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),f)a.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,T=u.easeLinearity,O=v.multiplyBy(T/w),A=O.distanceTo([0,0]),M=Math.min(u.inertiaMaxSpeed,A),U=O.multiplyBy(M/A),G=M/(u.inertiaDeceleration*T),ie=U.multiplyBy(-G/2).round();!ie.x&&!ie.y?a.fire("moveend"):(ie=a._limitOffset(ie,a.options.maxBounds),oe(function(){a.panBy(ie,{duration:G,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});se.addInitHook("addHandler","dragging",lm),se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var um=sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),te(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,u=r.scrollTop||a.scrollTop,f=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},u=this.keyCodes,f,v;for(f=0,v=u.left.length;f<v;f++)a[u.left[f]]=[-1*r,0];for(f=0,v=u.right.length;f<v;f++)a[u.right[f]]=[r,0];for(f=0,v=u.down.length;f<v;f++)a[u.down[f]]=[0,r];for(f=0,v=u.up.length;f<v;f++)a[u.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},u=this.keyCodes,f,v;for(f=0,v=u.zoomIn.length;f<v;f++)a[u.zoomIn[f]]=r;for(f=0,v=u.zoomOut.length;f<v;f++)a[u.zoomOut[f]]=-r},_addHooks:function(){te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,u=this._map,f;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[a],r.shiftKey&&(f=V(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(V(f),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(v)}else u.panBy(f)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Si(r)}}});se.addInitHook("addHandler","keyboard",um),se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cm=sn.extend({addHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=Np(r),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Si(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,w=u?Math.ceil(v/u)*u:v,T=r._limitZoom(a+(this._delta>0?w:-w))-a;this._delta=0,this._startTime=null,T&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+T):r.setZoomAround(this._lastMousePos,a+T))}});se.addInitHook("addHandler","scrollWheelZoom",cm);var qS=600;se.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var hm=sn.extend({addHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new I(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(te(document,"touchend",qe),te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),qS),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){pe(document,"touchend",qe),pe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new I(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});se.addInitHook("addHandler","tapHold",hm),se.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var dm=sn.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),qe(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]),v=u.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(v,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&v<1||this._zoom>a.getMaxZoom()&&v>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var w=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&w.x===0&&w.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var T=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(T,this,!0),qe(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});se.addInitHook("addHandler","touchZoom",dm),se.BoxZoom=om,se.DoubleClickZoom=am,se.Drag=lm,se.Keyboard=um,se.ScrollWheelZoom=cm,se.TapHold=hm,se.TouchZoom=dm,n.Bounds=Q,n.Browser=W,n.CRS=dt,n.Canvas=nm,n.Circle=Du,n.CircleMarker=Xo,n.Class=ot,n.Control=Ft,n.DivIcon=Xp,n.DivOverlay=on,n.DomEvent=hS,n.DomUtil=uS,n.Draggable=Dn,n.Evented=ve,n.FeatureGroup=gn,n.GeoJSON=yn,n.GridLayer=ws,n.Handler=sn,n.Icon=tr,n.ImageOverlay=ra,n.LatLng=ue,n.LatLngBounds=Be,n.Layer=$t,n.LayerGroup=er,n.LineUtil=bS,n.Map=se,n.Marker=Qo,n.Mixin=yS,n.Path=zn,n.Point=I,n.PolyUtil=_S,n.Polygon=nr,n.Polyline=vn,n.Popup=sa,n.PosAnimation=Ip,n.Projection=kS,n.Rectangle=sm,n.Renderer=_n,n.SVG=Ss,n.SVGOverlay=Qp,n.TileLayer=rr,n.Tooltip=oa,n.Transformation=uu,n.Util=mn,n.VideoOverlay=Yp,n.bind=l,n.bounds=ae,n.canvas=im,n.circle=RS,n.circleMarker=AS,n.control=vs,n.divIcon=FS,n.extend=s,n.featureGroup=jS,n.geoJSON=Jp,n.geoJson=MS,n.gridLayer=$S,n.icon=LS,n.imageOverlay=DS,n.latLng=ee,n.latLngBounds=fe,n.layerGroup=CS,n.map=dS,n.marker=OS,n.point=V,n.polygon=IS,n.polyline=NS,n.popup=VS,n.rectangle=ZS,n.setOptions=k,n.stamp=h,n.svg=rm,n.svgOverlay=BS,n.tileLayer=em,n.tooltip=US,n.transformation=us,n.version=i,n.videoOverlay=zS;var KS=window.L;n.noConflict=function(){return window.L=KS,this},window.L=n})})(dd,dd.exports);var Fo=dd.exports;const O1=Py(Fo);function rp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function sp(e,t){return t==null?function(i,s){const o=C.useRef();return o.current||(o.current=e(i,s)),o}:function(i,s){const o=C.useRef();o.current||(o.current=e(i,s));const l=C.useRef(i),{instance:c}=o.current;return C.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,s]),o}}function rR(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function A1(e){return function(n){const i=j1(),s=e(ip(n,i),i);return T1(i.map,n.attribution),L1(s.current,n.eventHandlers),rR(s.current,i),s}}function sR(e,t){const n=sp(e,t),i=A1(n);return eR(i)}function oR(e,t){const n=sp(e),i=iR(n,t);return tR(i)}function aR(e,t){const n=sp(e,t),i=A1(n);return nR(i)}function lR(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function fd(){return fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fd.apply(this,arguments)}function uR({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:h,zoom:d,...m},p){const[y]=C.useState({className:s,id:o,style:c}),[_,S]=C.useState(null);C.useImperativeHandle(p,()=>(_==null?void 0:_.map)??null,[_]);const k=C.useCallback(P=>{if(P!==null&&_===null){const x=new Fo.Map(P,m);n!=null&&d!=null?x.setView(n,d):e!=null&&x.fitBounds(e,t),h!=null&&x.whenReady(h),S(Q2(x))}},[]);C.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const E=_?no.createElement(C1,{value:_},i):l??null;return no.createElement("div",fd({},y,{ref:k}),E)}const cR=C.forwardRef(uR),hR=sR(function({position:t,...n},i){const s=new Fo.Marker(t,n);return rp(s,X2(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),dR=oR(function(t,n){const i=new Fo.Popup(t,n.overlayContainer);return rp(i,n)},function(t,n,{position:i},s){C.useEffect(function(){const{instance:l}=t;function c(d){d.popup===l&&(l.update(),s(!0))}function h(d){d.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:c,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),fR=aR(function({url:t,...n},i){const s=new Fo.TileLayer(t,ip(n,i));return rp(s,i)},function(t,n,i){lR(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)});delete O1.Icon.Default.prototype._getIconUrl;O1.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const pR=()=>{const[e,t]=C.useState([]),[n,i]=C.useState([]),[s,o]=C.useState("all"),[l,c]=C.useState(!0),h=[{value:"all",label:"Todos",color:"#22c55e"},{value:"plastic",label:"Plástico",color:"#3b82f6"},{value:"glass",label:"Vidrio",color:"#06b6d4"},{value:"paper",label:"Papel",color:"#f59e0b"},{value:"metal",label:"Metal",color:"#6366f1"},{value:"electronics",label:"Electrónicos",color:"#8b5cf6"}];C.useEffect(()=>{d()},[]),C.useEffect(()=>{m()},[s,e]);const d=async()=>{try{const{data:p,error:y}=await nt.from("recycling_points").select("*").eq("is_active",!0);if(y)throw y;t(p||[])}catch(p){console.error("Error loading recycling points:",p)}finally{c(!1)}},m=()=>{i(s==="all"?e:e.filter(p=>p.accepted_materials.includes(s)))};return l?g.jsx("div",{className:"map-page",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{className:"map-page",children:[g.jsx(Y.div,{className:"map-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"header-content",children:[g.jsx(dn,{size:32,color:"#22c55e"}),g.jsxs("div",{children:[g.jsx("h1",{children:"Puntos de Reciclaje"}),g.jsx("p",{children:"Encuentra centros cercanos para reciclar tus materiales"})]})]})}),g.jsxs(Y.div,{className:"filter-section",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsx(dj,{size:20}),g.jsx("span",{className:"filter-label",children:"Filtrar por material:"}),g.jsx("div",{className:"filter-buttons",children:h.map(p=>g.jsx("button",{onClick:()=>o(p.value),className:`filter-btn ${s===p.value?"active":""}`,style:s===p.value?{background:p.color,color:"white"}:{},children:p.label},p.value))})]}),g.jsx(Y.div,{className:"map-container-wrapper",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.2},children:g.jsxs(cR,{center:[-12.046374,-77.042793],zoom:12,className:"leaflet-map",children:[g.jsx(fR,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(p=>g.jsx(hR,{position:[p.latitude,p.longitude],children:g.jsx(dR,{children:g.jsxs("div",{className:"map-popup",children:[g.jsx("h3",{children:p.name}),g.jsxs("p",{className:"popup-address",children:[g.jsx(dn,{size:16}),p.address]}),g.jsxs("div",{className:"popup-materials",children:[g.jsx("strong",{children:"Materiales aceptados:"}),g.jsx("div",{className:"material-tags",children:p.accepted_materials.map((y,_)=>{var S;return g.jsx("span",{className:"material-tag",children:((S=h.find(k=>k.value===y))==null?void 0:S.label)||y},_)})})]}),p.phone&&g.jsxs("p",{className:"popup-info",children:[g.jsx(jl,{size:16}),p.phone]}),p.hours&&g.jsxs("p",{className:"popup-info",children:[g.jsx(Kh,{size:16}),p.hours]})]})})},p.id))]})}),g.jsxs(Y.div,{className:"points-list",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("h2",{children:["Puntos Disponibles (",n.length,")"]}),g.jsx("div",{className:"points-grid",children:n.map(p=>g.jsxs("div",{className:"point-card",children:[g.jsxs("div",{className:"point-header",children:[g.jsx("div",{className:"point-icon",children:g.jsx(dn,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{children:p.name}),g.jsx("p",{children:p.address})]})]}),g.jsx("div",{className:"point-materials",children:p.accepted_materials.map((y,_)=>{const S=h.find(k=>k.value===y);return g.jsx("span",{className:"point-material-badge",style:{background:(S==null?void 0:S.color)||"#22c55e"},children:(S==null?void 0:S.label)||y},_)})}),p.hours&&g.jsxs("div",{className:"point-info",children:[g.jsx(Kh,{size:16}),g.jsx("span",{children:p.hours})]}),p.phone&&g.jsxs("div",{className:"point-info",children:[g.jsx(jl,{size:16}),g.jsx("span",{children:p.phone})]})]},p.id))})]})]})},mR=()=>{const{profile:e}=In(),[t,n]=C.useState("request"),[i,s]=C.useState([]),[o,l]=C.useState(!1),[c,h]=C.useState(""),[d,m]=C.useState(""),[p,y]=C.useState({materialType:"",estimatedQuantity:"",pickupAddress:(e==null?void 0:e.address)||"",pickupDate:"",pickupTime:""});C.useEffect(()=>{e&&(_(),y(x=>({...x,pickupAddress:e.address||""})))},[e]);const _=async()=>{try{const{data:x,error:b}=await nt.from("pickups").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(b)throw b;s(x||[])}catch(x){console.error("Error loading pickups:",x)}},S=x=>{y({...p,[x.target.name]:x.target.value})},k=async x=>{x.preventDefault(),m(""),h(""),l(!0);try{const{error:b}=await nt.from("pickups").insert([{user_id:e.id,material_type:p.materialType,estimated_quantity:p.estimatedQuantity,pickup_address:p.pickupAddress,pickup_date:p.pickupDate,pickup_time:p.pickupTime,status:"pending"}]);if(b)throw b;h("¡Solicitud de recojo enviada exitosamente!"),y({materialType:"",estimatedQuantity:"",pickupAddress:(e==null?void 0:e.address)||"",pickupDate:"",pickupTime:""}),_(),setTimeout(()=>n("history"),2e3)}catch(b){m("Error al solicitar recojo. Intenta de nuevo."),console.error("Error:",b)}finally{l(!1)}},E=x=>({pending:"#f59e0b",in_transit:"#3b82f6",completed:"#22c55e",cancelled:"#ef4444"})[x]||"#64748b",P=x=>({pending:"Pendiente",in_transit:"En Camino",completed:"Completado",cancelled:"Cancelado"})[x]||x;return g.jsxs("div",{className:"pickup-page",children:[g.jsxs(Y.div,{className:"pickup-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx(Qn,{size:32,color:"#f97316"}),g.jsxs("div",{children:[g.jsx("h1",{children:"Recojo a Domicilio"}),g.jsx("p",{children:"Solicita la recolección de tus materiales reciclables"})]})]}),g.jsxs("div",{className:"pickup-tabs",children:[g.jsxs("button",{className:`tab-btn ${t==="request"?"active":""}`,onClick:()=>n("request"),children:[g.jsx(Qn,{size:20}),"Nueva Solicitud"]}),g.jsxs("button",{className:`tab-btn ${t==="history"?"active":""}`,onClick:()=>n("history"),children:[g.jsx(wj,{size:20}),"Mis Recojos (",i.length,")"]})]}),t==="request"?g.jsxs(Y.div,{className:"request-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[g.jsxs("form",{onSubmit:k,className:"pickup-form",children:[c&&g.jsxs(Y.div,{className:"success-message",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[g.jsx(qh,{size:20}),g.jsx("span",{children:c})]}),d&&g.jsxs(Y.div,{className:"error-message",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[g.jsx(Pf,{size:20}),g.jsx("span",{children:d})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"materialType",children:"Tipo de Material *"}),g.jsxs("select",{id:"materialType",name:"materialType",value:p.materialType,onChange:S,required:!0,children:[g.jsx("option",{value:"",children:"Selecciona un tipo"}),g.jsx("option",{value:"plastic",children:"Plástico"}),g.jsx("option",{value:"glass",children:"Vidrio"}),g.jsx("option",{value:"paper",children:"Papel y Cartón"}),g.jsx("option",{value:"metal",children:"Metal"}),g.jsx("option",{value:"electronics",children:"Electrónicos"}),g.jsx("option",{value:"mixed",children:"Mixto"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"estimatedQuantity",children:"Cantidad Estimada *"}),g.jsxs("select",{id:"estimatedQuantity",name:"estimatedQuantity",value:p.estimatedQuantity,onChange:S,required:!0,children:[g.jsx("option",{value:"",children:"Selecciona una cantidad"}),g.jsx("option",{value:"small",children:"Pequeña (hasta 5 kg)"}),g.jsx("option",{value:"medium",children:"Mediana (5-15 kg)"}),g.jsx("option",{value:"large",children:"Grande (15-30 kg)"}),g.jsx("option",{value:"xlarge",children:"Muy Grande (más de 30 kg)"})]})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"pickupAddress",children:"Dirección de Recojo *"}),g.jsx("textarea",{id:"pickupAddress",name:"pickupAddress",value:p.pickupAddress,onChange:S,placeholder:"Ingresa tu dirección completa",rows:"3",required:!0})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"pickupDate",children:"Fecha de Recojo *"}),g.jsx("input",{type:"date",id:"pickupDate",name:"pickupDate",value:p.pickupDate,onChange:S,min:new Date().toISOString().split("T")[0],required:!0})]}),g.jsxs("div",{className:"input-group",children:[g.jsx("label",{htmlFor:"pickupTime",children:"Hora de Recojo *"}),g.jsx("input",{type:"time",id:"pickupTime",name:"pickupTime",value:p.pickupTime,onChange:S,required:!0})]})]}),g.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:o,children:o?"Enviando solicitud...":"Solicitar Recojo"})]}),g.jsxs("div",{className:"info-card",children:[g.jsx("h3",{children:"Información Importante"}),g.jsxs("ul",{children:[g.jsx("li",{children:"El servicio de recojo está disponible de lunes a sábado"}),g.jsx("li",{children:"Recibirás una notificación cuando el vehículo esté en camino"}),g.jsx("li",{children:"Asegúrate de tener los materiales listos y separados"}),g.jsx("li",{children:"Ganarás puntos según el peso de material reciclado"})]})]})]}):g.jsx(Y.div,{className:"history-section",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:i.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx(Qn,{size:64,color:"#cbd5e1"}),g.jsx("h3",{children:"No tienes recojos registrados"}),g.jsx("p",{children:"Solicita tu primer recojo para comenzar a acumular puntos"}),g.jsx("button",{className:"btn-primary",onClick:()=>n("request"),children:"Solicitar Recojo"})]}):g.jsx("div",{className:"pickups-grid",children:i.map(x=>g.jsxs(Y.div,{className:"pickup-card",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},children:[g.jsx("div",{className:"pickup-status-badge",style:{background:E(x.status)},children:P(x.status)}),g.jsxs("div",{className:"pickup-info",children:[g.jsxs("div",{className:"info-row",children:[g.jsx(Qn,{size:18}),g.jsx("span",{className:"info-label",children:"Material:"}),g.jsx("span",{className:"info-value",children:x.material_type})]}),g.jsxs("div",{className:"info-row",children:[g.jsx(dn,{size:18}),g.jsx("span",{className:"info-label",children:"Dirección:"}),g.jsx("span",{className:"info-value",children:x.pickup_address})]}),g.jsxs("div",{className:"info-row",children:[g.jsx(uj,{size:18}),g.jsx("span",{className:"info-label",children:"Fecha:"}),g.jsx("span",{className:"info-value",children:new Date(x.pickup_date).toLocaleDateString("es-ES")})]}),g.jsxs("div",{className:"info-row",children:[g.jsx(Kh,{size:18}),g.jsx("span",{className:"info-label",children:"Hora:"}),g.jsx("span",{className:"info-value",children:x.pickup_time})]}),x.points_earned>0&&g.jsxs("div",{className:"points-earned",children:["+",x.points_earned," puntos ganados"]})]})]},x.id))})})]})},gR=()=>{const e=[{icon:hj,title:"Plástico",color:"#3b82f6",items:["Botellas PET","Envases de detergente","Bolsas plásticas","Tapas de plástico"],tips:"Enjuaga bien antes de reciclar y retira las etiquetas cuando sea posible.",avoid:"No recicles plásticos con restos de comida o envases de productos químicos."},{icon:lv,title:"Vidrio",color:"#06b6d4",items:["Botellas de vidrio","Frascos","Tarros","Envases de conservas"],tips:"Retira las tapas metálicas o plásticas antes de reciclar.",avoid:"No recicles espejos, cristales de ventanas o bombillas."},{icon:vj,title:"Papel y Cartón",color:"#f59e0b",items:["Periódicos","Revistas","Cajas de cartón","Papel de oficina"],tips:"Aplana las cajas para ahorrar espacio y mantén el papel seco.",avoid:"No recicles papel encerado, plastificado o con restos de comida."},{icon:lv,title:"Metal",color:"#6366f1",items:["Latas de aluminio","Latas de conserva","Papel aluminio","Tapas metálicas"],tips:"Enjuaga las latas y aplástalas si es posible.",avoid:"No recicles metales con pintura, grasa o productos químicos."},{icon:cj,title:"Electrónicos",color:"#8b5cf6",items:["Celulares viejos","Baterías","Cables","Electrodomésticos pequeños"],tips:"Lleva los electrónicos a puntos especializados de reciclaje.",avoid:"Nunca los tires a la basura común, contienen materiales peligrosos."},{icon:Je,title:"Orgánicos",color:"#22c55e",items:["Restos de frutas","Verduras","Cáscaras de huevo","Café y té"],tips:"Haz compost en casa para crear abono natural.",avoid:"No incluyas carne, lácteos o aceites en el compost casero."}],t=["Lleva tu propia bolsa reutilizable al hacer compras","Usa botellas de agua rellenables en lugar de desechables","Separa tus residuos desde casa en diferentes contenedores","Dona o vende lo que ya no uses en lugar de tirarlo","Prefiere productos con menos empaquetado","Repara antes de reemplazar objetos dañados"];return g.jsxs("div",{className:"learn-page",children:[g.jsxs(Y.div,{className:"learn-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx(Kw,{size:32,color:"#22c55e"}),g.jsxs("div",{children:[g.jsx("h1",{children:"Aprende a Segregar Correctamente"}),g.jsx("p",{children:"Conoce cómo clasificar tus residuos y contribuir al medio ambiente"})]})]}),g.jsx("div",{className:"categories-grid",children:e.map((n,i)=>{const s=n.icon;return g.jsxs(Y.div,{className:"category-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},whileHover:{scale:1.02,translateY:-4},children:[g.jsxs("div",{className:"category-header",style:{background:n.color},children:[g.jsx(s,{size:32}),g.jsx("h3",{children:n.title})]}),g.jsxs("div",{className:"category-content",children:[g.jsxs("div",{className:"items-section",children:[g.jsx("h4",{children:"¿Qué puedes reciclar?"}),g.jsx("ul",{className:"items-list",children:n.items.map((o,l)=>g.jsxs("li",{children:[g.jsx(qh,{size:16}),o]},l))})]}),g.jsxs("div",{className:"tips-section",children:[g.jsxs("div",{className:"tip-box tip-good",children:[g.jsx(qh,{size:18}),g.jsx("p",{children:n.tips})]}),g.jsxs("div",{className:"tip-box tip-bad",children:[g.jsx(aj,{size:18}),g.jsx("p",{children:n.avoid})]})]})]})]},i)})}),g.jsxs(Y.div,{className:"eco-tips-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[g.jsx("h2",{children:"Consejos Ecológicos"}),g.jsx("p",{className:"section-subtitle",children:"Pequeñas acciones que generan un gran impacto"}),g.jsx("div",{className:"tips-grid",children:t.map((n,i)=>g.jsxs(Y.div,{className:"tip-card",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7+i*.05},whileHover:{scale:1.05},children:[g.jsx("div",{className:"tip-number",children:i+1}),g.jsx("p",{children:n})]},i))})]}),g.jsxs(Y.div,{className:"impact-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[g.jsx("h3",{children:"¿Por qué es importante reciclar?"}),g.jsxs("div",{className:"impact-stats",children:[g.jsxs("div",{className:"impact-stat",children:[g.jsx("div",{className:"stat-value",children:"75%"}),g.jsx("p",{children:"de residuos son reciclables"})]}),g.jsxs("div",{className:"impact-stat",children:[g.jsx("div",{className:"stat-value",children:"95%"}),g.jsx("p",{children:"menos energía al reciclar aluminio"})]}),g.jsxs("div",{className:"impact-stat",children:[g.jsx("div",{className:"stat-value",children:"70%"}),g.jsx("p",{children:"menos contaminación del agua"})]})]})]})]})},vR=()=>{const{profile:e}=In(),[t,n]=C.useState([]),[i,s]=C.useState(!0),[o,l]=C.useState("all"),c=[{value:"all",label:"Todos",icon:av},{value:"cafe",label:"Cafeterías",icon:Hn},{value:"restaurant",label:"Restaurantes",icon:Hn},{value:"retail",label:"Tiendas",icon:Hn},{value:"services",label:"Servicios",icon:Hn}];C.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:y,error:_}=await nt.from("partner_stores").select("*").eq("is_active",!0).order("points_required",{ascending:!0});if(_)throw _;n(y||[])}catch(y){console.error("Error loading partner stores:",y)}finally{s(!1)}},d=o==="all"?t:t.filter(y=>y.category===o),m=y=>((e==null?void 0:e.total_points)||0)>=y,p=y=>({cafe:"☕",restaurant:"🍽️",retail:"🛒",services:"🔧"})[y]||"🏪";return i?g.jsx("div",{className:"rewards-page",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{className:"rewards-page",children:[g.jsxs(Y.div,{className:"rewards-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx(Hn,{size:32,color:"#f97316"}),g.jsxs("div",{children:[g.jsx("h1",{children:"Recompensas"}),g.jsx("p",{children:"Canjea tus puntos por descuentos en locales aliados"})]})]}),g.jsxs(Y.div,{className:"points-banner",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:[g.jsxs("div",{className:"banner-content",children:[g.jsx(To,{size:36}),g.jsxs("div",{children:[g.jsx("h2",{children:"Tus Puntos Disponibles"}),g.jsxs("div",{className:"points-value",children:[(e==null?void 0:e.total_points)||0," puntos"]})]})]}),g.jsx("p",{className:"banner-subtitle",children:"Sigue reciclando para ganar más puntos y desbloquear más recompensas"})]}),g.jsx("div",{className:"category-filter",children:c.map(y=>{const _=y.icon;return g.jsxs("button",{onClick:()=>l(y.value),className:`category-btn ${o===y.value?"active":""}`,children:[g.jsx(_,{size:20}),y.label]},y.value)})}),d.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx(av,{size:64,color:"#cbd5e1"}),g.jsx("h3",{children:"No hay tiendas en esta categoría"}),g.jsx("p",{children:"Selecciona otra categoría para ver más opciones"})]}):g.jsx("div",{className:"stores-grid",children:d.map((y,_)=>{const S=m(y.points_required);return g.jsxs(Y.div,{className:`store-card ${S?"available":"locked"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},whileHover:S?{scale:1.03,translateY:-4}:{},children:[g.jsx("div",{className:"store-badge",style:{background:S?"var(--primary-green)":"var(--text-muted)"},children:S?"Disponible":"Bloqueado"}),g.jsx("div",{className:"store-icon",children:p(y.category)}),g.jsx("h3",{children:y.name}),g.jsx("p",{className:"store-description",children:y.description}),g.jsxs("div",{className:"store-discount",children:[g.jsx(_j,{size:20}),g.jsx("span",{children:y.discount_description})]}),g.jsxs("div",{className:"store-address",children:[g.jsx(dn,{size:16}),g.jsx("span",{children:y.address})]}),g.jsxs("div",{className:"store-footer",children:[g.jsxs("div",{className:"points-required",children:[g.jsx(Hn,{size:18}),g.jsxs("span",{children:[y.points_required," puntos"]})]}),S?g.jsx("span",{className:"can-redeem",children:"✓ Puedes canjear"}):g.jsxs("span",{className:"cannot-redeem",children:["Necesitas ",y.points_required-((e==null?void 0:e.total_points)||0)," más"]})]})]},y.id)})}),g.jsxs(Y.div,{className:"rewards-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsx("h3",{children:"¿Cómo funciona?"}),g.jsxs("div",{className:"info-steps",children:[g.jsxs("div",{className:"info-step",children:[g.jsx("div",{className:"step-number",children:"1"}),g.jsxs("div",{children:[g.jsx("h4",{children:"Recicla y Gana Puntos"}),g.jsx("p",{children:"Completa recojos y acumula puntos por cada kilogramo reciclado"})]})]}),g.jsxs("div",{className:"info-step",children:[g.jsx("div",{className:"step-number",children:"2"}),g.jsxs("div",{children:[g.jsx("h4",{children:"Elige tu Recompensa"}),g.jsx("p",{children:"Selecciona el local aliado donde quieres usar tus puntos"})]})]}),g.jsxs("div",{className:"info-step",children:[g.jsx("div",{className:"step-number",children:"3"}),g.jsxs("div",{children:[g.jsx("h4",{children:"Muestra tu Perfil"}),g.jsx("p",{children:"Presenta tu perfil de EcoRecicla en el local para aplicar el descuento"})]})]})]})]})]})},yR=()=>{var y;const{profile:e}=In(),[t,n]=C.useState([]),[i,s]=C.useState([]),[o,l]=C.useState({totalPickups:0,completedPickups:0,carbonSaved:0,waterSaved:0});C.useEffect(()=>{e&&(c(),h(),d())},[e]);const c=async()=>{try{const{data:_,error:S}=await nt.from("achievements").select("*").order("points_required",{ascending:!0});if(S)throw S;n(_||[])}catch(_){console.error("Error loading achievements:",_)}},h=async()=>{try{const{data:_,error:S}=await nt.from("user_achievements").select("achievement_id").eq("user_id",e.id);if(S)throw S;s((_==null?void 0:_.map(k=>k.achievement_id))||[])}catch(_){console.error("Error loading user achievements:",_)}},d=async()=>{try{const{data:_}=await nt.from("pickups").select("*").eq("user_id",e.id),S=(_==null?void 0:_.length)||0,k=(_==null?void 0:_.filter(P=>P.status==="completed").length)||0,E=e.total_recycled_kg||0;l({totalPickups:S,completedPickups:k,carbonSaved:(E*2.5).toFixed(1),waterSaved:Math.round(E*15)})}catch(_){console.error("Error loading stats:",_)}},p=(_=>{const S={beginner:{icon:"🌱",label:"Principiante",color:"#86efac",progress:33,nextLevel:"Avanzado"},advanced:{icon:"🌿",label:"Avanzado",color:"#22c55e",progress:66,nextLevel:"Líder Verde"},leader:{icon:"🌳",label:"Líder Verde",color:"#16a34a",progress:100,nextLevel:"Máximo nivel"}};return S[_]||S.beginner})(e==null?void 0:e.eco_level);return g.jsxs("div",{className:"profile-page",children:[g.jsxs(Y.div,{className:"profile-hero",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx("div",{className:"profile-avatar",style:{background:p.color},children:g.jsx("span",{className:"avatar-icon",children:p.icon})}),g.jsxs("div",{className:"profile-info",children:[g.jsx("h1",{children:e==null?void 0:e.full_name}),g.jsxs("div",{className:"eco-level-badge",style:{background:p.color},children:[g.jsx("span",{children:p.icon}),g.jsx("span",{children:p.label})]})]})]}),g.jsxs("div",{className:"profile-grid",children:[g.jsxs(Y.div,{className:"profile-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[g.jsx("h2",{children:"Información Personal"}),g.jsxs("div",{className:"info-list",children:[g.jsxs("div",{className:"info-item",children:[g.jsx(bf,{size:20}),g.jsxs("div",{children:[g.jsx("label",{children:"Correo Electrónico"}),g.jsx("p",{children:e==null?void 0:e.id})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx(jl,{size:20}),g.jsxs("div",{children:[g.jsx("label",{children:"Teléfono"}),g.jsx("p",{children:e==null?void 0:e.phone})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx(Gw,{size:20}),g.jsxs("div",{children:[g.jsx("label",{children:"DNI"}),g.jsx("p",{children:e==null?void 0:e.dni})]})]}),(e==null?void 0:e.address)&&g.jsxs("div",{className:"info-item",children:[g.jsx(dn,{size:20}),g.jsxs("div",{children:[g.jsx("label",{children:"Dirección"}),g.jsx("p",{children:e.address})]})]})]})]}),g.jsxs(Y.div,{className:"profile-section",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[g.jsx("h2",{children:"Nivel Ecológico"}),g.jsxs("div",{className:"level-progress",children:[g.jsxs("div",{className:"level-header",children:[g.jsx("span",{className:"level-current",children:p.label}),g.jsxs("span",{className:"level-next",children:["Siguiente: ",p.nextLevel]})]}),g.jsx("div",{className:"progress-bar",children:g.jsx("div",{className:"progress-fill",style:{width:`${p.progress}%`,background:p.color}})}),g.jsx("p",{className:"level-description",children:"Sigue reciclando para avanzar al siguiente nivel"})]}),g.jsxs("div",{className:"points-display",children:[g.jsx(To,{size:28}),g.jsxs("div",{children:[g.jsx("h3",{children:(e==null?void 0:e.total_points)||0}),g.jsx("p",{children:"Puntos Acumulados"})]})]})]})]}),g.jsxs(Y.div,{className:"stats-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsx("h2",{children:"Tu Impacto Ambiental"}),g.jsxs("div",{className:"impact-grid",children:[g.jsxs("div",{className:"impact-card",children:[g.jsx(Je,{size:32}),g.jsxs("h3",{children:[((y=e==null?void 0:e.total_recycled_kg)==null?void 0:y.toFixed(1))||"0.0"," kg"]}),g.jsx("p",{children:"Material Reciclado"})]}),g.jsxs("div",{className:"impact-card",children:[g.jsx(Qn,{size:32}),g.jsx("h3",{children:o.completedPickups}),g.jsx("p",{children:"Recojos Completados"})]}),g.jsxs("div",{className:"impact-card",children:[g.jsx(To,{size:32}),g.jsxs("h3",{children:[o.carbonSaved," kg"]}),g.jsx("p",{children:"CO₂ Evitado"})]}),g.jsxs("div",{className:"impact-card",children:[g.jsx(Je,{size:32}),g.jsxs("h3",{children:[o.waterSaved," L"]}),g.jsx("p",{children:"Agua Ahorrada"})]})]})]}),g.jsxs(Y.div,{className:"achievements-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[g.jsxs("h2",{children:[g.jsx(qw,{size:28}),"Logros"]}),g.jsx("div",{className:"achievements-grid",children:t.map(_=>{const S=i.includes(_.id),k=((e==null?void 0:e.total_points)||0)>=_.points_required;return g.jsxs(Y.div,{className:`achievement-card ${S?"unlocked":k?"available":"locked"}`,whileHover:S?{scale:1.05}:{},children:[g.jsx("div",{className:"achievement-icon",children:S?"🏆":k?"⭐":"🔒"}),g.jsx("h3",{children:_.name}),g.jsx("p",{children:_.description}),g.jsxs("div",{className:"achievement-points",children:[_.points_required," puntos"]}),S&&g.jsx("div",{className:"unlocked-badge",children:"¡Desbloqueado!"})]},_.id)})})]})]})},dr=({children:e})=>{const{user:t,loading:n}=In();return n?g.jsx("div",{className:"loading-spinner"}):t?e:g.jsx(ff,{to:"/login"})},Dc=({children:e})=>{const{user:t,loading:n}=In();return n?g.jsx("div",{className:"loading-spinner"}):t?g.jsx(ff,{to:"/home"}):e};function _R(){return g.jsxs("div",{className:"app-container",children:[g.jsx(xj,{}),g.jsxs(xT,{children:[g.jsx(Ht,{path:"/",element:g.jsx(Dc,{children:g.jsx(q2,{})})}),g.jsx(Ht,{path:"/login",element:g.jsx(Dc,{children:g.jsx(K2,{})})}),g.jsx(Ht,{path:"/register",element:g.jsx(Dc,{children:g.jsx(G2,{})})}),g.jsx(Ht,{path:"/home",element:g.jsx(dr,{children:g.jsx(J2,{})})}),g.jsx(Ht,{path:"/map",element:g.jsx(dr,{children:g.jsx(pR,{})})}),g.jsx(Ht,{path:"/pickup",element:g.jsx(dr,{children:g.jsx(mR,{})})}),g.jsx(Ht,{path:"/learn",element:g.jsx(dr,{children:g.jsx(gR,{})})}),g.jsx(Ht,{path:"/rewards",element:g.jsx(dr,{children:g.jsx(vR,{})})}),g.jsx(Ht,{path:"/profile",element:g.jsx(dr,{children:g.jsx(yR,{})})}),g.jsx(Ht,{path:"*",element:g.jsx(ff,{to:"/"})})]})]})}function wR(){return g.jsx(CT,{children:g.jsx(rj,{children:g.jsx(_R,{})})})}zc.createRoot(document.getElementById("root")).render(g.jsx(no.StrictMode,{children:g.jsx(wR,{})}));
